2026-01-13 03:01:00 INFO  homeplanner.day_change_scheduler Checking for new day and performing task recalculation if needed
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] (1, 4, 5, 8, 9)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00036s] ('2026-01-13 03:01:00.006734', '2026-01-13 03:01:00.009747', 'last_task_update')
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 03:01:00 INFO  homeplanner.day_change_scheduler Day change processed: tasks recalculated and clients notified for 2026-01-13
2026-01-13 03:01:00 DEBUG homeplanner.day_change_scheduler Waiting 86400 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 03:01:00 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "day_changed", "new_day": "2026-01-13", "timestamp": "2026-01-13T03:01:00.054965"}
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 03:01:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  homeplanner.users Starting query for all users
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ('last_task_update', 1, 0)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00090s] ()
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00148s] ()
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 0.001804s ago] ()
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00092s] (1, 2, 3)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 03:01:00 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 03:01:00 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 03:01:00 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 03:01:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ('last_task_update', 1, 0)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 07:53:45 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ('last_task_update', 1, 0)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ()
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] (12, 2, 6, 10, 3, 7, 11)
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 7 tasks in database
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=12, title='Future Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-13 07:53:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 7 tasks to client
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ('last_task_update', 1, 0)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 07:53:45 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 07:53:45 INFO  homeplanner.users Starting query for simple users
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ()
2026-01-13 07:53:45 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 07:53:45 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ('last_task_update', 1, 0)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine [cached since 2.856e+04s ago] ()
2026-01-13 07:53:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  homeplanner.realtime WS disconnect: id=140684612658736, total=0
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:52 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 20:03:52 INFO  homeplanner.users Starting query for all users
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ()
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] (1, 2, 3)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:52 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 20:03:52 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:52 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 20:03:52 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 20:03:52 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:03:52 INFO  homeplanner.realtime WS connect: id=140684612230016 host=192.168.1.2 port=36642 total=1
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00045s] (2, 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (2,)
2026-01-13 20:03:54 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] (1, '2026-01-13 20:03:54.625472', 2)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] (2,)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00028s] (2,)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00034s] (2, 'CONFIRMED', '2026-01-13 20:03:54.673080', '2026-01-11 09:00:00.000000', None, None)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00028s] (350,)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [generated in 0.00040s] (2,)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 0.06402s ago] (2,)
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP complete: task_id=2
2026-01-13 20:03:54 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=2
2026-01-13 20:03:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 2, 'task': {'title': 'Daily Recurring Task', 'description': 'A recurring task every day', 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 1, 'interval_days': None, 'reminder_time': '2026-01-11T09:00:00', 'group_id': None, 'id': 2, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T10:50:38.285629', 'updated_at': '2026-01-13T20:03:54.625472', 'readable_config': 'в 09:00 каждый день', 'assigned_user_ids': [], 'assignees': []}}
2026-01-13 20:03:54 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 2, "task": {"title": "Daily Recurring Task", "description": "A recurring task every day", "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 1, "interval_days": null, "reminder_time": "2026-01-11T09:00:00", "group_id": null, "id": 2, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T10:50:38.285629", "updated_at": "2026-01-13T20:03:54.625472", "readable_config": "в 09:00 каждый день", "assigned_user_ids": [], "assignees": []}}
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 20:03:54 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  homeplanner.users Starting query for all users
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] (1, 2, 3)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:54 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 20:03:54 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ()
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 20:03:54 INFO  homeplanner.users Starting query for all users
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] (1, 2, 3)
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:54 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:54 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 20:03:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 20:03:54 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 20:03:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.215s ago] (6, 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (6,)
2026-01-13 20:03:55 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.216s ago] (1, '2026-01-13 20:03:55.840685', 6)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.214s ago] (6,)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.214s ago] (6,)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.213s ago] (6, 'CONFIRMED', '2026-01-13 20:03:55.886861', '2026-01-11 09:00:00.000000', None, None)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.192s ago] (351,)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.192s ago] (6,)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 1.256s ago] (6,)
2026-01-13 20:03:55 INFO  homeplanner.tasks HTTP complete: task_id=6
2026-01-13 20:03:55 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=6
2026-01-13 20:03:55 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 6, 'task': {'title': 'Daily Recurring Task', 'description': 'A recurring task every day', 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 1, 'interval_days': None, 'reminder_time': '2026-01-11T09:00:00', 'group_id': None, 'id': 6, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:40.897894', 'updated_at': '2026-01-13T20:03:55.840685', 'readable_config': 'в 09:00 каждый день', 'assigned_user_ids': [], 'assignees': []}}
2026-01-13 20:03:55 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 6, "task": {"title": "Daily Recurring Task", "description": "A recurring task every day", "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 1, "interval_days": null, "reminder_time": "2026-01-11T09:00:00", "group_id": null, "id": 6, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:40.897894", "updated_at": "2026-01-13T20:03:55.840685", "readable_config": "в 09:00 каждый день", "assigned_user_ids": [], "assignees": []}}
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 20:03:55 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 20:03:55 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  homeplanner.users Starting query for all users
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ()
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:55 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] (1, 2, 3)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 20:03:56 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:56 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ()
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:56 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:03:56 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:56 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-13 20:03:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:56 INFO  homeplanner.users Starting query for all users
2026-01-13 20:03:56 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 4 task IDs for user 1
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] ('last_task_update', 1, 0)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] (1, 2, 3)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine [cached since 7.237e+04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-13 20:03:56 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-13 20:03:56 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-13 20:03:56 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-13 20:03:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-13 20:03:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:07:01 INFO  homeplanner.realtime WS disconnect: id=140684612230016, total=0
2026-01-13 20:07:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:07:02 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:07:02 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:07:02 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:07:02 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:07:02 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:07:02 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:07:02 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:07:02 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:07:02 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:07:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:02 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:07:02 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:07:02 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:07:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:07:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:07:02 DEBUG homeplanner.day_change_scheduler Waiting 24837 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:07:03 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:07:03 INFO  homeplanner.realtime WS connect: id=139830320997696 host=192.168.1.2 port=35812 total=1
2026-01-13 20:07:09 INFO  homeplanner.realtime WS disconnect: id=139830320997696, total=0
2026-01-13 20:07:09 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:07:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:07:10 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:07:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:07:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:07:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:07:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:07:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:07:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:07:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:07:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:10 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:07:10 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:07:10 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:07:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:07:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:07:10 DEBUG homeplanner.day_change_scheduler Waiting 24829 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:07:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:07:11 INFO  homeplanner.realtime WS connect: id=140505824192096 host=192.168.1.2 port=58506 total=1
2026-01-13 20:07:15 INFO  homeplanner.realtime WS disconnect: id=140505824192096, total=0
2026-01-13 20:07:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:07:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:07:16 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:07:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:07:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:07:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:07:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:07:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:07:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:07:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:07:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:16 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:07:16 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:07:16 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:07:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:07:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:07:16 DEBUG homeplanner.day_change_scheduler Waiting 24823 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:07:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:07:17 INFO  homeplanner.realtime WS connect: id=140256345860592 host=192.168.1.2 port=39936 total=1
2026-01-13 20:07:25 INFO  homeplanner.realtime WS disconnect: id=140256345860592, total=0
2026-01-13 20:07:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:07:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:07:26 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:07:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:07:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:07:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:07:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:07:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:07:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:07:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:07:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:07:26 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:07:26 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:07:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:07:26 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:07:26 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:07:26 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:07:26 DEBUG homeplanner.day_change_scheduler Waiting 24813 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:07:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:07:27 INFO  homeplanner.realtime WS connect: id=139676452973952 host=192.168.1.2 port=58656 total=1
2026-01-13 20:08:48 INFO  homeplanner.realtime WS disconnect: id=139676452973952, total=0
2026-01-13 20:08:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:08:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:08:49 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:08:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:08:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:08:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:08:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:08:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:08:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:08:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:08:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:08:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:08:49 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:08:49 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:08:49 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:08:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:08:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:08:49 DEBUG homeplanner.day_change_scheduler Waiting 24730 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:08:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:08:50 INFO  homeplanner.realtime WS connect: id=140414673520016 host=192.168.1.2 port=45904 total=1
2026-01-13 20:08:56 INFO  homeplanner.realtime WS disconnect: id=140414673520016, total=0
2026-01-13 20:08:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:08:57 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:08:57 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:08:57 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:08:57 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:08:57 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:08:57 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:08:57 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:08:57 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:08:57 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:08:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:08:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:08:57 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:08:57 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:08:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:08:57 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:08:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:08:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:08:57 DEBUG homeplanner.day_change_scheduler Waiting 24722 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:08:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:08:58 INFO  homeplanner.realtime WS connect: id=140625098500112 host=192.168.1.2 port=58762 total=1
2026-01-13 20:09:04 INFO  homeplanner.realtime WS disconnect: id=140625098500112, total=0
2026-01-13 20:09:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:09:05 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:09:05 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:09:05 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:09:05 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:09:05 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:09:05 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:09:05 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:09:05 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:09:05 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:09:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:05 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:09:05 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:09:05 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:09:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:09:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:09:05 DEBUG homeplanner.day_change_scheduler Waiting 24715 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:09:06 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:09:06 INFO  homeplanner.realtime WS connect: id=140235704928496 host=192.168.1.2 port=33186 total=1
2026-01-13 20:09:12 INFO  homeplanner.realtime WS disconnect: id=140235704928496, total=0
2026-01-13 20:09:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:09:13 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:09:13 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:09:13 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:09:13 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:09:13 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:09:13 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:09:13 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:09:13 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:09:13 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:09:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:14 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:09:14 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:09:14 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:09:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:09:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:09:14 DEBUG homeplanner.day_change_scheduler Waiting 24706 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:09:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:09:14 INFO  homeplanner.realtime WS connect: id=139944408417824 host=192.168.1.2 port=59906 total=1
2026-01-13 20:09:23 INFO  homeplanner.realtime WS disconnect: id=139944408417824, total=0
2026-01-13 20:09:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 20:09:24 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 20:09:24 INFO  homeplanner.system uvicorn level: 10
2026-01-13 20:09:24 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 20:09:24 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 20:09:24 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 20:09:24 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 20:09:24 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 20:09:24 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 20:09:24 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 20:09:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:25 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 20:09:25 INFO  homeplanner.database Initializing database tables...
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 20:09:25 INFO  homeplanner.database Database tables created successfully
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 20:09:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 20:09:25 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 20:09:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 20:09:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 20:09:25 DEBUG homeplanner.day_change_scheduler Waiting 24695 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 20:09:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 20:09:25 INFO  homeplanner.realtime WS connect: id=140335201502320 host=192.168.1.2 port=59204 total=1
2026-01-13 22:06:16 INFO  homeplanner.realtime WS disconnect: id=140335201502320, total=0
2026-01-13 22:06:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 22:06:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 22:06:17 INFO  homeplanner.system uvicorn level: 10
2026-01-13 22:06:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 22:06:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 22:06:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 22:06:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 22:06:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 22:06:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 22:06:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 22:06:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 22:06:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 22:06:17 INFO  homeplanner.database Initializing database tables...
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 22:06:17 INFO  homeplanner.database Database tables created successfully
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:06:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:06:17 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 22:06:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 22:06:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 22:06:17 DEBUG homeplanner.day_change_scheduler Waiting 17682 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 22:06:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 22:06:18 INFO  homeplanner.realtime WS connect: id=140685856589488 host=192.168.1.2 port=37040 total=1
2026-01-13 22:08:22 INFO  homeplanner.realtime WS disconnect: id=140685856589488, total=0
2026-01-13 22:08:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 22:08:23 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 22:08:23 INFO  homeplanner.system uvicorn level: 10
2026-01-13 22:08:23 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 22:08:23 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 22:08:23 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 22:08:23 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 22:08:23 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 22:08:23 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 22:08:23 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 22:08:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 22:08:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 22:08:23 INFO  homeplanner.database Initializing database tables...
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 22:08:23 INFO  homeplanner.database Database tables created successfully
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 22:08:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:08:23 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 22:08:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 22:08:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 22:08:23 DEBUG homeplanner.day_change_scheduler Waiting 17556 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 22:08:24 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 22:08:24 INFO  homeplanner.realtime WS connect: id=140240463316128 host=192.168.1.2 port=43778 total=1
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine [generated in 0.00052s] ('last_task_update', 1, 0)
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:28 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 22:56:28 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine [cached since 0.008316s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-13 22:56:28 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 22:56:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:28 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.1538s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.1922s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 22:56:29 INFO  homeplanner.users Starting query for simple users
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [generated in 0.00047s] ()
2026-01-13 22:56:29 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 22:56:29 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.6819s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 22:56:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.6849s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.6732s ago] ()
2026-01-13 22:56:29 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.7139s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.5595s ago] ()
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.7366s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:29 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 22:56:29 INFO  homeplanner.users Starting query for simple users
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine [cached since 0.5429s ago] ()
2026-01-13 22:56:29 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 22:56:29 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 22:56:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine [cached since 15.64s ago] ('last_task_update', 1, 0)
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 22:56:44 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 22:56:44 INFO  homeplanner.users Starting query for simple users
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine [cached since 15.44s ago] ()
2026-01-13 22:56:44 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 22:56:44 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 22:56:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:05:17 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:05:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:05:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:05:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:05:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:05:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:05:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:05:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:05:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:05:17 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.7s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:33 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:07:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.7s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.7s ago] ()
2026-01-13 23:07:33 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:33 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.7s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.6s ago] ()
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.8s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:33 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:07:33 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine [cached since 664.6s ago] ()
2026-01-13 23:07:33 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:07:33 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:07:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.4s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:07:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.4s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.4s ago] ()
2026-01-13 23:07:34 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.5s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.3s ago] ()
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.5s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:34 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:07:34 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine [cached since 665.3s ago] ()
2026-01-13 23:07:34 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:07:34 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine [cached since 669.3s ago] ('last_task_update', 1, 0)
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:38 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:07:38 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine [cached since 669.1s ago] ()
2026-01-13 23:07:38 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:07:38 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:07:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:14:17 INFO  homeplanner.realtime WS connect: id=140240468310400 host=192.168.1.39 port=37908 total=2
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:14:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ()
2026-01-13 23:14:17 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ()
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:17 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:14:17 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine [cached since 1069s ago] ()
2026-01-13 23:14:17 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:14:17 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:14:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:14:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ()
2026-01-13 23:14:18 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ()
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:18 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:14:18 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine [cached since 1070s ago] ()
2026-01-13 23:14:18 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:14:18 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:14:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine [cached since 1083s ago] ('last_task_update', 1, 0)
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:32 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:14:32 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine [cached since 1083s ago] ()
2026-01-13 23:14:32 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:14:32 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:14:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:16:24 INFO  sqlalchemy.engine.Engine [cached since 1195s ago] ('last_task_update', 1, 0)
2026-01-13 23:16:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:16:28 INFO  sqlalchemy.engine.Engine [cached since 1199s ago] ('last_task_update', 1, 0)
2026-01-13 23:16:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:16:46 INFO  sqlalchemy.engine.Engine [cached since 1218s ago] ('last_task_update', 1, 0)
2026-01-13 23:16:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:51 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:16:51 INFO  sqlalchemy.engine.Engine [cached since 1222s ago] ('last_task_update', 1, 0)
2026-01-13 23:16:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:17:15 INFO  homeplanner.realtime WS disconnect: id=140240463316128, total=1
2026-01-13 23:17:15 INFO  homeplanner.realtime WS disconnect: id=140240468310400, total=0
2026-01-13 23:17:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:32:09 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:32:09 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:32:09 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:32:09 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:32:09 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:32:09 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:32:09 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:32:09 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:32:09 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:32:09 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:32:09 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:32:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:32:10 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:32:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:32:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:32:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:32:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:32:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:32:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:32:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:32:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:32:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:32:11 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:32:11 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:32:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:32:11 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:32:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:32:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:32:11 DEBUG homeplanner.day_change_scheduler Waiting 12529 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:32:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:32:11 INFO  homeplanner.realtime WS connect: id=140507540305776 host=192.168.1.2 port=49648 total=1
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] ('last_task_update', 1, 0)
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:32:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:32:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine [cached since 0.004773s ago] ('last_task_update', 1, 0)
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] ()
2026-01-13 23:32:32 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:32:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:32:32 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:32:57 DEBUG watchfiles.main 1 change detected: {(<Change.modified: 2>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic.ini')}
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine [cached since 36.28s ago] ('last_task_update', 1, 0)
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:33:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:33:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine [cached since 36.28s ago] ('last_task_update', 1, 0)
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine [cached since 36.28s ago] ()
2026-01-13 23:33:09 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:33:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:33:09 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:33:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:33:14 INFO  homeplanner.realtime WS connect: id=140507533819536 host=192.168.1.39 port=49978 total=2
2026-01-13 23:41:53 INFO  homeplanner.realtime WS disconnect: id=140507533819536, total=1
2026-01-13 23:41:53 INFO  homeplanner.realtime WS disconnect: id=140507540305776, total=0
2026-01-13 23:41:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:41:56 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:41:56 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:41:56 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:41:56 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:41:56 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:41:56 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:41:56 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:41:56 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:41:56 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:41:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:41:56 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:41:57 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:41:57 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:41:57 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:41:57 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:41:57 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:41:57 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:41:57 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:41:57 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:41:57 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:41:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:41:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:41:57 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:41:57 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:41:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:41:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:41:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:41:57 DEBUG homeplanner.day_change_scheduler Waiting 11943 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:41:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:41:58 INFO  homeplanner.realtime WS connect: id=139831337485712 host=192.168.1.2 port=51838 total=1
2026-01-13 23:41:59 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:41:59 INFO  homeplanner.realtime WS connect: id=139831332067936 host=192.168.1.39 port=48564 total=2
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine [generated in 0.00033s] ('last_task_update', 1, 0)
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:42:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine [cached since 0.006504s ago] ('last_task_update', 1, 0)
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ()
2026-01-13 23:42:10 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:42:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:10 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:43:45 DEBUG watchfiles.main 2 changes detected: {(<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db.backup'), (<Change.deleted: 3>, '/mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db')}
2026-01-13 23:43:49 INFO  homeplanner.realtime WS disconnect: id=139831332067936, total=1
2026-01-13 23:43:49 INFO  homeplanner.realtime WS disconnect: id=139831337485712, total=0
2026-01-13 23:43:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:44:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:44:49 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:44:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:44:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:44:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:44:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:44:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:44:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:44:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:44:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:44:50 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:44:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:44:51 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:44:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:44:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:44:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:44:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:44:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:44:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:44:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:44:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:44:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:44:51 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:44:51 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:44:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:44:51 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:44:51 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:44:51 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:44:51 DEBUG homeplanner.day_change_scheduler Waiting 11769 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:44:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:44:52 INFO  homeplanner.realtime WS connect: id=139691286430400 host=192.168.1.39 port=49934 total=1
2026-01-13 23:44:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:44:52 INFO  homeplanner.realtime WS connect: id=139691286436496 host=192.168.1.2 port=57844 total=2
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine [generated in 0.00033s] ('last_task_update', 1, 0)
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:45:18 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:45:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine [cached since 0.006314s ago] ('last_task_update', 1, 0)
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-13 23:45:18 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:45:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:45:18 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:45:39 DEBUG watchfiles.main 4 changes detected: {(<Change.deleted: 3>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc.140390427258432'), (<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py'), (<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc.140390427258432'), (<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc')}
2026-01-13 23:45:39 WARNING homeplanner.system WatchFiles detected changes in 'backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py'. Reloading...
2026-01-13 23:45:39 INFO  homeplanner.realtime WS disconnect: id=139691286436496, total=1
2026-01-13 23:45:39 INFO  homeplanner.realtime WS disconnect: id=139691286430400, total=0
2026-01-13 23:45:39 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:45:40 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:45:40 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:45:40 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:45:40 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:45:40 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:45:40 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:45:40 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:45:40 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:45:40 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:45:40 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:41 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:45:41 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:45:41 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:45:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:45:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:45:41 DEBUG homeplanner.day_change_scheduler Waiting 11719 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:45:41 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:45:41 INFO  homeplanner.realtime WS connect: id=139678513463216 host=192.168.1.39 port=47544 total=1
2026-01-13 23:45:42 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:45:42 INFO  homeplanner.realtime WS connect: id=139678513616928 host=192.168.1.2 port=46862 total=2
2026-01-13 23:45:48 DEBUG watchfiles.main 1 change detected: {(<Change.modified: 2>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py')}
2026-01-13 23:45:48 WARNING homeplanner.system WatchFiles detected changes in 'backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py'. Reloading...
2026-01-13 23:45:48 INFO  homeplanner.realtime WS disconnect: id=139678513463216, total=1
2026-01-13 23:45:48 INFO  homeplanner.realtime WS disconnect: id=139678513616928, total=0
2026-01-13 23:45:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:45:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:45:49 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:45:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:45:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:45:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:45:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:45:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:45:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:45:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:45:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:50 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:45:50 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:50 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:45:50 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:45:50 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:45:50 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:45:50 DEBUG homeplanner.day_change_scheduler Waiting 11710 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:45:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:45:50 INFO  homeplanner.realtime WS connect: id=140160390758320 host=192.168.1.39 port=39334 total=1
2026-01-13 23:45:51 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:45:51 INFO  homeplanner.realtime WS connect: id=140160390911984 host=192.168.1.2 port=52790 total=2
2026-01-13 23:45:54 DEBUG watchfiles.main 1 change detected: {(<Change.modified: 2>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py')}
2026-01-13 23:45:54 WARNING homeplanner.system WatchFiles detected changes in 'backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py'. Reloading...
2026-01-13 23:45:54 INFO  homeplanner.realtime WS disconnect: id=140160390911984, total=1
2026-01-13 23:45:54 INFO  homeplanner.realtime WS disconnect: id=140160390758320, total=0
2026-01-13 23:45:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:45:55 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:45:55 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:45:55 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:45:55 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:45:55 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:45:55 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:45:55 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:45:55 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:45:55 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:45:55 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:55 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:45:55 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:45:55 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:45:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:45:55 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:45:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:45:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:45:55 DEBUG homeplanner.day_change_scheduler Waiting 11705 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:45:56 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:45:56 INFO  homeplanner.realtime WS connect: id=140581640700224 host=192.168.1.39 port=38306 total=1
2026-01-13 23:45:56 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:45:56 INFO  homeplanner.realtime WS connect: id=140581640706128 host=192.168.1.2 port=55288 total=2
2026-01-13 23:46:09 DEBUG watchfiles.main 3 changes detected: {(<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc'), (<Change.deleted: 3>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc.140263923857728'), (<Change.added: 1>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/__pycache__/daffc3d11674_add_alarm_fields_to_existing_tasks_table.cpython-312.pyc.140263923857728')}
2026-01-13 23:46:15 DEBUG watchfiles.main 1 change detected: {(<Change.deleted: 3>, '/mnt/ZFS/Dev/HomePlanner/backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py')}
2026-01-13 23:46:15 WARNING homeplanner.system WatchFiles detected changes in 'backend/alembic/versions/daffc3d11674_add_alarm_fields_to_existing_tasks_table.py'. Reloading...
2026-01-13 23:46:15 INFO  homeplanner.realtime WS disconnect: id=140581640706128, total=1
2026-01-13 23:46:15 INFO  homeplanner.realtime WS disconnect: id=140581640700224, total=0
2026-01-13 23:46:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:46:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:46:16 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:46:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:46:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:46:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:46:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:46:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:46:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:46:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:46:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:46:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:46:16 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:46:16 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:46:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:46:16 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:46:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:46:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:46:16 DEBUG homeplanner.day_change_scheduler Waiting 11683 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:46:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:46:17 INFO  homeplanner.realtime WS connect: id=139637751234832 host=192.168.1.39 port=40250 total=1
2026-01-13 23:46:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:46:17 INFO  homeplanner.realtime WS connect: id=139637751241072 host=192.168.1.2 port=35570 total=2
2026-01-13 23:47:11 INFO  homeplanner.realtime WS disconnect: id=139637751234832, total=1
2026-01-13 23:47:11 INFO  homeplanner.realtime WS disconnect: id=139637751241072, total=0
2026-01-13 23:47:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:54:44 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:54:44 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:54:44 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:54:44 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:54:44 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:54:44 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:54:44 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:54:44 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:54:44 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:54:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:54:44 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:54:45 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:54:45 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:54:45 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:54:45 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:54:45 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:54:45 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:54:45 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:54:45 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:54:45 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:54:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:54:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:54:45 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:54:45 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:54:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:45 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:54:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:54:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:54:45 DEBUG homeplanner.day_change_scheduler Waiting 11174 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:54:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:54:50 INFO  homeplanner.realtime WS connect: id=140014996407216 host=192.168.1.2 port=37310 total=1
2026-01-13 23:54:55 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:54:55 INFO  homeplanner.realtime WS connect: id=140014996412640 host=192.168.1.39 port=40744 total=2
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [generated in 0.00034s] ('last_task_update', 1, 0)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:55 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:54:55 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [cached since 0.006117s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-13 23:54:55 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:55 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [cached since 0.04735s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [generated in 0.00025s] ()
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [cached since 0.06443s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:55 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:54:55 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine [generated in 0.00024s] ()
2026-01-13 23:54:55 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:54:55 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:54:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7018s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:54:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7085s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7004s ago] ()
2026-01-13 23:54:56 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7517s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7049s ago] ()
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7753s ago] ('last_task_update', 1, 0)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:54:56 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:54:56 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine [cached since 0.7139s ago] ()
2026-01-13 23:54:56 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:54:56 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:54:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine [cached since 5.574s ago] ('last_task_update', 1, 0)
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:55:01 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:55:01 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine [cached since 5.509s ago] ()
2026-01-13 23:55:01 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:55:01 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:55:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine [cached since 34.51s ago] ('last_task_update', 1, 0)
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:55:30 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:55:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine [cached since 34.52s ago] ('last_task_update', 1, 0)
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine [cached since 34.51s ago] ()
2026-01-13 23:55:30 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:55:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:55:30 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:55:50 INFO  homeplanner.realtime WS disconnect: id=140014996407216, total=1
2026-01-13 23:55:50 INFO  homeplanner.realtime WS disconnect: id=140014996412640, total=0
2026-01-13 23:55:50 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-13 23:56:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:56:10 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:56:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:56:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:56:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:56:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:56:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:56:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:56:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:56:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:56:10 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-13 23:56:11 INFO  homeplanner.system uvicorn.access level: 30
2026-01-13 23:56:11 INFO  homeplanner.system uvicorn level: 10
2026-01-13 23:56:11 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-13 23:56:11 INFO  homeplanner.system uvicorn handlers: []
2026-01-13 23:56:11 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-13 23:56:11 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-13 23:56:11 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-13 23:56:11 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-13 23:56:11 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-13 23:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-13 23:56:11 INFO  homeplanner.database Initializing database tables...
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-13 23:56:11 INFO  homeplanner.database Database tables created successfully
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:11 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-13 23:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-13 23:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-13 23:56:11 DEBUG homeplanner.day_change_scheduler Waiting 11088 seconds until next day check at 2026-01-14 03:01:00
2026-01-13 23:56:13 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-13 23:56:13 INFO  homeplanner.realtime WS connect: id=139902288135664 host=192.168.1.2 port=37374 total=1
2026-01-13 23:56:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-13 23:56:15 INFO  homeplanner.realtime WS connect: id=139902288140992 host=192.168.1.39 port=48204 total=2
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] ('last_task_update', 1, 0)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:16 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [cached since 0.006117s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-13 23:56:16 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:16 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [cached since 0.09667s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [cached since 0.1124s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:16 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:56:16 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine [generated in 0.00022s] ()
2026-01-13 23:56:16 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:56:16 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:56:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.7214s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.7279s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.7198s ago] ()
2026-01-13 23:56:17 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.7697s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.6708s ago] ()
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.7873s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:17 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:56:17 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine [cached since 0.6742s ago] ()
2026-01-13 23:56:17 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:56:17 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:56:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine [cached since 3.965s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:20 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-13 23:56:20 INFO  homeplanner.users Starting query for simple users
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine [cached since 3.853s ago] ()
2026-01-13 23:56:20 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-13 23:56:20 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-13 23:56:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine [cached since 26.72s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:43 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine [cached since 26.72s ago] ('last_task_update', 1, 0)
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine [cached since 26.71s ago] ()
2026-01-13 23:56:43 ERROR homeplanner.tasks get_tasks: [SERVER ERROR] Exception occurred: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:56:43 ERROR homeplanner.system Unhandled exception in FastAPI app: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: tasks.alarm

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 130, in get_tasks
    tasks = TaskService.get_all_tasks(db, enabled_only=enabled_only)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 262, in get_all_tasks
    return query.order_by(Task.reminder_time).all()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: tasks.alarm
[SQL: SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.alarm_time AS tasks_alarm_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-13 23:56:55 INFO  homeplanner.realtime WS disconnect: id=139902288135664, total=1
2026-01-13 23:56:55 INFO  homeplanner.realtime WS disconnect: id=139902288140992, total=0
2026-01-13 23:56:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
