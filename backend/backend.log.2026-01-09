2026-01-09 00:35:19 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine [cached since 7914s ago] ('last_task_update', 1, 0)
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine [generated in 0.00024s] ()
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine [cached since 7914s ago] (2, 6, 10, 3, 7, 8, 11, 12)
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:35:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 00:35:19 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 00:35:19 INFO  homeplanner.users Starting query for simple users
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine [generated in 0.00050s] ()
2026-01-09 00:35:19 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 00:35:19 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 00:35:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 00:35:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:35:20 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 00:35:20 INFO  sqlalchemy.engine.Engine [cached since 7915s ago] ()
2026-01-09 00:35:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 00:50:20 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine [cached since 8815s ago] ('last_task_update', 1, 0)
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine [cached since 900.4s ago] ()
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine [cached since 8815s ago] (2, 6, 10, 3, 7, 8, 11, 12)
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 00:50:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 00:50:20 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 00:50:20 INFO  homeplanner.users Starting query for simple users
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine [cached since 900.3s ago] ()
2026-01-09 00:50:20 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 00:50:20 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine [cached since 8815s ago] ()
2026-01-09 00:50:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 01:05:20 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine [cached since 9715s ago] ('last_task_update', 1, 0)
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] ()
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine [cached since 9715s ago] (2, 6, 10, 3, 7, 8, 11, 12)
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 01:05:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 01:05:20 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 01:05:20 INFO  homeplanner.users Starting query for simple users
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] ()
2026-01-09 01:05:20 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 01:05:20 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine [cached since 9715s ago] ()
2026-01-09 01:05:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:25 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:25 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:25 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 11:12:25 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:25 INFO  homeplanner.users Starting query for all users
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [generated in 0.00203s] ()
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 0.002689s ago] ()
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 2, 3)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 2, 3, 4, 5, 6, 9, 10, 11)
2026-01-09 11:12:25 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:25 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 2, 3, 4, 5, 6, 9, 10, 11)
2026-01-09 11:12:25 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [generated in 0.00216s] ('2026-01-09 11:12:25.938262', '2026-01-09 11:12:25.955848', 'last_task_update')
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 0.002436s ago] ('2026-01-09 11:12:25.940724', '2026-01-09 11:12:25.957654', 'last_task_update')
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [generated in 0.00039s] [('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:25.959977', 2), ('2026-01-15 09:00:00.000000', 0, '2026-01-09 11:12:25.959987', 3), ('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:25.959992', 6), ('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:25.959996', 10), ('2026-01-15 09:00:00.000000', 0, '2026-01-09 11:12:25.960000', 11)]
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:25 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 11:12:26 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:26 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:26 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine [cached since 0.06265s ago] [('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:26.022164', 2), ('2026-01-15 09:00:00.000000', 0, '2026-01-09 11:12:26.022187', 3), ('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:26.022204', 6), ('2026-01-10 09:00:00.000000', 0, '2026-01-09 11:12:26.022211', 10), ('2026-01-15 09:00:00.000000', 0, '2026-01-09 11:12:26.022215', 11)]
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 11:12:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:29 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:29 INFO  homeplanner.users Starting query for all users
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] ()
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 2, 3)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:29 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 11:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 11:12:29 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 11:12:29 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine [cached since 4.614e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 11:12:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:12:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:31 INFO  homeplanner.users Starting query for all users
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ()
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ()
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ()
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] ()
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] (1, 2, 3)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:12:31 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine [cached since 4.615e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:12:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:31 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 11:12:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:25:25 INFO  homeplanner.realtime WS disconnect: id=139823333940576, total=0
2026-01-09 11:25:26 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 11:25:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:25:26 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 11:25:26 INFO  homeplanner.users Starting query for all users
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ()
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ('last_task_update', 1, 0)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ()
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ()
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] ()
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] (1, 2, 3)
2026-01-09 11:25:26 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 11:25:26 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 11:25:26 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine [cached since 4.692e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:25:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 11:25:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 11:25:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 11:25:26 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 11:25:26 INFO  homeplanner.realtime WS connect: id=139823333934240 host=192.168.1.2 port=60354 total=1
2026-01-09 12:38:33 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 12:38:33 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:33 INFO  homeplanner.users Starting query for all users
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 2, 3)
2026-01-09 12:38:33 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 12:38:33 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:38:33 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:38:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 12:38:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 12:38:36 INFO  homeplanner.realtime WS disconnect: id=139823333934240, total=0
2026-01-09 12:38:36 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:38:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:38:36 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:36 INFO  homeplanner.users Starting query for all users
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] ()
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 2, 3)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:38:36 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:38:36 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine [cached since 5.131e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:38:36 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 12:38:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:38:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 12:38:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 12:38:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 12:38:36 INFO  homeplanner.realtime WS connect: id=139823341391024 host=192.168.1.2 port=51866 total=1
2026-01-09 12:40:19 INFO  homeplanner.realtime WS disconnect: id=139823341391024, total=0
2026-01-09 12:40:20 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 12:40:20 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ('last_task_update', 1, 0)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ()
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ()
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:40:20 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 12:40:20 INFO  homeplanner.users Starting query for all users
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ()
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] ()
2026-01-09 12:40:20 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 12:40:20 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine [cached since 5.141e+04s ago] (1, 2, 3)
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 12:40:20 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 12:40:20 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 12:40:20 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 12:40:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 12:40:20 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 12:40:20 INFO  homeplanner.realtime WS connect: id=139823333944944 host=192.168.1.2 port=59838 total=1
2026-01-09 12:42:06 INFO  homeplanner.realtime WS disconnect: id=139823333944944, total=0
2026-01-09 13:14:32 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:14:32 INFO  homeplanner.users Starting query for all users
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine [cached since 5.347e+04s ago] ()
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine [cached since 5.347e+04s ago] (1, 2, 3)
2026-01-09 13:14:32 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:14:32 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:14:32 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:14:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:14:35 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:14:35 INFO  homeplanner.users Starting query for all users
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine [cached since 5.347e+04s ago] ()
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine [cached since 5.347e+04s ago] (1, 2, 3)
2026-01-09 13:14:35 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:14:35 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:14:35 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:14:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:15:18 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:15:18 INFO  homeplanner.users Starting query for all users
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine [cached since 5.351e+04s ago] ()
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine [cached since 5.351e+04s ago] (1, 2, 3)
2026-01-09 13:15:18 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:15:18 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:15:18 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:15:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:09 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:09 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:09 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ()
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ()
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ()
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] (1, 2, 3)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] ()
2026-01-09 13:17:09 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:09 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:09 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine [cached since 5.362e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:09 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:10 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 13:17:10 INFO  homeplanner.realtime WS connect: id=139823341451072 host=192.168.1.2 port=34884 total=1
2026-01-09 13:17:26 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:26 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:26 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 2, 3)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:26 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:26 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:26 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:29 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:29 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 2, 3)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:29 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:29 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:29 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00076s] (4, 1, 0)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (4,)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00075s] (4, 'CONFIRMED', 1, 0)
2026-01-09 13:17:30 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00062s] (1, 0, '2026-01-09 13:17:30.197268', 4)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] (4,)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] (4,)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00034s] (4, 'UNCONFIRMED', '2026-01-09 13:17:30.249224', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] (288,)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [generated in 0.00033s] (4,)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 0.04071s ago] (4,)
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP uncomplete: task_id=4
2026-01-09 13:17:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 4}
2026-01-09 13:17:30 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 4}
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 2, 3)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:30 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:30 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 2, 3)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:30 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:30 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:30 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] ()
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine [cached since 5.364e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8439s ago] (8, 1, 0)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (8,)
2026-01-09 13:17:31 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8345s ago] (0, 1, '2026-01-09 13:17:31.031159', 8)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8331s ago] (8,)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.831s ago] (8,)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8297s ago] (8, 'CONFIRMED', '2026-01-09 13:17:31.079781', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8534s ago] (289,)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8522s ago] (8,)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 0.8923s ago] (8,)
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP complete: task_id=8
2026-01-09 13:17:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 8}
2026-01-09 13:17:31 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 8}
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:31 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 2, 3)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:31 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:31 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 2, 3)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:31 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:31 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] ()
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine [cached since 5.365e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.46s ago] (8, 1, 0)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (8,)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (8, 'CONFIRMED', 1, 0)
2026-01-09 13:17:44 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (1, 0, '2026-01-09 13:17:44.645498', 8)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (8,)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (8,)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (8, 'UNCONFIRMED', '2026-01-09 13:17:44.699789', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (290,)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.45s ago] (8,)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 14.49s ago] (8,)
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP uncomplete: task_id=8
2026-01-09 13:17:44 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 8}
2026-01-09 13:17:44 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 8}
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:44 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 2, 3)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:44 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:44 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 2, 3)
2026-01-09 13:17:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:44 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:44 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.26s ago] (4, 1, 0)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (4,)
2026-01-09 13:17:46 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (0, 1, '2026-01-09 13:17:46.441069', 4)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (4,)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (4,)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (4, 'CONFIRMED', '2026-01-09 13:17:46.490673', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (291,)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.24s ago] (4,)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 16.28s ago] (4,)
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP complete: task_id=4
2026-01-09 13:17:46 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 4}
2026-01-09 13:17:46 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 4}
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:46 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 2, 3)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:46 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:46 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:46 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:46 INFO  homeplanner.users Starting query for all users
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 2, 3)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:46 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:46 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:17:46 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] ()
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine [cached since 5.366e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:17:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:17:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:58:58 INFO  homeplanner.realtime WS disconnect: id=139823341451072, total=0
2026-01-09 13:58:59 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 13:58:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:58:59 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 13:58:59 INFO  homeplanner.users Starting query for all users
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ()
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ('last_task_update', 1, 0)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ()
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ()
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] ()
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] (1, 2, 3)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine [cached since 5.613e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 13:58:59 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 13:58:59 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 13:58:59 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:58:59 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 13:58:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 13:58:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 13:58:59 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 13:58:59 INFO  homeplanner.realtime WS connect: id=139823341620256 host=192.168.1.2 port=51066 total=1
2026-01-09 14:01:16 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine [cached since 5.627e+04s ago] ('last_task_update', 1, 0)
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine [cached since 4.836e+04s ago] ()
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine [cached since 5.627e+04s ago] (7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [TASK 1] id=7, title='Weekly Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [TASK 2] id=8, title='Future One-time Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [TASK 3] id=12, title='Future Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 14:01:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 14:01:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 14:01:17 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 14:01:17 INFO  homeplanner.users Starting query for simple users
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine [cached since 4.836e+04s ago] ()
2026-01-09 14:01:17 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 14:01:17 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine [cached since 5.627e+04s ago] ()
2026-01-09 14:01:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:15 INFO  homeplanner.realtime WS disconnect: id=139823341620256, total=0
2026-01-09 16:33:15 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:33:15 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:15 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:33:15 INFO  homeplanner.users Starting query for all users
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:33:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ()
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ()
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ()
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] (1, 2, 3)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] ()
2026-01-09 16:33:15 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:33:15 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:33:15 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:15 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine [cached since 6.539e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:33:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:33:15 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:15 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:15 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:33:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:33:16 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:33:16 INFO  homeplanner.realtime WS connect: id=139823333124016 host=192.168.1.2 port=37626 total=1
2026-01-09 16:33:21 INFO  homeplanner.realtime WS disconnect: id=139823333124016, total=0
2026-01-09 16:33:21 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:33:21 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:21 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:33:21 INFO  homeplanner.users Starting query for all users
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ()
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ()
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ()
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] (1, 2, 3)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] ()
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:33:21 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine [cached since 6.54e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:33:21 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:33:21 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:33:21 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:33:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:33:21 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:33:22 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:33:22 INFO  homeplanner.realtime WS connect: id=139823341395920 host=192.168.1.2 port=37664 total=1
2026-01-09 16:35:40 INFO  homeplanner.realtime WS disconnect: id=139823341395920, total=0
2026-01-09 16:35:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:35:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:35:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:35:40 INFO  homeplanner.users Starting query for all users
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ()
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ()
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ()
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] ()
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] (1, 2, 3)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:35:40 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine [cached since 6.554e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:35:40 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:35:40 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:35:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:35:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:35:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:35:40 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:35:40 INFO  homeplanner.realtime WS connect: id=139823341893920 host=192.168.1.2 port=53364 total=1
2026-01-09 16:36:59 INFO  homeplanner.realtime WS disconnect: id=139823341893920, total=0
2026-01-09 16:36:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:36:59 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:36:59 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:36:59 INFO  homeplanner.users Starting query for all users
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ()
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ()
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ()
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] ()
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] (1, 2, 3)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:36:59 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:36:59 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:36:59 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine [cached since 6.561e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:36:59 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:36:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:36:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:37:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:37:00 INFO  homeplanner.realtime WS connect: id=139823341445984 host=192.168.1.2 port=34914 total=1
2026-01-09 16:37:03 INFO  homeplanner.realtime WS disconnect: id=139823341445984, total=0
2026-01-09 16:37:03 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:37:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:37:03 INFO  homeplanner.users Starting query for all users
2026-01-09 16:37:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ()
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ()
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ()
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] ()
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] (1, 2, 3)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:37:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:37:03 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:37:03 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine [cached since 6.562e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:37:03 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:37:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:37:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:37:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:37:04 INFO  homeplanner.realtime WS connect: id=139823341451744 host=192.168.1.2 port=56764 total=1
2026-01-09 16:48:18 INFO  homeplanner.realtime WS disconnect: id=139823341451744, total=0
2026-01-09 16:48:18 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 16:48:18 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:48:18 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:48:18 INFO  homeplanner.users Starting query for all users
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ()
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ('last_task_update', 1, 0)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ()
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ()
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] ()
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] (1, 2, 3)
2026-01-09 16:48:18 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:48:18 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:48:18 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine [cached since 6.629e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:48:18 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 16:48:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 16:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 16:48:19 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 16:48:19 INFO  homeplanner.realtime WS connect: id=139823341882544 host=192.168.1.2 port=49994 total=1
2026-01-09 17:10:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:10:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:10:00 INFO  homeplanner.users Starting query for all users
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 2, 3)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:10:00 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:10:00 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:10:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:10:00 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:10:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:10:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:10:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:10:08 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:10:08 INFO  homeplanner.users Starting query for all users
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] ()
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 2, 3)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:10:08 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine [cached since 6.76e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:10:08 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:10:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:10:08 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:10:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:10:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9, 1, 0)
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (9,)
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9, 'CONFIRMED', 1, 0)
2026-01-09 17:19:57 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (1, 0, '2026-01-09 17:19:57.947303', 9)
2026-01-09 17:19:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9,)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9,)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9, 'UNCONFIRMED', '2026-01-09 17:19:58.015551', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (292,)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9,)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 1.455e+04s ago] (9,)
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP uncomplete: task_id=9
2026-01-09 17:19:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 9}
2026-01-09 17:19:58 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 9}
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:19:58 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:19:58 INFO  homeplanner.users Starting query for all users
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 2, 3)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:19:58 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:19:58 INFO  homeplanner.users Starting query for all users
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 2, 3)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:19:58 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:19:58 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:19:58 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:19:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:19:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:19:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:20:00 INFO  homeplanner.realtime WS disconnect: id=139823341882544, total=0
2026-01-09 17:20:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:20:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:20:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:20:00 INFO  homeplanner.users Starting query for all users
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] ()
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 2, 3)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:20:00 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:20:00 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine [cached since 6.819e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:20:00 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:20:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:20:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:20:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 17:20:00 INFO  homeplanner.realtime WS connect: id=139823341397120 host=192.168.1.2 port=35250 total=1
2026-01-09 17:29:44 INFO  homeplanner.realtime WS disconnect: id=139823341397120, total=0
2026-01-09 17:29:44 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:29:44 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:29:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:29:44 INFO  homeplanner.users Starting query for all users
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ()
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ()
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ()
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] (1, 2, 3)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] ()
2026-01-09 17:29:44 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:29:44 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:29:44 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:29:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine [cached since 6.878e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:29:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:29:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:29:44 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 17:29:44 INFO  homeplanner.realtime WS connect: id=139823341890128 host=192.168.1.2 port=43320 total=1
2026-01-09 17:31:31 INFO  homeplanner.realtime WS disconnect: id=139823341890128, total=0
2026-01-09 17:31:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:31 INFO  homeplanner.users Starting query for all users
2026-01-09 17:31:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:31:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 2, 3)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:31 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:31:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:31:31 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:31:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:32 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 17:31:32 INFO  homeplanner.realtime WS connect: id=139823341929680 host=192.168.1.2 port=52944 total=1
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 1, 0)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1,)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 'CONFIRMED', 1, 0)
2026-01-09 17:31:36 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 0, '2026-01-09 17:31:36.261391', 1)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 'UNCONFIRMED', '2026-01-09 17:31:36.305451', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (293,)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP uncomplete: task_id=1
2026-01-09 17:31:36 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1}
2026-01-09 17:31:36 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 1}
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:36 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  homeplanner.users Starting query for all users
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 2, 3)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:36 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:31:36 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:31:36 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:31:36 INFO  homeplanner.users Starting query for all users
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 2, 3)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:36 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:31:36 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:31:36 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:31:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 1, 0)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1,)
2026-01-09 17:31:37 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (0, 1, '2026-01-09 17:31:37.014613', 1)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1, 'CONFIRMED', '2026-01-09 17:31:37.058916', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (294,)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 1.525e+04s ago] (1,)
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-09 17:31:37 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 17:31:37 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:31:37 INFO  homeplanner.users Starting query for all users
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 2, 3)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:31:37 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:37 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  homeplanner.users Starting query for all users
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 2, 3)
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:31:37 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:31:37 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:31:37 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] ()
2026-01-09 17:31:37 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine [cached since 6.889e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:31:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:31:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:34:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:34:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:34:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:34:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:34:59 INFO  sqlalchemy.engine.Engine [cached since 6.909e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine [cached since 6.118e+04s ago] ()
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine [cached since 6.909e+04s ago] (9, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:35:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 9 tasks in database
2026-01-09 17:35:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:35:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=7, title='Weekly Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 17:35:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=8, title='Future One-time Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:35:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 9 tasks to client
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:35:00 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 17:35:00 INFO  homeplanner.users Starting query for simple users
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine [cached since 6.118e+04s ago] ()
2026-01-09 17:35:00 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 17:35:00 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine [cached since 6.909e+04s ago] ()
2026-01-09 17:35:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:01 INFO  homeplanner.realtime WS disconnect: id=139823341929680, total=0
2026-01-09 17:38:01 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:01 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 2, 3)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:01 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:01 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:01 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 17:38:01 INFO  homeplanner.realtime WS connect: id=139823341832336 host=192.168.1.2 port=41334 total=1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9, 1, 0)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (9,)
2026-01-09 17:38:05 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (0, 1, '2026-01-09 17:38:05.587703', 9)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9,)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9,)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9, 'CONFIRMED', '2026-01-09 17:38:05.632745', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (295,)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9,)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 1.564e+04s ago] (9,)
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP complete: task_id=9
2026-01-09 17:38:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9}
2026-01-09 17:38:05 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9}
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:05 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 2, 3)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:05 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:05 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 2, 3)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:05 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:05 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:05 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] ()
2026-01-09 17:38:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine [cached since 6.928e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:14 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [TASK 1] id=7, title='Weekly Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [TASK 2] id=8, title='Future One-time Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [TASK 3] id=12, title='Future Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:14 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 17:38:14 INFO  homeplanner.users Starting query for simple users
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine [cached since 6.137e+04s ago] ()
2026-01-09 17:38:14 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 17:38:14 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 17:38:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:15 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 8 tasks in database
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [TASK 1] id=7, title='Weekly Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [TASK 2] id=8, title='Future One-time Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [TASK 3] id=12, title='Future Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 8 tasks to client
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:15 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 17:38:15 INFO  homeplanner.users Starting query for simple users
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine [cached since 6.138e+04s ago] ()
2026-01-09 17:38:15 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 17:38:15 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 17:38:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 1, 0)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (9,)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 'CONFIRMED', 1, 0)
2026-01-09 17:38:17 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (1, 0, '2026-01-09 17:38:17.871009', 9)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 'UNCONFIRMED', '2026-01-09 17:38:17.915994', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (296,)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:17 INFO  homeplanner.tasks HTTP uncomplete: task_id=9
2026-01-09 17:38:17 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 9}
2026-01-09 17:38:17 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 9}
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:17 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:17 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 2, 3)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:17 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:18 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:18 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:18 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:18 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:18 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:18 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:18 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 2, 3)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:18 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:18 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:18 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:18 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 17:38:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 1, 0)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (9,)
2026-01-09 17:38:19 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (0, 1, '2026-01-09 17:38:19.540708', 9)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 'CONFIRMED', '2026-01-09 17:38:19.582794', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (297,)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP complete: task_id=9
2026-01-09 17:38:19 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9}
2026-01-09 17:38:19 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9}
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 2, 3)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:19 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:19 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 2, 3)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:19 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:19 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] ()
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine [cached since 6.929e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:21 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 17:38:21 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:21 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 17:38:21 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 12 with timestamp 2026-01-09 14:38:21.265000+00:00
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12, 1, 0)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (12,)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [generated in 0.00061s] (0, 1, '2026-01-09 14:38:21.265000', 12)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12,)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12,)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12, 'CONFIRMED', '2026-01-09 17:38:21.108276', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (298,)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12,)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (12,)
2026-01-09 17:38:21 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 12}
2026-01-09 17:38:21 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 12}
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:21 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:21 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:21 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:21 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 2, 3)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:21 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:21 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:21 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:21 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:21 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:24 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 17:38:24 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:24 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 17:38:24 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 9 with timestamp 2026-01-09 14:38:24.969000+00:00
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 1, 0)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (9,)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [generated in 0.00025s] ('2026-01-09 14:38:24.969000', 9)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9, 'CONFIRMED', '2026-01-09 17:38:24.595697', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (299,)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 1.565e+04s ago] (9,)
2026-01-09 17:38:24 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9}
2026-01-09 17:38:24 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9}
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:24 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 17:38:24 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 17:38:24 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 17:38:24 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  homeplanner.users Starting query for all users
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ('last_task_update', 1, 0)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] ()
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 2, 3)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:24 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 17:38:24 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 17:38:24 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 17:38:24 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine [cached since 6.93e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 17:38:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 17:38:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 18:56:13 INFO  homeplanner.realtime WS disconnect: id=139823341832336, total=0
2026-01-09 19:11:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:11:57 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:11:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:11:57 INFO  homeplanner.users Starting query for all users
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ()
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ()
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ()
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] (1, 2, 3)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] ()
2026-01-09 19:11:57 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:11:57 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:11:57 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine [cached since 7.491e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:11:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:11:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:11:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:11:57 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:11:57 INFO  homeplanner.realtime WS connect: id=139823341843280 host=192.168.1.2 port=60130 total=1
2026-01-09 19:13:18 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine [cached since 7.499e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine [cached since 6.708e+04s ago] ()
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine [cached since 7.499e+04s ago] (7, 8, 2, 6, 10, 3, 11)
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 7 tasks in database
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [TASK 1] id=7, title='Weekly Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [TASK 2] id=8, title='Future One-time Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [TASK 3] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 19:13:18 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 7 tasks to client
2026-01-09 19:13:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:13:19 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 19:13:19 INFO  homeplanner.users Starting query for simple users
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine [cached since 6.708e+04s ago] ()
2026-01-09 19:13:19 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 19:13:19 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine [cached since 7.499e+04s ago] ()
2026-01-09 19:13:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:15 INFO  homeplanner.realtime WS disconnect: id=139823341843280, total=0
2026-01-09 19:17:15 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:15 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:17:15 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:17:15 INFO  homeplanner.users Starting query for all users
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 2, 3)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:17:15 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:17:15 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:17:15 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:15 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:17:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:17:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:17:15 INFO  homeplanner.realtime WS connect: id=139823341939664 host=192.168.1.2 port=57586 total=1
2026-01-09 19:17:16 INFO  homeplanner.realtime WS disconnect: id=139823341939664, total=0
2026-01-09 19:17:17 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:17:17 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:17:17 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:17:17 INFO  homeplanner.users Starting query for all users
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] ()
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 2, 3)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:17:17 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:17:17 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:17:17 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:17:17 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine [cached since 7.523e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:17:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:17:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:17:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:17:17 INFO  homeplanner.realtime WS connect: id=139823342055024 host=192.168.1.2 port=57602 total=1
2026-01-09 19:17:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:17:19 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history ORDER BY task_history.action_timestamp DESC
2026-01-09 19:17:19 INFO  sqlalchemy.engine.Engine [generated in 0.00025s] ()
2026-01-09 19:17:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:18:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:18:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:18:10 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:18:10 INFO  homeplanner.users Starting query for all users
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ()
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ()
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ()
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] ()
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] (1, 2, 3)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:18:10 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine [cached since 7.528e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:18:10 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:18:10 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:18:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:18:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:18:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:33:09 INFO  homeplanner.realtime WS disconnect: id=139823342055024, total=0
2026-01-09 19:33:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:40 INFO  homeplanner.users Starting query for all users
2026-01-09 19:33:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:33:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ()
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ()
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ()
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] (1, 2, 3)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] ()
2026-01-09 19:33:40 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:33:40 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:33:40 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine [cached since 7.621e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:33:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:33:40 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:33:40 INFO  homeplanner.realtime WS connect: id=139823342054496 host=192.168.1.2 port=49838 total=1
2026-01-09 19:33:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:42 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history ORDER BY task_history.action_timestamp DESC
2026-01-09 19:33:42 INFO  sqlalchemy.engine.Engine [cached since 983.3s ago] ()
2026-01-09 19:33:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:33:57 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  homeplanner.users Starting query for all users
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 3.009e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 3.009e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 2, 3)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 4, 5, 9, 12)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 4, 5, 9, 12)
2026-01-09 19:33:57 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:33:57 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 3.009e+04s ago] ('2026-01-10 19:33:57.411067', '2026-01-10 19:33:57.428623', 'last_task_update')
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 3.009e+04s ago] ('2026-01-10 19:33:57.413517', '2026-01-10 19:33:57.430796', 'last_task_update')
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:57 INFO  homeplanner.users Starting query for all users
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] ()
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 2, 3)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:57 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:33:57 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:33:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine [cached since 7.623e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:33:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:33:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:34:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:34:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:34:00 INFO  homeplanner.users Starting query for all users
2026-01-09 19:34:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ()
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ()
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ('last_task_update', 1, 0)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ()
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] (1, 2, 3)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] ()
2026-01-09 19:34:00 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:34:00 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:34:00 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine [cached since 7.624e+04s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:34:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:34:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:34:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:35:49 INFO  homeplanner.realtime WS disconnect: id=139823342054496, total=0
2026-01-09 19:35:50 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:35:50 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:35:50 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:35:50 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:35:50 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:35:50 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:35:50 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:35:50 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:35:50 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:35:50 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:35:50 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:35:50 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:35:50 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:50 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:35:50 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:35:51 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:35:51 INFO  homeplanner.realtime WS connect: id=139668460707648 host=192.168.1.2 port=34060 total=1
2026-01-09 19:35:53 INFO  homeplanner.realtime WS disconnect: id=139668460707648, total=0
2026-01-09 19:35:54 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:35:54 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:35:54 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:35:54 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:35:54 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:35:54 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:35:54 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:35:54 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:35:54 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:35:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:35:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:35:54 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:35:54 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:35:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:35:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:35:55 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:35:55 INFO  homeplanner.realtime WS connect: id=139881196838624 host=192.168.1.2 port=50372 total=1
2026-01-09 19:35:58 INFO  homeplanner.realtime WS disconnect: id=139881196838624, total=0
2026-01-09 19:35:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:35:59 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:35:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:35:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:35:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:35:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:35:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:35:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:35:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:35:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:36:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:36:00 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:36:00 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:36:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:36:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:36:00 INFO  homeplanner.realtime WS connect: id=139928941743712 host=192.168.1.2 port=50386 total=1
2026-01-09 19:36:05 INFO  homeplanner.realtime WS disconnect: id=139928941743712, total=0
2026-01-09 19:36:06 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:36:06 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:36:06 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:36:06 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:36:06 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:36:06 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:36:06 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:36:06 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:36:06 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:36:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:36:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:36:07 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:36:07 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:36:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:36:07 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:36:07 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:36:07 INFO  homeplanner.realtime WS connect: id=140087137420208 host=192.168.1.2 port=56516 total=1
2026-01-09 19:37:41 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:37:41 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:37:41 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:41 INFO  homeplanner.users Starting query for all users
2026-01-09 19:37:41 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:41 INFO  homeplanner.tasks get_all_tasks called
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00202s] ()
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:37:41 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00338s] ()
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00260s] ('last_task_update', 1, 0)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:41 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:41.561759, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [cached since 0.01201s ago] ('last_task_update', 1, 0)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00319s] (1, 2, 3)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00087s] ()
2026-01-09 19:37:41 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:41.574539, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [cached since 0.003236s ago] ()
2026-01-09 19:37:41 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:37:41 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:37:41 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [generated in 0.00293s] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine [cached since 0.003637s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:37:41 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:37:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:37:45 INFO  homeplanner.realtime WS disconnect: id=140087137420208, total=0
2026-01-09 19:37:45 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:45 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:37:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:45 INFO  homeplanner.users Starting query for all users
2026-01-09 19:37:45 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:37:45 INFO  homeplanner.tasks get_all_tasks called
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.711s ago] ()
2026-01-09 19:37:45 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.711s ago] ()
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.708s ago] ('last_task_update', 1, 0)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:45 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:45.266684, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.712s ago] ('last_task_update', 1, 0)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.698s ago] (1, 2, 3)
2026-01-09 19:37:45 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:45.268753, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.696s ago] ()
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.698s ago] ()
2026-01-09 19:37:45 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:37:45 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:37:45 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.695s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine [cached since 3.695s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:37:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:37:45 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:37:45 INFO  homeplanner.realtime WS connect: id=140087114768000 host=192.168.1.2 port=59526 total=1
2026-01-09 19:37:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:47 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history ORDER BY task_history.action_timestamp DESC
2026-01-09 19:37:47 INFO  sqlalchemy.engine.Engine [generated in 0.00053s] ()
2026-01-09 19:37:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:49 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 19:37:49 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:49 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 19:37:49 INFO  homeplanner.users Starting query for all users
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 19:37:49 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 19:37:49 INFO  homeplanner.tasks get_all_tasks called
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.644s ago] ()
2026-01-09 19:37:49 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.642s ago] ()
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.642s ago] ('last_task_update', 1, 0)
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.648s ago] ('last_task_update', 1, 0)
2026-01-09 19:37:49 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:49.204142, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 19:37:49 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517, last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 19:37:49.207438, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.639s ago] (1, 2, 3)
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.638s ago] ()
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.639s ago] ()
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:49 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.636s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:49 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 19:37:49 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine [cached since 7.641s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 19:37:49 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 19:37:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 19:37:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:25 INFO  homeplanner.realtime WS disconnect: id=140087114768000, total=0
2026-01-09 19:40:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:26 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:26 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:26 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:26 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:27 INFO  homeplanner.realtime WS connect: id=139639009337344 host=192.168.1.2 port=37680 total=1
2026-01-09 19:40:30 INFO  homeplanner.realtime WS disconnect: id=139639009337344, total=0
2026-01-09 19:40:31 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:31 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:31 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:31 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:31 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:31 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:31 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:31 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:31 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:31 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:31 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:31 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:32 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:32 INFO  homeplanner.realtime WS connect: id=139730828926400 host=192.168.1.2 port=37688 total=1
2026-01-09 19:40:35 INFO  homeplanner.realtime WS disconnect: id=139730828926400, total=0
2026-01-09 19:40:36 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:36 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:36 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:36 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:36 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:36 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:36 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:36 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:36 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:36 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:36 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:36 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:37 INFO  homeplanner.realtime WS connect: id=140212543888352 host=192.168.1.2 port=37814 total=1
2026-01-09 19:40:43 INFO  homeplanner.realtime WS disconnect: id=140212543888352, total=0
2026-01-09 19:40:44 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:44 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:44 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:44 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:44 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:44 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:44 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:44 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:44 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:44 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:44 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:44 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:46 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:46 INFO  homeplanner.realtime WS connect: id=140346612703712 host=192.168.1.2 port=56094 total=1
2026-01-09 19:40:48 INFO  homeplanner.realtime WS disconnect: id=140346612703712, total=0
2026-01-09 19:40:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:49 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:49 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:49 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:49 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:50 INFO  homeplanner.realtime WS connect: id=139871730409136 host=192.168.1.2 port=56098 total=1
2026-01-09 19:40:57 INFO  homeplanner.realtime WS disconnect: id=139871730409136, total=0
2026-01-09 19:40:58 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:40:58 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:40:58 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:40:58 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:40:58 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:40:58 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:40:58 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:40:58 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:40:58 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:40:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:40:58 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:40:58 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:40:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:40:59 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:40:59 INFO  homeplanner.realtime WS connect: id=140317642481376 host=192.168.1.2 port=36534 total=1
2026-01-09 19:41:11 INFO  homeplanner.realtime WS disconnect: id=140317642481376, total=0
2026-01-09 19:41:12 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:41:12 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:41:12 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:41:12 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:41:12 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:41:12 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:41:12 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:41:12 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:41:12 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:41:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:41:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:41:12 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:41:12 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:41:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:41:13 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:41:13 INFO  homeplanner.realtime WS connect: id=139733481660800 host=192.168.1.2 port=41790 total=1
2026-01-09 19:41:16 INFO  homeplanner.realtime WS disconnect: id=139733481660800, total=0
2026-01-09 19:41:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:41:17 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:41:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:41:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:41:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:41:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:41:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:41:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:41:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:41:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:41:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:41:17 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:41:17 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:41:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:41:17 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:41:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:41:18 INFO  homeplanner.realtime WS connect: id=140713327008688 host=192.168.1.2 port=40746 total=1
2026-01-09 19:44:27 INFO  homeplanner.realtime WS disconnect: id=140713327008688, total=0
2026-01-09 19:44:28 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:44:28 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:44:28 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:44:28 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:44:28 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:44:28 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:44:28 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:44:28 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:44:28 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:44:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:28 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:44:28 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:44:28 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:44:29 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:44:29 INFO  homeplanner.realtime WS connect: id=140206051107200 host=192.168.1.2 port=59912 total=1
2026-01-09 19:44:32 INFO  homeplanner.realtime WS disconnect: id=140206051107200, total=0
2026-01-09 19:44:33 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:44:33 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:44:33 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:44:33 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:44:33 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:44:33 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:44:33 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:44:33 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:44:33 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:44:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:33 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:44:33 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:44:33 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:44:34 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:44:34 INFO  homeplanner.realtime WS connect: id=139632545046528 host=192.168.1.2 port=46484 total=1
2026-01-09 19:44:41 INFO  homeplanner.realtime WS disconnect: id=139632545046528, total=0
2026-01-09 19:44:42 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:44:42 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:44:42 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:44:42 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:44:42 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:44:42 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:44:42 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:44:42 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:44:42 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:44:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:42 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:44:42 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:44:42 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:44:43 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:44:43 INFO  homeplanner.realtime WS connect: id=139791470337952 host=192.168.1.2 port=46496 total=1
2026-01-09 19:44:56 INFO  homeplanner.realtime WS disconnect: id=139791470337952, total=0
2026-01-09 19:44:57 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:44:57 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:44:57 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:44:57 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:44:57 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:44:57 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:44:57 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:44:57 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:44:57 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:44:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:44:57 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:44:57 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:44:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:44:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:44:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:44:58 INFO  homeplanner.realtime WS connect: id=140441039954736 host=192.168.1.2 port=50718 total=1
2026-01-09 19:45:01 INFO  homeplanner.realtime WS disconnect: id=140441039954736, total=0
2026-01-09 19:45:02 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:45:02 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:45:02 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:45:02 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:45:02 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:45:02 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:45:02 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:45:02 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:45:02 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:02 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:45:02 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:45:02 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:45:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:45:04 INFO  homeplanner.realtime WS connect: id=139902734590144 host=192.168.1.2 port=60154 total=1
2026-01-09 19:45:44 INFO  homeplanner.realtime WS disconnect: id=139902734590144, total=0
2026-01-09 19:45:45 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:45:45 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:45:45 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:45:45 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:45:45 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:45:45 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:45:45 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:45:45 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:45:45 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:45:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:45 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:45:45 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:45:45 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:45:46 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:45:46 INFO  homeplanner.realtime WS connect: id=139956198328608 host=192.168.1.2 port=37908 total=1
2026-01-09 19:45:50 INFO  homeplanner.realtime WS disconnect: id=139956198328608, total=0
2026-01-09 19:45:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 19:45:51 INFO  homeplanner.system uvicorn level: 10
2026-01-09 19:45:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 19:45:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 19:45:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 19:45:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 19:45:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 19:45:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 19:45:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 19:45:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 19:45:51 INFO  homeplanner.database Initializing database tables...
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 19:45:51 INFO  homeplanner.database Database tables created successfully
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 19:45:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 19:45:51 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 19:45:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 19:45:52 INFO  homeplanner.realtime WS connect: id=139749667806368 host=192.168.1.2 port=37918 total=1
2026-01-09 20:45:46 INFO  homeplanner.realtime WS disconnect: id=139749667806368, total=0
2026-01-09 20:45:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:45:47 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:45:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:45:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:45:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:45:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:45:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:45:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:45:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:45:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:45:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:45:47 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:45:47 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:45:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:45:47 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:45:48 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:45:48 INFO  homeplanner.realtime WS connect: id=139871627551104 host=192.168.1.2 port=60210 total=1
2026-01-09 20:46:04 INFO  homeplanner.realtime WS disconnect: id=139871627551104, total=0
2026-01-09 20:46:05 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:46:05 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:46:05 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:46:05 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:46:05 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:46:05 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:46:05 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:46:05 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:46:05 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:46:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:05 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:46:05 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:46:05 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:46:06 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:46:06 INFO  homeplanner.realtime WS connect: id=140167188749664 host=192.168.1.2 port=45610 total=1
2026-01-09 20:46:15 INFO  homeplanner.realtime WS disconnect: id=140167188749664, total=0
2026-01-09 20:46:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:46:16 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:46:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:46:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:46:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:46:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:46:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:46:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:46:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:46:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:17 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:46:17 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:46:17 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:46:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:46:18 INFO  homeplanner.realtime WS connect: id=139753689875856 host=192.168.1.2 port=38352 total=1
2026-01-09 20:46:21 INFO  homeplanner.realtime WS disconnect: id=139753689875856, total=0
2026-01-09 20:46:22 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:46:22 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:46:22 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:46:22 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:46:22 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:46:22 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:46:22 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:46:22 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:46:22 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:46:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:46:23 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:46:23 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:46:23 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:46:23 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 20:46:23 INFO  homeplanner.system Day change scheduler started
2026-01-09 20:46:23 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] ('last_task_update', 1, 0)
2026-01-09 20:46:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:46:23.155417 (virtual), real_now=2026-01-09 20:46:23.155438, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:46:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:46:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:46:24 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:46:24 INFO  homeplanner.realtime WS connect: id=140462131478496 host=192.168.1.2 port=37744 total=1
2026-01-09 20:47:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:47:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:47:23 INFO  sqlalchemy.engine.Engine [cached since 60s ago] ('last_task_update', 1, 0)
2026-01-09 20:47:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:47:23.159745 (virtual), real_now=2026-01-09 20:47:23.159782, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:47:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:47:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:48:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:48:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:48:23 INFO  sqlalchemy.engine.Engine [cached since 120s ago] ('last_task_update', 1, 0)
2026-01-09 20:48:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:48:23.163893 (virtual), real_now=2026-01-09 20:48:23.163928, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:48:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:48:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:49:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:49:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:49:23 INFO  sqlalchemy.engine.Engine [cached since 180s ago] ('last_task_update', 1, 0)
2026-01-09 20:49:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:49:23.167595 (virtual), real_now=2026-01-09 20:49:23.167631, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:49:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:49:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:50:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:50:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:50:23 INFO  sqlalchemy.engine.Engine [cached since 240s ago] ('last_task_update', 1, 0)
2026-01-09 20:50:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:50:23.170774 (virtual), real_now=2026-01-09 20:50:23.170792, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:50:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:50:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:51:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:51:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:51:23 INFO  sqlalchemy.engine.Engine [cached since 300s ago] ('last_task_update', 1, 0)
2026-01-09 20:51:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:51:23.174671 (virtual), real_now=2026-01-09 20:51:23.174705, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:51:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:51:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:52:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:52:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:52:23 INFO  sqlalchemy.engine.Engine [cached since 360s ago] ('last_task_update', 1, 0)
2026-01-09 20:52:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:52:23.178692 (virtual), real_now=2026-01-09 20:52:23.178726, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:52:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:52:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:53:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:53:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:53:23 INFO  sqlalchemy.engine.Engine [cached since 420s ago] ('last_task_update', 1, 0)
2026-01-09 20:53:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:53:23.182685 (virtual), real_now=2026-01-09 20:53:23.182720, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:53:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:53:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:54:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:54:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:54:23 INFO  sqlalchemy.engine.Engine [cached since 480s ago] ('last_task_update', 1, 0)
2026-01-09 20:54:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:54:23.185910 (virtual), real_now=2026-01-09 20:54:23.185930, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:54:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:54:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 20:55:23 INFO  sqlalchemy.engine.Engine [cached since 540s ago] ('last_task_update', 1, 0)
2026-01-09 20:55:23 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 20:55:23.188282 (virtual), real_now=2026-01-09 20:55:23.188300, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 20:55:23 DEBUG homeplanner.day_scheduler No day change detected
2026-01-09 20:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:55:36 INFO  homeplanner.realtime WS disconnect: id=140462131478496, total=0
2026-01-09 20:55:36 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 20:55:36 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 20:55:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:55:37 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:55:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:55:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:55:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:55:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:55:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:55:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:55:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:55:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:55:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:55:37 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:55:37 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:55:37 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:55:37 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 20:55:37 INFO  homeplanner.system Day change scheduler started
2026-01-09 20:55:37 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 20:55:37 INFO  homeplanner.day_scheduler Scheduling next day check in 21922.0 seconds (at 2026-01-10 03:01:00)
2026-01-09 20:55:39 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:55:39 INFO  homeplanner.realtime WS connect: id=140491031734096 host=192.168.1.2 port=39310 total=1
2026-01-09 20:55:48 INFO  homeplanner.realtime WS disconnect: id=140491031734096, total=0
2026-01-09 20:55:48 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 20:55:48 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 20:55:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:55:49 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:55:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:55:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:55:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:55:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:55:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:55:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:55:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:55:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:55:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:55:49 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:55:49 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:55:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:55:49 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:55:49 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 20:55:49 INFO  homeplanner.system Day change scheduler started
2026-01-09 20:55:49 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 20:55:49 INFO  homeplanner.day_scheduler Scheduling next day check in 21910.5 seconds (at 2026-01-10 03:01:00)
2026-01-09 20:55:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:55:50 INFO  homeplanner.realtime WS connect: id=140313574074336 host=192.168.1.2 port=40248 total=1
2026-01-09 20:56:02 INFO  homeplanner.realtime WS disconnect: id=140313574074336, total=0
2026-01-09 20:56:02 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 20:56:02 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 20:56:03 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 20:56:03 INFO  homeplanner.system uvicorn level: 10
2026-01-09 20:56:03 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 20:56:03 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 20:56:03 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 20:56:03 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 20:56:03 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 20:56:03 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 20:56:03 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 20:56:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:56:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 20:56:03 INFO  homeplanner.database Initializing database tables...
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 20:56:03 INFO  homeplanner.database Database tables created successfully
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 20:56:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 20:56:03 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 20:56:03 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 20:56:03 INFO  homeplanner.system Day change scheduler started
2026-01-09 20:56:03 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 20:56:03 INFO  homeplanner.day_scheduler Scheduling next day check in 21896.2 seconds (at 2026-01-10 03:01:00)
2026-01-09 20:56:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 20:56:04 INFO  homeplanner.realtime WS connect: id=139638000459824 host=192.168.1.2 port=47900 total=1
2026-01-09 21:01:30 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:01:30 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:01:30 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:01:30 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:01:30 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:01:30 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:01:30 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:01:30 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:01:30 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:01:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:01:30 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-09 21:02:06 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] ('last_task_update', 1, 0)
2026-01-09 21:02:06 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-09 21:02:06.891903 (virtual), real_now=2026-01-09 21:02:06.891924, current_day_start=2026-01-09 03:00:00, is_new=False
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine [generated in 0.00051s] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:02:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:02:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:02:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:02:29 INFO  sqlalchemy.engine.Engine [cached since 22.41s ago] ('last_task_update', 1, 0)
2026-01-09 21:02:29 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-10 10:00:00.003642 (virtual), real_now=2026-01-09 21:02:29.304943, current_day_start=2026-01-10 03:00:00, is_new=False
2026-01-09 21:02:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:02:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine [cached since 35.37s ago] ('last_task_update', 1, 0)
2026-01-09 21:02:42 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-10 10:00:12.955964 (virtual), real_now=2026-01-09 21:02:42.257252, current_day_start=2026-01-10 03:00:00, is_new=False
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine [cached since 35.36s ago] ()
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine [cached since 35.36s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:02:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:02:53 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine [cached since 46.9s ago] ('last_task_update', 1, 0)
2026-01-09 21:02:53 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-10 10:00:24.487501 (virtual), real_now=2026-01-09 21:02:53.788789, current_day_start=2026-01-10 03:00:00, is_new=False
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine [cached since 46.89s ago] ()
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine [cached since 46.89s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:02:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:02:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:03:57 INFO  homeplanner.realtime WS disconnect: id=139638000459824, total=0
2026-01-09 21:03:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:03:57 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:03:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:03:57 INFO  homeplanner.users Starting query for all users
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [generated in 0.00175s] ()
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [generated in 0.00153s] ()
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:03:57 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-10 10:01:28.416572 (virtual), real_now=2026-01-09 21:03:57.717862, current_day_start=2026-01-10 03:00:00, is_new=False
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] ()
2026-01-09 21:03:57 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-10 10:01:28.419005 (virtual), real_now=2026-01-09 21:03:57.720292, current_day_start=2026-01-10 03:00:00, is_new=False
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [generated in 0.00114s] (1, 2, 3)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] ()
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:03:57 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:03:57 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:03:57 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:03:57 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine [cached since 110.8s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:03:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:03:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:03:58 INFO  homeplanner.realtime WS connect: id=139638000915072 host=192.168.1.2 port=50646 total=1
2026-01-09 21:04:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:01 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history ORDER BY task_history.action_timestamp DESC
2026-01-09 21:04:01 INFO  sqlalchemy.engine.Engine [generated in 0.00058s] ()
2026-01-09 21:04:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.6s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  homeplanner.tasks is_new_day: last_update=2026-01-10 19:33:57.413517 (real), last_update_day_start=2026-01-10 03:00:00, now=2026-01-11 10:01:38.198219 (virtual), real_now=2026-01-09 21:04:07.499506, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [generated in 0.00024s] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.6s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.6s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] ('2026-01-09 21:04:07.503408', '2026-01-11 10:01:38.205363', 'last_task_update')
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:07 INFO  homeplanner.users Starting query for all users
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.853s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.85s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.503408 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:38.266816 (virtual), real_now=2026-01-09 21:04:07.568105, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:04:07 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.503408 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:38.268137 (virtual), real_now=2026-01-09 21:04:07.569424, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.848s ago] (1, 2, 3)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.07084s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.07124s ago] ()
2026-01-09 21:04:07 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:07 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:07 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.07606s ago] ('2026-01-09 21:04:07.579437', '2026-01-11 10:01:38.281056', 'last_task_update')
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.07702s ago] ('2026-01-09 21:04:07.580396', '2026-01-11 10:01:38.282059', 'last_task_update')
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.7s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:07 INFO  homeplanner.users Starting query for all users
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.96s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.96s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.580396 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:38.374413 (virtual), real_now=2026-01-09 21:04:07.675702, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:07 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.580396 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:38.377239 (virtual), real_now=2026-01-09 21:04:07.678525, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 9.955s ago] (1, 2, 3)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.1779s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.1796s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:07 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.184s ago] ('2026-01-09 21:04:07.684520', '2026-01-11 10:01:38.387815', 'last_task_update')
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 0.1861s ago] ('2026-01-09 21:04:07.687831', '2026-01-11 10:01:38.391092', 'last_task_update')
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.8s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.9s ago] ()
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine [cached since 120.9s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 21:04:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:04:12 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:04:12 INFO  homeplanner.users Starting query for all users
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 14.96s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:12 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.687831 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:43.378787 (virtual), real_now=2026-01-09 21:04:12.680095, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 14.97s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:12 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:07.687831 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-11 10:01:43.384075 (virtual), real_now=2026-01-09 21:04:12.685380, current_day_start=2026-01-11 03:00:00, is_new=True
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 5.185s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 14.97s ago] (1, 2, 3)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 5.19s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:12 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:04:12 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:12 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 5.204s ago] ('2026-01-09 21:04:12.700134', '2026-01-11 10:01:43.406156', 'last_task_update')
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.8s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 5.209s ago] ('2026-01-09 21:04:12.709585', '2026-01-11 10:01:43.412471', 'last_task_update')
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 126s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 125.9s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 10 task IDs for user 1
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 126s ago] ()
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine [cached since 126s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:04:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine [cached since 161.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:48 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:12.709585 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-12 10:02:19.274121 (virtual), real_now=2026-01-09 21:04:48.575416, current_day_start=2026-01-12 03:00:00, is_new=True
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine [cached since 41.08s ago] ()
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine [cached since 161.7s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine [cached since 161.7s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine [cached since 41.08s ago] ('2026-01-09 21:04:48.579629', '2026-01-12 10:02:19.280429', 'last_task_update')
2026-01-09 21:04:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 172.6s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:59 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:48.579629 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-12 10:02:30.143615 (virtual), real_now=2026-01-09 21:04:59.444904, current_day_start=2026-01-12 03:00:00, is_new=True
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 51.94s ago] ()
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 172.5s ago] (1, 4, 5, 9, 12)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 172.6s ago] ('last_task_update', 1, 0)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 51.94s ago] ('2026-01-09 21:04:59.447704', '2026-01-12 10:02:30.148538', 'last_task_update')
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 172.6s ago] ()
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine [cached since 172.6s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:04:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:04:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:05:22 INFO  homeplanner.realtime WS disconnect: id=139638000915072, total=0
2026-01-09 21:05:23 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:05:23 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:05:24 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:05:24 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:05:24 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:05:24 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:05:24 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:05:24 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:05:24 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:05:24 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:05:24 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:05:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:05:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:05:24 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:05:24 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:05:24 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:05:24 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:05:24 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:05:24 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:05:24 INFO  homeplanner.day_scheduler Scheduling next day check in 21335.8 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:05:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:05:25 INFO  homeplanner.realtime WS connect: id=139823719277312 host=192.168.1.2 port=37232 total=1
2026-01-09 21:05:35 INFO  homeplanner.realtime WS disconnect: id=139823719277312, total=0
2026-01-09 21:05:35 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:05:35 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:05:36 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:05:36 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:05:36 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:05:36 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:05:36 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:05:36 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:05:36 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:05:36 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:05:36 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:05:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:05:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:05:36 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:05:36 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:05:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:05:36 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:05:36 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:05:36 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:05:36 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:05:36 INFO  homeplanner.day_scheduler Scheduling next day check in 21323.6 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:05:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:05:37 INFO  homeplanner.realtime WS connect: id=139815729145440 host=192.168.1.2 port=46910 total=1
2026-01-09 21:05:46 INFO  homeplanner.tasks Time shift: triggering task recalculation
2026-01-09 21:05:46 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine [generated in 0.00036s] ('last_task_update', 1, 0)
2026-01-09 21:05:46 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:04:59.447704 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-10 21:05:46.295093 (virtual), real_now=2026-01-09 21:05:46.295115, current_day_start=2026-01-10 03:00:00, is_new=True
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] ()
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine [generated in 0.00047s] (1, 4, 5, 9, 12)
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine [cached since 0.01551s ago] ('last_task_update', 1, 0)
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] ('2026-01-09 21:05:46.308794', '2026-01-10 21:05:46.312186', 'last_task_update')
2026-01-09 21:05:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:05:46 INFO  homeplanner.tasks Time shift: task recalculation completed
2026-01-09 21:05:51 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:05:51 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.117s ago] ('last_task_update', 1, 0)
2026-01-09 21:05:51 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:05:46.308794 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-10 21:05:51.411707 (virtual), real_now=2026-01-09 21:05:51.411734, current_day_start=2026-01-10 03:00:00, is_new=True
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.114s ago] ()
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.108s ago] (1, 4, 5, 9, 12)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.123s ago] ('last_task_update', 1, 0)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.107s ago] ('2026-01-09 21:05:51.416572', '2026-01-10 21:05:51.418921', 'last_task_update')
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] ()
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine [cached since 5.159s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:05:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:05:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:11 INFO  homeplanner.realtime WS disconnect: id=139815729145440, total=0
2026-01-09 21:06:11 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:06:11 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:06:12 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:06:12 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:06:12 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:06:12 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:06:12 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:06:12 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:06:12 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:06:12 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:06:12 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:06:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:12 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:12 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:06:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:06:12 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:06:12 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:06:12 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:06:12 INFO  homeplanner.day_scheduler Scheduling next day check in 21287.5 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:06:13 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:06:13 INFO  homeplanner.realtime WS connect: id=140010076088000 host=192.168.1.2 port=55434 total=1
2026-01-09 21:06:23 INFO  homeplanner.realtime WS disconnect: id=140010076088000, total=0
2026-01-09 21:06:23 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:06:23 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:06:24 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:06:24 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:06:24 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:06:24 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:06:24 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:06:24 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:06:24 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:06:24 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:06:24 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:06:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:24 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:24 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:06:24 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:06:24 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:06:24 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:06:24 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:06:24 INFO  homeplanner.day_scheduler Scheduling next day check in 21275.4 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:06:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:06:25 INFO  homeplanner.realtime WS connect: id=139749403452544 host=192.168.1.2 port=46720 total=1
2026-01-09 21:06:31 INFO  homeplanner.realtime WS disconnect: id=139749403452544, total=0
2026-01-09 21:06:31 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:06:31 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:06:32 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:06:32 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:06:32 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:06:32 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:06:32 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:06:32 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:06:32 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:06:32 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:06:32 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:06:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:33 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:33 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:06:33 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:06:33 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:06:33 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:06:33 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:06:33 INFO  homeplanner.day_scheduler Scheduling next day check in 21266.8 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:06:34 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:06:34 INFO  homeplanner.realtime WS connect: id=139935187018880 host=192.168.1.2 port=44082 total=1
2026-01-09 21:06:39 INFO  homeplanner.realtime WS disconnect: id=139935187018880, total=0
2026-01-09 21:06:39 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:06:39 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:06:40 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:06:40 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:06:40 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:06:40 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:06:40 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:06:40 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:06:40 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:06:40 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:06:40 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:06:40 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:40 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:40 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:40 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:06:40 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:06:40 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:06:40 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:06:40 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:06:40 INFO  homeplanner.day_scheduler Scheduling next day check in 21259.6 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:06:41 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:06:41 INFO  homeplanner.realtime WS connect: id=140674175247344 host=192.168.1.2 port=44086 total=1
2026-01-09 21:06:52 INFO  homeplanner.realtime WS disconnect: id=140674175247344, total=0
2026-01-09 21:06:52 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:06:52 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:06:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:06:53 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:06:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:06:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:06:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:06:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:06:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:06:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:06:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:06:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:06:53 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:06:53 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:06:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:06:53 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:06:53 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:06:53 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:06:53 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:06:53 INFO  homeplanner.day_scheduler Scheduling next day check in 21246.5 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:06:54 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:06:54 INFO  homeplanner.realtime WS connect: id=140192271753984 host=192.168.1.2 port=36806 total=1
2026-01-09 21:07:08 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=True)
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ()
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine [generated in 0.00048s] (1, 4, 5, 9, 12)
2026-01-09 21:07:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:18 INFO  homeplanner.tasks Time shift: triggering task recalculation
2026-01-09 21:07:18 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=True)
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine [cached since 9.991s ago] ()
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine [cached since 9.985s ago] (1, 4, 5, 9, 12)
2026-01-09 21:07:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:18 INFO  homeplanner.tasks Time shift: task recalculation completed
2026-01-09 21:07:30 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:07:30 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=False)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ('last_task_update', 1, 0)
2026-01-09 21:07:30 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:05:51.416572 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-10 21:07:30.755850 (virtual), real_now=2026-01-09 21:07:30.755870, current_day_start=2026-01-10 03:00:00, is_new=True
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [cached since 22.63s ago] ()
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [cached since 22.63s ago] (1, 4, 5, 9, 12)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [cached since 0.004651s ago] ('last_task_update', 1, 0)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ('2026-01-09 21:07:30.758978', '2026-01-10 21:07:30.761762', 'last_task_update')
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [generated in 0.00028s] ()
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine [cached since 22.67s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:07:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:38 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:07:38 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=False)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 7.588s ago] ('last_task_update', 1, 0)
2026-01-09 21:07:38 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:07:30.758978 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-10 21:07:38.343304 (virtual), real_now=2026-01-09 21:07:38.343332, current_day_start=2026-01-10 03:00:00, is_new=True
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 30.22s ago] ()
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 30.22s ago] (1, 4, 5, 9, 12)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 7.594s ago] ('last_task_update', 1, 0)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 7.589s ago] ('2026-01-09 21:07:38.347950', '2026-01-10 21:07:38.350111', 'last_task_update')
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 7.59s ago] ()
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine [cached since 30.26s ago] (1, 5, 9, 4, 7, 8, 12, 2, 6, 10, 3, 11)
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:07:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:07:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:07:59 INFO  homeplanner.realtime WS disconnect: id=140192271753984, total=0
2026-01-09 21:07:59 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:07:59 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:08:00 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:08:00 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:08:00 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:08:00 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:08:00 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:08:00 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:08:00 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:08:00 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:08:00 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:08:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:08:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:08:00 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:08:00 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:08:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:08:00 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:08:00 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:08:00 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:08:00 INFO  homeplanner.day_scheduler Scheduling next day check in 21179.1 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:08:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:08:01 INFO  homeplanner.realtime WS connect: id=140111216501264 host=192.168.1.2 port=37406 total=1
2026-01-09 21:08:26 INFO  homeplanner.realtime WS disconnect: id=140111216501264, total=0
2026-01-09 21:08:26 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:08:26 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:08:27 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:08:27 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:08:27 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:08:27 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:08:27 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:08:27 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:08:27 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:08:27 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:08:27 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:08:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:08:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:08:27 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:08:27 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:08:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:08:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:08:27 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:08:27 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:08:27 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:08:27 INFO  homeplanner.day_scheduler Scheduling next day check in 21152.2 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:08:28 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:08:28 INFO  homeplanner.realtime WS connect: id=140497111225056 host=192.168.1.2 port=49100 total=1
2026-01-09 21:08:39 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=True)
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 0 AND tasks.enabled = 1
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] (2, 3, 6, 7, 8, 10, 11)
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, updated_at=? WHERE tasks.id = ?
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] ('2026-01-15 09:00:00.000000', '2026-01-09 21:08:39.813297', 7)
2026-01-09 21:08:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:08:48 INFO  homeplanner.tasks Time shift: triggering task recalculation
2026-01-09 21:08:48 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=True)
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 0 AND tasks.enabled = 1
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine [cached since 9.177s ago] ()
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine [cached since 9.171s ago] (2, 3, 6, 7, 8, 10, 11)
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, updated_at=? WHERE tasks.id = ?
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine [generated in 0.00036s] [('2026-01-11 09:00:00.000000', '2026-01-10 21:08:48.983225', 2), ('2026-01-11 09:00:00.000000', '2026-01-10 21:08:48.983237', 6), ('2026-01-11 09:00:00.000000', '2026-01-10 21:08:48.983242', 10)]
2026-01-09 21:08:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:08:49 INFO  homeplanner.tasks Time shift: task recalculation completed
2026-01-09 21:09:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:09:01 INFO  homeplanner.tasks _recalculate_completed_tasks_on_new_day called (force=False)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] ('last_task_update', 1, 0)
2026-01-09 21:09:01 INFO  homeplanner.tasks is_new_day: last_update=2026-01-09 21:07:38.347950 (real), last_update_day_start=2026-01-09 03:00:00, now=2026-01-10 21:09:01.645206 (virtual), real_now=2026-01-09 21:09:01.645227, current_day_start=2026-01-10 03:00:00, is_new=True
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [generated in 0.00024s] ()
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [cached since 21.84s ago] (1, 4, 5, 9, 12)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [cached since 0.005881s ago] ('last_task_update', 1, 0)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] ('2026-01-09 21:09:01.649521', '2026-01-10 21:09:01.651645', 'last_task_update')
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] ()
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine [cached since 21.89s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:09:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:09:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:14:33 INFO  homeplanner.realtime WS disconnect: id=140497111225056, total=0
2026-01-09 21:14:33 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:14:33 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:14:34 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:14:34 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:14:34 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:14:34 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:14:34 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:14:34 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:14:34 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:14:34 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:14:34 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:14:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:14:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:14:35 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:14:35 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:14:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:14:35 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:14:35 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:14:35 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:14:35 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:14:35 INFO  homeplanner.day_scheduler Scheduling next day check in 20784.9 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:14:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:14:36 INFO  homeplanner.realtime WS connect: id=139945021547888 host=192.168.1.2 port=55344 total=1
2026-01-09 21:15:27 INFO  homeplanner.realtime WS disconnect: id=139945021547888, total=0
2026-01-09 21:15:27 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:15:27 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:15:28 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:15:28 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:15:28 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:15:28 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:15:28 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:15:28 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:15:28 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:15:28 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:15:28 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:15:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:28 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:15:28 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:15:28 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:15:28 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:15:28 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:15:28 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:15:28 INFO  homeplanner.day_scheduler Scheduling next day check in 20731.1 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:15:29 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:15:29 INFO  homeplanner.realtime WS connect: id=140717441508960 host=192.168.1.2 port=43802 total=1
2026-01-09 21:15:34 INFO  homeplanner.realtime WS disconnect: id=140717441508960, total=0
2026-01-09 21:15:34 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:15:34 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:15:35 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:15:35 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:15:35 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:15:35 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:15:35 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:15:35 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:15:35 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:15:35 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:15:35 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:15:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:35 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:15:35 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:15:35 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:15:35 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:15:35 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:15:35 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:15:35 INFO  homeplanner.day_scheduler Scheduling next day check in 20724.4 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:15:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:15:36 INFO  homeplanner.realtime WS connect: id=140431595644416 host=192.168.1.2 port=36266 total=1
2026-01-09 21:15:48 INFO  homeplanner.realtime WS disconnect: id=140431595644416, total=0
2026-01-09 21:15:48 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:15:48 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:15:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:15:49 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:15:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:15:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:15:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:15:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:15:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:15:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:15:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:15:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:49 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:15:49 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:15:49 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:15:49 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:15:49 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:15:49 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:15:49 INFO  homeplanner.day_scheduler Scheduling next day check in 20710.4 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:15:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:15:50 INFO  homeplanner.realtime WS connect: id=140111328781968 host=192.168.1.2 port=50918 total=1
2026-01-09 21:15:58 INFO  homeplanner.realtime WS disconnect: id=140111328781968, total=0
2026-01-09 21:15:58 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:15:58 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:15:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:15:59 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:15:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:15:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:15:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:15:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:15:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:15:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:15:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:15:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:15:59 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:15:59 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:15:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:15:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:15:59 INFO  homeplanner.day_scheduler Day change scheduler task created
2026-01-09 21:15:59 INFO  homeplanner.system Day change scheduler started
2026-01-09 21:15:59 INFO  homeplanner.day_scheduler Day change scheduler started
2026-01-09 21:15:59 INFO  homeplanner.day_scheduler Scheduling next day check in 20700.3 seconds (at 2026-01-10 03:01:00)
2026-01-09 21:16:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:16:00 INFO  homeplanner.realtime WS connect: id=140001261856304 host=192.168.1.2 port=37410 total=1
2026-01-09 21:30:14 INFO  homeplanner.realtime WS disconnect: id=140001261856304, total=0
2026-01-09 21:30:15 INFO  homeplanner.day_scheduler Day change scheduler stopped
2026-01-09 21:30:15 INFO  homeplanner.system Day change scheduler stopped
2026-01-09 21:33:27 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:33:27 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:33:27 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:33:27 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:33:27 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:33:27 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:33:27 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:33:27 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:33:27 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:33:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:33:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:33:27 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:33:27 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:33:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:33:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:33:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:33:27 INFO  homeplanner.realtime WS connect: id=140162157699648 host=192.168.1.2 port=42196 total=1
2026-01-09 21:33:34 INFO  homeplanner.realtime WS disconnect: id=140162157699648, total=0
2026-01-09 21:35:15 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:35:15 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:35:15 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:35:15 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:35:15 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:35:15 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:35:15 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:35:15 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:35:15 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:35:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:35:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:35:15 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:35:15 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:35:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:35:15 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:35:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:35:15 INFO  homeplanner.realtime WS connect: id=140204394805056 host=192.168.1.2 port=53066 total=1
2026-01-09 21:35:19 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:35:19 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:35:19 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:35:19 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:35:19 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:35:19 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:35:19 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:35:19 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:35:19 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:35:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:36:55 INFO  homeplanner.realtime WS disconnect: id=140204394805056, total=0
2026-01-09 21:37:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:37:53 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:37:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:37:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:37:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:37:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:37:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:37:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:37:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:37:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:37:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:37:54 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:37:54 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:37:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:37:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:37:54 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:37:54 INFO  homeplanner.realtime WS connect: id=140564146691760 host=192.168.1.2 port=38000 total=1
2026-01-09 21:37:58 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:37:58 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:37:58 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:37:58 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:37:58 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:37:58 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:37:58 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:37:58 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:37:58 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:37:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:03 INFO  homeplanner.realtime WS disconnect: id=140564146691760, total=0
2026-01-09 21:38:05 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:38:05 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:38:05 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:38:05 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:38:05 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:38:05 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:38:05 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:38:05 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:38:05 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:38:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:05 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:38:05 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:38:05 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:38:06 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:38:06 INFO  homeplanner.realtime WS connect: id=139924157864832 host=192.168.1.2 port=40074 total=1
2026-01-09 21:38:09 INFO  homeplanner.realtime WS disconnect: id=139924157864832, total=0
2026-01-09 21:38:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:38:10 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:38:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:38:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:38:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:38:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:38:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:38:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:38:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:38:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:10 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:38:10 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:38:10 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:38:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:38:11 INFO  homeplanner.realtime WS connect: id=139896559514064 host=192.168.1.2 port=40088 total=1
2026-01-09 21:38:15 INFO  homeplanner.realtime WS disconnect: id=139896559514064, total=0
2026-01-09 21:38:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:38:16 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:38:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:38:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:38:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:38:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:38:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:38:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:38:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:38:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:38:16 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:38:16 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:38:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:38:16 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:38:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:38:17 INFO  homeplanner.realtime WS connect: id=140137490708288 host=192.168.1.2 port=54410 total=1
2026-01-09 21:41:23 INFO  homeplanner.realtime WS disconnect: id=140137490708288, total=0
2026-01-09 21:41:30 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:41:30 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:41:30 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:41:30 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:41:30 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:41:30 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:41:30 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:41:30 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:41:30 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:41:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:30 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:41:30 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:41:30 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:41:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:41:30 INFO  homeplanner.realtime WS connect: id=140309386885024 host=192.168.1.2 port=54310 total=1
2026-01-09 21:41:34 INFO  homeplanner.realtime WS disconnect: id=140309386885024, total=0
2026-01-09 21:41:35 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:41:35 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:41:35 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:41:35 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:41:35 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:41:35 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:41:35 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:41:35 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:41:35 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:41:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:35 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:41:35 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:41:35 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:41:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:41:36 INFO  homeplanner.realtime WS connect: id=140543691206736 host=192.168.1.2 port=34510 total=1
2026-01-09 21:41:40 INFO  homeplanner.realtime WS disconnect: id=140543691206736, total=0
2026-01-09 21:41:41 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:41:41 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:41:41 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:41:41 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:41:41 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:41:41 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:41:41 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:41:41 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:41:41 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:41:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:41 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:41:41 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:41:41 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:41:42 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:41:42 INFO  homeplanner.realtime WS connect: id=139720296855312 host=192.168.1.2 port=34520 total=1
2026-01-09 21:41:45 INFO  homeplanner.realtime WS disconnect: id=139720296855312, total=0
2026-01-09 21:41:46 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:41:46 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:41:46 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:41:46 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:41:46 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:41:46 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:41:46 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:41:46 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:41:46 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:41:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:41:46 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:41:46 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:41:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:41:46 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:41:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:41:47 INFO  homeplanner.realtime WS connect: id=140675176150176 host=192.168.1.2 port=58926 total=1
2026-01-09 21:41:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:41:51 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:41:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:41:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:41:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:41:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:41:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:41:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:41:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:41:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:43:13 INFO  homeplanner.realtime WS disconnect: id=140675176150176, total=0
2026-01-09 21:43:14 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:43:14 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:43:14 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:43:14 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:43:14 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:43:14 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:43:14 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:43:14 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:43:14 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:43:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:43:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:43:14 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:43:14 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:43:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:43:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:43:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:43:15 INFO  homeplanner.realtime WS connect: id=140000798339248 host=192.168.1.2 port=55244 total=1
2026-01-09 21:45:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:45:05 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:05 INFO  homeplanner.users Starting query for all users
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00339s] ()
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00136s] ('last_task_update', 1, 0)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [cached since 0.005724s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00164s] ()
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00275s] ()
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [cached since 0.007883s ago] ()
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00162s] (1, 2, 3)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [generated in 0.00045s] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:05 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:45:05 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:45:05 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine [cached since 0.007315s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:45:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:45:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:08 INFO  homeplanner.realtime WS disconnect: id=140000798339248, total=0
2026-01-09 21:45:08 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:45:08 INFO  homeplanner.users Starting query for all users
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.408s ago] ()
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.409s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.404s ago] ()
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.41s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.4s ago] ()
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.393s ago] (1, 2, 3)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.4s ago] ()
2026-01-09 21:45:08 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:45:08 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:08 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.39s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine [cached since 2.394s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:45:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 21:45:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:45:08 INFO  homeplanner.realtime WS connect: id=140000772759792 host=192.168.1.2 port=47724 total=1
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00055s] (8, 1, 0)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 20.87s ago] (8,)
2026-01-09 21:45:26 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00055s] (0, 1, '2026-01-09 21:45:26.807029', 8)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00052s] (8,)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00039s] (8,)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] (8, 'CONFIRMED', '2026-01-09 21:45:26.855910', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] (300,)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] (8,)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 0.0566s ago] (8,)
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP complete: task_id=8
2026-01-09 21:45:26 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 8}
2026-01-09 21:45:26 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 8}
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:26 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  homeplanner.users Starting query for all users
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.03s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.03s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.03s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.02s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.02s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.02s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.01s ago] (1, 2, 3)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.04s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.01s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:45:26 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:26 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.02s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:45:26 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 21:45:26 INFO  homeplanner.users Starting query for all users
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.05s ago] ()
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.04s ago] (1, 2, 3)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.06s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:26 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.06s ago] ('last_task_update', 1, 0)
2026-01-09 21:45:26 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:26 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.05s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.05s ago] ()
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:45:26 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine [cached since 21.04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:45:26 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:45:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:09 INFO  homeplanner.realtime WS disconnect: id=140000772759792, total=0
2026-01-09 21:50:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:10 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:10 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:10 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:10 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:11 INFO  homeplanner.realtime WS connect: id=139993562072464 host=192.168.1.2 port=41782 total=1
2026-01-09 21:50:16 INFO  homeplanner.realtime WS disconnect: id=139993562072464, total=0
2026-01-09 21:50:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:17 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:18 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:18 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:18 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:19 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:19 INFO  homeplanner.realtime WS connect: id=139658966100080 host=192.168.1.2 port=41154 total=1
2026-01-09 21:50:33 INFO  homeplanner.realtime WS disconnect: id=139658966100080, total=0
2026-01-09 21:50:34 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:34 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:34 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:34 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:34 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:34 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:34 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:34 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:34 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:35 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:35 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:35 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:36 INFO  homeplanner.realtime WS connect: id=140297958727104 host=192.168.1.2 port=51450 total=1
2026-01-09 21:50:41 INFO  homeplanner.realtime WS disconnect: id=140297958727104, total=0
2026-01-09 21:50:42 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:42 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:42 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:42 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:42 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:42 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:42 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:42 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:42 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:42 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:42 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:42 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:43 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:43 INFO  homeplanner.realtime WS connect: id=139858107277504 host=192.168.1.2 port=51456 total=1
2026-01-09 21:50:48 INFO  homeplanner.realtime WS disconnect: id=139858107277504, total=0
2026-01-09 21:50:49 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:49 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:49 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:49 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:49 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:49 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:49 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:49 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:49 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:50 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:50 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:50 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:50 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:50 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:51 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:51 INFO  homeplanner.realtime WS connect: id=140649597377216 host=192.168.1.2 port=52060 total=1
2026-01-09 21:50:56 INFO  homeplanner.realtime WS disconnect: id=140649597377216, total=0
2026-01-09 21:50:57 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:50:57 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:50:57 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:50:57 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:50:57 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:50:57 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:50:57 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:50:57 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:50:57 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:50:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:50:57 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:50:57 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:50:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:50:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:50:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:50:58 INFO  homeplanner.realtime WS connect: id=140236007792784 host=192.168.1.2 port=60546 total=1
2026-01-09 21:51:01 INFO  homeplanner.realtime WS disconnect: id=140236007792784, total=0
2026-01-09 21:51:02 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:02 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:02 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:02 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:02 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:02 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:02 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:02 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:02 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:02 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:02 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:02 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:04 INFO  homeplanner.realtime WS connect: id=140268084428528 host=192.168.1.2 port=57746 total=1
2026-01-09 21:51:08 INFO  homeplanner.realtime WS disconnect: id=140268084428528, total=0
2026-01-09 21:51:09 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:09 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:09 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:09 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:09 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:09 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:09 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:09 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:09 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:09 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:09 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:09 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:09 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:09 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:10 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:10 INFO  homeplanner.realtime WS connect: id=140482109659984 host=192.168.1.2 port=57762 total=1
2026-01-09 21:51:28 INFO  homeplanner.realtime WS disconnect: id=140482109659984, total=0
2026-01-09 21:51:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:29 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:29 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:29 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:29 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:30 INFO  homeplanner.realtime WS connect: id=140499248631392 host=192.168.1.2 port=46114 total=1
2026-01-09 21:51:35 INFO  homeplanner.realtime WS disconnect: id=140499248631392, total=0
2026-01-09 21:51:36 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:36 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:36 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:36 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:36 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:36 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:36 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:36 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:36 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:36 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:36 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:36 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:37 INFO  homeplanner.realtime WS connect: id=140191165780704 host=192.168.1.2 port=45482 total=1
2026-01-09 21:51:43 INFO  homeplanner.realtime WS disconnect: id=140191165780704, total=0
2026-01-09 21:51:44 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:44 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:44 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:44 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:44 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:44 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:44 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:44 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:44 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:44 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:44 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:44 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:45 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:45 INFO  homeplanner.realtime WS connect: id=139839143435232 host=192.168.1.2 port=47718 total=1
2026-01-09 21:51:50 INFO  homeplanner.realtime WS disconnect: id=139839143435232, total=0
2026-01-09 21:51:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:51:51 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:51:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:51:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:51:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:51:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:51:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:51:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:51:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:51:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:51:51 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:51:51 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:51:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:51:51 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:51:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:51:52 INFO  homeplanner.realtime WS connect: id=140384970773216 host=192.168.1.2 port=47734 total=1
2026-01-09 21:53:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:53:17 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:53:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:53:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:53:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:53:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:53:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:53:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:53:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:53:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:53:17 INFO  homeplanner.system HTTP mode (SSL not configured)
2026-01-09 21:53:35 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] ('last_task_update', 1, 0)
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] ()
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine [generated in 0.00048s] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:53:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine [cached since 5.126s ago] (1, 4, 5, 8, 9, 12)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine [cached since 5.138s ago] ()
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine [cached since 5.133s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:53:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:53:53 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine [cached since 17.31s ago] ('last_task_update', 1, 0)
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine [cached since 17.31s ago] ()
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine [cached since 17.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:53:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:53:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:54:02 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine [cached since 26.48s ago] ('last_task_update', 1, 0)
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine [cached since 26.47s ago] ()
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine [cached since 26.47s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:54:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:54:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine [cached since 33.27s ago] ('last_task_update', 1, 0)
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine [cached since 33.27s ago] ()
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine [cached since 33.26s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:54:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:54:15 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine [cached since 39.61s ago] ('last_task_update', 1, 0)
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine [cached since 39.61s ago] ()
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine [cached since 39.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:54:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:54:22 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine [cached since 46.38s ago] ('last_task_update', 1, 0)
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine [cached since 46.38s ago] ()
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine [cached since 46.37s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:54:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:54:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:55:22 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 127.0.0.1, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine [cached since 106.9s ago] ('last_task_update', 1, 0)
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine [cached since 106.9s ago] ()
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine [cached since 106.9s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 21:55:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 21:55:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:59:36 INFO  homeplanner.realtime WS disconnect: id=140384970773216, total=0
2026-01-09 21:59:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 21:59:37 INFO  homeplanner.system uvicorn level: 10
2026-01-09 21:59:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 21:59:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 21:59:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 21:59:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 21:59:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 21:59:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 21:59:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 21:59:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:59:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 21:59:37 INFO  homeplanner.database Initializing database tables...
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 21:59:37 INFO  homeplanner.database Database tables created successfully
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 21:59:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 21:59:37 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 21:59:38 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 21:59:38 INFO  homeplanner.realtime WS connect: id=139852973234880 host=192.168.1.2 port=48206 total=1
2026-01-09 22:06:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] ('last_task_update', 1, 0)
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] ()
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine [generated in 0.00040s] (2, 6, 10, 3, 7, 11)
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:06:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 22:06:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:07:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [generated in 0.00126s] ()
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [cached since 0.9353s ago] ('last_task_update', 1, 0)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [cached since 0.9352s ago] ()
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [cached since 0.9297s ago] (2, 6, 10, 3, 7, 11)
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:07:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:07:00 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 22:07:00 INFO  homeplanner.users Starting query for simple users
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-09 22:07:00 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 22:07:00 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [cached since 0.0817s ago] ()
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:07:00 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 22:07:00 INFO  homeplanner.users Starting query for simple users
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine [cached since 0.06451s ago] ()
2026-01-09 22:07:00 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 22:07:00 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 22:07:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00089s] (9, 1, 0)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.4s ago] (9,)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00074s] (9, 'CONFIRMED', 1, 0)
2026-01-09 22:12:29 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00080s] (1, 0, '2026-01-09 22:12:29.579267', 9)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00069s] (9,)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00090s] (9,)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00073s] (9, 'UNCONFIRMED', '2026-01-09 22:12:29.637280', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] (301,)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] (9,)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.04812s ago] (9,)
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP uncomplete: task_id=9
2026-01-09 22:12:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 9}
2026-01-09 22:12:29 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 9}
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  homeplanner.users Starting query for all users
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 329.6s ago] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00436s] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00268s] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 329.6s ago] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.008656s ago] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [generated in 0.00074s] (1, 2, 3)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:29 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:12:29 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:29 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:12:29 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  homeplanner.users Starting query for all users
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.02794s ago] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.02136s ago] (1, 2, 3)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.03064s ago] ()
2026-01-09 22:12:29 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:12:29 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:29 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:29 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 0.04055s ago] ()
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine [cached since 330.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:12:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:12:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.257s ago] (8, 1, 0)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.7s ago] (8,)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history 
WHERE task_history.task_id = ? AND task_history.action = ? ORDER BY task_history.action_timestamp DESC
 LIMIT ? OFFSET ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.252s ago] (8, 'CONFIRMED', 1, 0)
2026-01-09 22:12:31 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.248s ago] (1, 0, '2026-01-09 22:12:31.827151', 8)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.235s ago] (8,)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.229s ago] (8,)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.225s ago] (8, 'UNCONFIRMED', '2026-01-09 22:12:31.864863', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.225s ago] (302,)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.225s ago] (8,)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.273s ago] (8,)
2026-01-09 22:12:31 INFO  homeplanner.tasks HTTP uncomplete: task_id=8
2026-01-09 22:12:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 8}
2026-01-09 22:12:31 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 8}
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:12:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 331.9s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  homeplanner.users Starting query for all users
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.8s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.8s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.243s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.248s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.249s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.241s ago] (1, 2, 3)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 331.9s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:31 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:12:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:31 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.8s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.8s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:12:31 INFO  homeplanner.users Starting query for all users
2026-01-09 22:12:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:12:31 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 2.293s ago] ()
2026-01-09 22:12:31 INFO  sqlalchemy.engine.Engine [cached since 332.9s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:12:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 2.29s ago] (1, 2, 3)
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 2.299s ago] ()
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 332.9s ago] ('last_task_update', 1, 0)
2026-01-09 22:12:32 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:12:32 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:12:32 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 2.314s ago] ()
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 332.9s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:32 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine [cached since 332.9s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:12:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:12:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:30 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:30 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.1s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:30 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:30 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 19:13:30.677000+00:00
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.72s ago] (5, 1, 0)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.1s ago] (5,)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [generated in 0.00053s] ('2026-01-09 19:13:30.677000', 5)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.7s ago] (5,)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.7s ago] (5,)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.69s ago] (5, 'CONFIRMED', '2026-01-09 22:13:30.333161', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.69s ago] (303,)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.69s ago] (5,)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.74s ago] (5,)
2026-01-09 22:13:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 22:13:30 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.2s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.67s ago] ()
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.2s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:30 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:30 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:30 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 390.3s ago] ()
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.7s ago] ()
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.7s ago] ()
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.71s ago] ()
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 60.7s ago] (1, 2, 3)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine [cached since 391.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:30 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:30 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:30 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:30 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:30 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:32 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:32 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:32 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:32 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 19:13:32.519000+00:00
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.61s ago] (5, 1, 0)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393s ago] (5,)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 1.891s ago] ('2026-01-09 19:13:32.519000', 5)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.58s ago] (5,)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.57s ago] (5,)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.57s ago] (5, 'CONFIRMED', '2026-01-09 22:13:32.209168', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] (304,)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] (5,)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.61s ago] (5,)
2026-01-09 22:13:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 22:13:32 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.54s ago] ()
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:32 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:32 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 392.2s ago] ()
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] ()
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] ()
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] ()
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 62.56s ago] (1, 2, 3)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:32 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine [cached since 393.1s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:32 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:32 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:32 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:33 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:33 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:33 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:33 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 19:13:33.703000+00:00
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.87s ago] (5, 1, 0)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.3s ago] (5,)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 3.15s ago] ('2026-01-09 19:13:33.703000', 5)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.84s ago] (5,)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.84s ago] (5,)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.83s ago] (5, 'CONFIRMED', '2026-01-09 22:13:33.471162', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.83s ago] (305,)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.83s ago] (5,)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.88s ago] (5,)
2026-01-09 22:13:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 22:13:33 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.81s ago] ()
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:33 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:33 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:33 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 393.5s ago] ()
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.84s ago] ()
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.84s ago] (1, 2, 3)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:33 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.85s ago] ()
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 63.85s ago] ()
2026-01-09 22:13:33 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:33 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:34 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.2s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:34 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:34 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 19:13:34.636000+00:00
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.77s ago] (5, 1, 0)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.2s ago] (5,)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 4.051s ago] ('2026-01-09 19:13:34.636000', 5)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.75s ago] (5,)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.74s ago] (5,)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.74s ago] (5, 'CONFIRMED', '2026-01-09 22:13:34.379529', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.74s ago] (306,)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.74s ago] (5,)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.79s ago] (5,)
2026-01-09 22:13:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 22:13:34 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.72s ago] ()
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:34 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:34 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:34 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 394.4s ago] ()
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.76s ago] ()
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.76s ago] ()
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.76s ago] (1, 2, 3)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 64.77s ago] ()
2026-01-09 22:13:34 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:34 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:34 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine [cached since 395.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:35 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:35 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.5s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:35 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:35 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 1 with timestamp 2026-01-09 19:13:36.039000+00:00
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] (1, 1, 0)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.5s ago] (1,)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 5.365s ago] ('2026-01-09 19:13:36.039000', 1)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.11s ago] (1,)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.1s ago] (1,)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.1s ago] (1, 'CONFIRMED', '2026-01-09 22:13:35.735801', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] (307,)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] (1,)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.14s ago] (1,)
2026-01-09 22:13:35 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 22:13:35 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.07s ago] ()
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:35 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:35 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:35 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:35 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 395.7s ago] ()
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] ()
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] ()
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] ()
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 66.09s ago] (1, 2, 3)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:35 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:35 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:35 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:35 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:36 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:36 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.5s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:36 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:36 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 8 with timestamp 2026-01-09 19:13:37.013000+00:00
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67.04s ago] (8, 1, 0)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.4s ago] (8,)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] (0, 1, '2026-01-09 19:13:37.013000', 8)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67.01s ago] (8,)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67.01s ago] (8,)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] (8, 'CONFIRMED', '2026-01-09 22:13:36.640720', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] (308,)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] (8,)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67.04s ago] (8,)
2026-01-09 22:13:36 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 8}
2026-01-09 22:13:36 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 8}
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.5s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 66.98s ago] ()
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.5s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:36 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:36 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:36 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 396.6s ago] ()
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] ()
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] ()
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67s ago] (1, 2, 3)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 67.01s ago] ()
2026-01-09 22:13:36 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:36 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:36 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine [cached since 397.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:36 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:38 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:38 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.5s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:38 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:38 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 4 with timestamp 2026-01-09 19:13:39.152000+00:00
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.13s ago] (4, 1, 0)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.5s ago] (4,)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 8.41s ago] ('2026-01-09 19:13:39.152000', 4)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.1s ago] (4,)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.1s ago] (4,)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.09s ago] (4, 'CONFIRMED', '2026-01-09 22:13:38.731784', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.09s ago] (309,)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.09s ago] (4,)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.14s ago] (4,)
2026-01-09 22:13:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 4}
2026-01-09 22:13:38 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 4}
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.6s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.07s ago] ()
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.6s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:38 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:38 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:38 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:38 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:38 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 398.7s ago] ()
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.11s ago] ()
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.7s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.7s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.11s ago] ()
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.11s ago] ()
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 69.11s ago] (1, 2, 3)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.7s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:38 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:38 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:38 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:38 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine [cached since 399.7s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 22:13:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:40 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:13:40 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:40 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:13:40 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 9 with timestamp 2026-01-09 19:13:40.409000+00:00
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.6s ago] (9, 1, 0)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401s ago] (9,)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 3.559s ago] (0, 1, '2026-01-09 19:13:40.409000', 9)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.57s ago] (9,)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.57s ago] (9,)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.57s ago] (9, 'CONFIRMED', '2026-01-09 22:13:40.205373', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.79s ago] (310,)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.8s ago] (9,)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.84s ago] (9,)
2026-01-09 22:13:40 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9}
2026-01-09 22:13:40 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9}
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.3s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.78s ago] ()
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:13:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:40 INFO  homeplanner.users Starting query for all users
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:13:40 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 400.4s ago] ()
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.81s ago] ()
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.4s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.4s ago] ('last_task_update', 1, 0)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.82s ago] ()
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.81s ago] (1, 2, 3)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 70.82s ago] ()
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.4s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:40 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:13:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:13:40 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:13:40 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine [cached since 401.4s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:13:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:13:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:21:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine [cached since 899.9s ago] ('last_task_update', 1, 0)
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine [cached since 899.9s ago] ()
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine [cached since 899.9s ago] (2, 6, 10, 3, 7, 11)
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 22:21:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:21:59 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 22:21:59 INFO  homeplanner.users Starting query for simple users
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine [cached since 899.1s ago] ()
2026-01-09 22:21:59 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 22:21:59 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine [cached since 899.2s ago] ()
2026-01-09 22:21:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:25:50 INFO  homeplanner.realtime WS disconnect: id=139852973234880, total=0
2026-01-09 22:25:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:25:51 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:25:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:25:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:25:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:25:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:25:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:25:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:25:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:25:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:25:52 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:25:52 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:25:52 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:25:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:25:52 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:25:53 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:25:53 INFO  homeplanner.realtime WS connect: id=139916029287344 host=192.168.1.2 port=54678 total=1
2026-01-09 22:26:00 INFO  homeplanner.realtime WS disconnect: id=139916029287344, total=0
2026-01-09 22:26:01 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:26:01 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:26:01 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:26:01 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:26:01 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:26:01 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:26:01 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:26:01 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:26:01 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:26:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:26:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:26:01 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:26:01 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:26:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:26:02 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:26:02 INFO  homeplanner.realtime WS connect: id=140420382137600 host=192.168.1.2 port=39360 total=1
2026-01-09 22:26:17 INFO  homeplanner.realtime WS disconnect: id=140420382137600, total=0
2026-01-09 22:26:18 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:26:18 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:26:18 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:26:18 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:26:18 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:26:18 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:26:18 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:26:18 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:26:18 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:26:18 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:26:18 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:26:18 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:26:18 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:26:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:26:18 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:26:19 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:26:19 INFO  homeplanner.realtime WS connect: id=140091391400832 host=192.168.1.2 port=33736 total=1
2026-01-09 22:30:19 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:30:19 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ('last_task_update', 1, 0)
2026-01-09 22:30:19 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:30:19 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 8 with timestamp 2026-01-09 19:30:20.114000+00:00
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] (8, 1, 0)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] (8,)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ('2026-01-09 19:30:20.114000', 8)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00031s] (8,)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] (8,)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] (8, 'CONFIRMED', '2026-01-09 22:30:19.889473', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] (311,)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] (8,)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.04229s ago] (8,)
2026-01-09 22:30:19 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 8}
2026-01-09 22:30:19 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 8}
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.1094s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00053s] ()
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.105s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:19 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:30:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:30:19 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:19 INFO  homeplanner.users Starting query for all users
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.1382s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00173s] ()
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.1398s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00324s] ()
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.03378s ago] ()
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.03459s ago] ()
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [generated in 0.00090s] (1, 2, 3)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.1421s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:19 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:30:19 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:19 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine [cached since 0.1455s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:30:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:22 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:30:22 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.53s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:22 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:30:22 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 12 with timestamp 2026-01-09 19:30:22.662000+00:00
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.526s ago] (12, 1, 0)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.521s ago] (12,)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.52s ago] ('2026-01-09 19:30:22.662000', 12)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.513s ago] (12,)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.512s ago] (12,)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.512s ago] (12, 'CONFIRMED', '2026-01-09 22:30:22.401722', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.513s ago] (312,)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.513s ago] (12,)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.555s ago] (12,)
2026-01-09 22:30:22 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 12}
2026-01-09 22:30:22 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 12}
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.623s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.514s ago] ()
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.62s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:22 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:30:22 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:30:22 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  homeplanner.users Starting query for all users
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.649s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.518s ago] ()
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.519s ago] ()
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.549s ago] ()
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.664s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.523s ago] (1, 2, 3)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.562s ago] ()
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.663s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:22 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:30:22 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:30:22 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:30:22 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine [cached since 2.672s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:22 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:30:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.43s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 19:30:33.591000+00:00
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.43s ago] (5, 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (5,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] ('2026-01-09 19:30:33.591000', 5)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (5,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (5,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (5, 'CONFIRMED', '2026-01-09 22:30:33.306359', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (313,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] (5,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.46s ago] (5,)
2026-01-09 22:30:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 22:30:33 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.53s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.52s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:30:33 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  homeplanner.users Starting query for all users
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.55s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.56s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.42s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.45s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.45s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.41s ago] (1, 2, 3)
2026-01-09 22:30:33 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:30:33 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:30:33 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.56s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 13.56s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:33 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.07s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 1 with timestamp 2026-01-09 19:30:34.141000+00:00
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.07s ago] (1, 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.06s ago] (1,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.06s ago] ('2026-01-09 19:30:34.141000', 1)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.05s ago] (1,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.05s ago] (1,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.04s ago] (1, 'CONFIRMED', '2026-01-09 22:30:33.934840', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.05s ago] (314,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.05s ago] (1,)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.09s ago] (1,)
2026-01-09 22:30:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 22:30:33 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.16s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.05s ago] ()
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine [cached since 14.15s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:33 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 22:30:33 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 22:30:33 INFO  homeplanner.users Starting query for all users
2026-01-09 22:30:33 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.04s ago] ()
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.18s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.04s ago] ()
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.19s ago] ('last_task_update', 1, 0)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.08s ago] ()
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.04s ago] (1, 2, 3)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.08s ago] ()
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:34 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.19s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 22:30:34 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine [cached since 14.19s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 22:30:34 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 22:30:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 22:30:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 22:30:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:31:46 INFO  homeplanner.realtime WS disconnect: id=140091391400832, total=0
2026-01-09 22:31:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:31:47 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:31:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:31:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:31:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:31:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:31:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:31:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:31:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:31:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:31:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:31:47 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:31:47 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:31:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:31:47 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:31:48 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:31:48 INFO  homeplanner.realtime WS connect: id=140024329542768 host=192.168.1.2 port=54134 total=1
2026-01-09 22:45:44 INFO  homeplanner.realtime WS disconnect: id=140024329542768, total=0
2026-01-09 22:45:45 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:45:45 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:45:45 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:45:45 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:45:45 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:45:45 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:45:45 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:45:45 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:45:45 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:45:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:45:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:45:45 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:45:45 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:45:45 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:45:46 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:45:46 INFO  homeplanner.realtime WS connect: id=140281783279280 host=192.168.1.2 port=36656 total=1
2026-01-09 22:48:37 INFO  homeplanner.realtime WS disconnect: id=140281783279280, total=0
2026-01-09 22:48:38 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:48:38 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:48:38 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:48:38 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:48:38 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:48:38 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:48:38 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:48:38 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:48:38 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:48:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:48:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:48:38 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:48:38 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:48:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:48:38 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:48:39 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:48:39 INFO  homeplanner.realtime WS connect: id=140473855611616 host=192.168.1.2 port=35838 total=1
2026-01-09 22:51:47 INFO  homeplanner.realtime WS disconnect: id=140473855611616, total=0
2026-01-09 22:51:48 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 22:51:48 INFO  homeplanner.system uvicorn level: 10
2026-01-09 22:51:48 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 22:51:48 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 22:51:48 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 22:51:48 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 22:51:48 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 22:51:48 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 22:51:48 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 22:51:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:51:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 22:51:48 INFO  homeplanner.database Initializing database tables...
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 22:51:48 INFO  homeplanner.database Database tables created successfully
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 22:51:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 22:51:48 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 22:51:49 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 22:51:49 INFO  homeplanner.realtime WS connect: id=140449637375040 host=192.168.1.2 port=37140 total=1
2026-01-09 23:15:45 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ('last_task_update', 1, 0)
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine [generated in 0.00034s] (2, 6, 10, 3, 7, 11)
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:45 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 23:15:45 INFO  homeplanner.users Starting query for simple users
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine [generated in 0.00025s] ()
2026-01-09 23:15:45 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 23:15:45 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 23:15:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:46 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine [cached since 1.106s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine [cached since 1.105s ago] ()
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine [cached since 1.101s ago] (2, 6, 10, 3, 7, 11)
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:15:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine [cached since 0.7948s ago] ()
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:46 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 23:15:46 INFO  homeplanner.users Starting query for simple users
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine [cached since 0.7839s ago] ()
2026-01-09 23:15:46 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 23:15:46 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 23:15:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:48 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:48 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [cached since 3.625s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:48 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:48 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-09 20:15:49.218000+00:00
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [generated in 0.00060s] (1, 1, 0)
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [cached since 3.622s ago] (1,)
2026-01-09 23:15:48 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 1: name 'logger' is not defined
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [cached since 3.637s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [generated in 0.00050s] ()
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine [cached since 3.631s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:48 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:56 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:56 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 11.22s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:56 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:56 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 5 with timestamp 2026-01-09 20:15:56.865000+00:00
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 7.596s ago] (5, 1, 0)
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 11.22s ago] (5,)
2026-01-09 23:15:56 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 5: name 'logger' is not defined
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 11.23s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 7.59s ago] ()
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine [cached since 11.22s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:56 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:57 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:57 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 11.91s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 9 with timestamp 2026-01-09 20:15:57.456000+00:00
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 8.283s ago] (9, 1, 0)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 11.9s ago] (9,)
2026-01-09 23:15:57 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 9: name 'logger' is not defined
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 11.92s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 8.28s ago] ()
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 11.91s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:57 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:57 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 12.21s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 4 with timestamp 2026-01-09 20:15:57.840000+00:00
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 8.581s ago] (4, 1, 0)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 12.2s ago] (4,)
2026-01-09 23:15:57 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 4: name 'logger' is not defined
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 12.21s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 8.574s ago] ()
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine [cached since 12.2s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:57 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:58 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:58 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 12.92s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 12 with timestamp 2026-01-09 20:15:58.563000+00:00
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 9.292s ago] (12, 1, 0)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 12.91s ago] (12,)
2026-01-09 23:15:58 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 12: name 'logger' is not defined
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 12.92s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 9.286s ago] ()
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 12.91s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:15:58 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:15:58 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 13.8s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 8 with timestamp 2026-01-09 20:15:59.291000+00:00
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 10.18s ago] (8, 1, 0)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 13.79s ago] (8,)
2026-01-09 23:15:58 ERROR homeplanner.tasks sync-queue: failed to apply op TaskOperationType.UNCOMPLETE for task 8: name 'logger' is not defined
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 13.81s ago] ('last_task_update', 1, 0)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 10.17s ago] ()
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine [cached since 13.8s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:15:58 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:15:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 12.42s ago] (9, 1, 0)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 16.04s ago] (9,)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:01 ERROR homeplanner.system Unhandled exception in FastAPI app: name 'logger' is not defined
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 140, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 445, in uncomplete_task
    uncompleted_task = TaskService.uncomplete_task(db, task_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 642, in uncomplete_task
    logger.info("uncomplete_task: task found, task_type=%s, completed=%s, enabled=%s, reminder_time=%s",
    ^^^^^^
NameError: name 'logger' is not defined
2026-01-09 23:16:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 16.08s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:01 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:16:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:01 INFO  homeplanner.users Starting query for all users
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 12.44s ago] ()
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 15.55s ago] ()
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 16.08s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [generated in 0.00072s] ()
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 16.08s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [generated in 0.00145s] (1, 2, 3)
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 12.45s ago] ()
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:01 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine [cached since 16.09s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:01 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:16:01 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:16:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:07 INFO  homeplanner.realtime WS disconnect: id=140449637375040, total=0
2026-01-09 23:16:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:16:08 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:08 INFO  homeplanner.users Starting query for all users
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 22.41s ago] ()
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 22.94s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 22.94s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 6.862s ago] ()
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 19.31s ago] ()
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 19.31s ago] ()
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 6.86s ago] (1, 2, 3)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 22.94s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:08 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:16:08 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:16:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:16:08 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine [cached since 22.95s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:16:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:16:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:16:08 INFO  homeplanner.realtime WS connect: id=140449625970336 host=192.168.1.2 port=53656 total=1
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 22.63s ago] (4, 1, 0)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 26.25s ago] (4,)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:11 ERROR homeplanner.system Unhandled exception in FastAPI app: name 'logger' is not defined
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 140, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 445, in uncomplete_task
    uncompleted_task = TaskService.uncomplete_task(db, task_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 642, in uncomplete_task
    logger.info("uncomplete_task: task found, task_type=%s, completed=%s, enabled=%s, reminder_time=%s",
    ^^^^^^
NameError: name 'logger' is not defined
2026-01-09 23:16:11 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:16:11 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:11 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:11 INFO  homeplanner.users Starting query for all users
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 26.29s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 26.29s ago] ('last_task_update', 1, 0)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 25.76s ago] ()
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 10.21s ago] ()
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 22.66s ago] ()
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 22.66s ago] ()
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 10.21s ago] (1, 2, 3)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 26.29s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:16:11 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine [cached since 26.29s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:16:11 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:11 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:16:11 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:16:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:16:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:17:15 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:17:15 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:17:15 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:17:15 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:17:15 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:17:15 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:17:15 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:17:15 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:17:15 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:17:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:15 DEBUG asyncio Using selector: EpollSelector
2026-01-09 23:17:15 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:17:15 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:17:15 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:17:15 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-09 23:17:15 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-09 23:17:15 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': ' ', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-09T10:00:00', 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-09T23:17:15.684061', 'updated_at': '2026-01-09T23:17:15.684069', 'readable_config': '9   10:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:17:15 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": " ", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-09T10:00:00", "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-09T23:17:15.684061", "updated_at": "2026-01-09T23:17:15.684069", "readable_config": "9   10:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:17:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-09 23:17:15 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 23:17:15 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-09 23:17:15 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-09 23:17:15 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 23:17:15 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 23:17:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-09 23:17:20 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:17:20 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:17:20 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:17:20 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:17:20 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:17:20 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:17:20 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:17:20 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:17:20 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:17:20 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:17:26 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:17:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:17:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:17:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:17:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:17:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:17:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:17:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:17:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:26 DEBUG asyncio Using selector: EpollSelector
2026-01-09 23:17:26 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:17:26 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:17:26 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:17:26 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-09 23:17:26 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-09 23:17:26 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Undo recurring', 'description': None, 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 1, 'interval_days': None, 'reminder_time': '2026-01-09T15:00:00', 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-09T23:17:26.252642', 'updated_at': '2026-01-09T23:17:26.252654', 'readable_config': ' 15:00  ', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:17:26 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Undo recurring", "description": null, "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 1, "interval_days": null, "reminder_time": "2026-01-09T15:00:00", "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-09T23:17:26.252642", "updated_at": "2026-01-09T23:17:26.252654", "readable_config": " 15:00  ", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:17:26 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-09 23:17:26 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 23:17:26 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-09 23:17:26 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-09 23:17:26 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 23:17:26 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 23:17:26 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-09 23:17:26 ERROR homeplanner.system Unhandled exception in FastAPI app: name 'logger' is not defined
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/home/sorg/.local/share/uv/python/cpython-3.12.12-linux-x86_64-gnu/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 140, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/routers/tasks.py", line 445, in uncomplete_task
    uncompleted_task = TaskService.uncomplete_task(db, task_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 642, in uncomplete_task
    logger.info("uncomplete_task: task found, task_type=%s, completed=%s, enabled=%s, reminder_time=%s",
    ^^^^^^
NameError: name 'logger' is not defined
2026-01-09 23:17:42 INFO  homeplanner.realtime WS disconnect: id=140449625970336, total=0
2026-01-09 23:17:43 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:17:43 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:17:43 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:17:43 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:17:43 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:17:43 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:17:43 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:17:43 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:17:43 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:17:43 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:43 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:43 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:17:43 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:17:43 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:17:44 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:17:44 INFO  homeplanner.realtime WS connect: id=140061880966976 host=192.168.1.2 port=37102 total=1
2026-01-09 23:17:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:17:47 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:17:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:17:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:17:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:17:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:17:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:17:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:17:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:17:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:17:48 DEBUG asyncio Using selector: EpollSelector
2026-01-09 23:17:48 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:17:48 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:17:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:17:48 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:17:48 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-09 23:17:48 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-09 23:17:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Undo recurring', 'description': None, 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 1, 'interval_days': None, 'reminder_time': '2026-01-09T15:00:00', 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-09T23:17:48.089351', 'updated_at': '2026-01-09T23:17:48.089362', 'readable_config': ' 15:00  ', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:17:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Undo recurring", "description": null, "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 1, "interval_days": null, "reminder_time": "2026-01-09T15:00:00", "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-09T23:17:48.089351", "updated_at": "2026-01-09T23:17:48.089362", "readable_config": " 15:00  ", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:17:48 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-09 23:17:48 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-09 23:17:48 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-09 23:17:48 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-09 23:17:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 23:17:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 23:17:48 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-09 23:17:48 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.RECURRING, completed=True, enabled=True, reminder_time=2026-01-09 15:00:00
2026-01-09 23:17:48 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 23:17:48 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-09 15:00:00
2026-01-09 23:17:48 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=1
2026-01-09 23:17:48 INFO  homeplanner.tasks HTTP uncomplete: task_id=1
2026-01-09 23:17:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1}
2026-01-09 23:17:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1}
2026-01-09 23:17:48 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/uncomplete "HTTP/1.1 200 OK"
2026-01-09 23:18:01 INFO  homeplanner.realtime WS disconnect: id=140061880966976, total=0
2026-01-09 23:18:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:01 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:01 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00333s] ()
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00189s] ('last_task_update', 1, 0)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [cached since 0.002216s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00233s] ()
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00166s] ()
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [cached since 0.001924s ago] ()
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00124s] (1, 2, 3)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:01 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [generated in 0.00166s] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine [cached since 0.00194s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:01 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:01 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:01 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:18:01 INFO  homeplanner.realtime WS connect: id=140061854620688 host=192.168.1.2 port=41006 total=1
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00068s] (9, 1, 0)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.085s ago] (9,)
2026-01-09 23:18:03 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=True, enabled=False, reminder_time=2026-01-07 09:00:00
2026-01-09 23:18:03 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:18:03 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00071s] (1, 0, '2026-01-09 23:18:03.619223', 9)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] (9,)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] (9,)
2026-01-09 23:18:03 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] (9, 'UNCONFIRMED', '2026-01-09 23:18:03.672374', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00028s] (315,)
2026-01-09 23:18:03 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=9
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] (9,)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 0.04116s ago] (9,)
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP uncomplete: task_id=9
2026-01-09 23:18:03 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 9}
2026-01-09 23:18:03 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 9}
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.225s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:03 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.225s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.218s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.219s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.231s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.226s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.214s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.221s ago] (1, 2, 3)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.216s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.245s ago] ()
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:03 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:03 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.257s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:03 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.25s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.257s ago] ()
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.262s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.244s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.251s ago] (1, 2, 3)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.258s ago] ()
2026-01-09 23:18:03 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:03 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:03 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine [cached since 2.254s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:07 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:18:07 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.07s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:07 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:18:07 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 1 with timestamp 2026-01-09 20:18:07.918000+00:00
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.971s ago] (1, 1, 0)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.054s ago] (1,)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [generated in 0.00052s] ('2026-01-09 20:18:07.918000', 1)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.962s ago] (1,)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.961s ago] (1,)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.96s ago] (1, 'CONFIRMED', '2026-01-09 23:18:07.632885', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.962s ago] (316,)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 3.962s ago] (1,)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 4.004s ago] (1,)
2026-01-09 23:18:07 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1}
2026-01-09 23:18:07 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 1}
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.174s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.167s ago] ()
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.16s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:07 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:07 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:07 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.209s ago] ()
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.209s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.214s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.214s ago] ()
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.209s ago] ()
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.212s ago] ()
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.21s ago] (1, 2, 3)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.208s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine [cached since 6.209s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:07 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:07 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:07 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:08 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:18:08 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.765s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:08 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:18:08 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 20:18:08.636000+00:00
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.666s ago] (5, 1, 0)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.749s ago] (5,)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 0.6955s ago] ('2026-01-09 20:18:08.636000', 5)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.645s ago] (5,)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.645s ago] (5,)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.643s ago] (5, 'CONFIRMED', '2026-01-09 23:18:08.316819', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.645s ago] (317,)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.645s ago] (5,)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 4.687s ago] (5,)
2026-01-09 23:18:08 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5}
2026-01-09 23:18:08 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5}
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.857s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.849s ago] ()
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.84s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:08 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:18:08 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:08 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.889s ago] ()
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.887s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.884s ago] ()
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.896s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.888s ago] ()
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.884s ago] (1, 2, 3)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.894s ago] ()
2026-01-09 23:18:08 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:08 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:08 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.887s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine [cached since 6.895s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:09 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:18:09 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.144s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:09 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:18:09 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 4 with timestamp 2026-01-09 20:18:09.925000+00:00
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.044s ago] (4, 1, 0)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.125s ago] (4,)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 2.07s ago] ('2026-01-09 20:18:09.925000', 4)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.019s ago] (4,)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.017s ago] (4,)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.015s ago] (4, 'CONFIRMED', '2026-01-09 23:18:09.688889', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.016s ago] (318,)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.015s ago] (4,)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 6.056s ago] (4,)
2026-01-09 23:18:09 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 4}
2026-01-09 23:18:09 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 4}
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.223s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.214s ago] ()
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.204s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:09 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:18:09 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:09 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:09 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.238s ago] ()
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.237s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.236s ago] ()
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.241s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.231s ago] ()
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.228s ago] (1, 2, 3)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.236s ago] ()
2026-01-09 23:18:09 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:09 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:09 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.229s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine [cached since 8.23s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:09 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.526s ago] (1, 1, 0)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.61s ago] (1,)
2026-01-09 23:18:12 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=True, enabled=False, reminder_time=2026-01-07 09:00:00
2026-01-09 23:18:12 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:18:12 WARNING homeplanner.tasks uncomplete_task: timestamp not provided, using server current time
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.518s ago] (1, 0, '2026-01-09 23:18:12.136643', 1)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.514s ago] (1,)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.512s ago] (1,)
2026-01-09 23:18:12 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.51s ago] (1, 'UNCONFIRMED', '2026-01-09 23:18:12.183749', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.507s ago] (319,)
2026-01-09 23:18:12 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=1
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.506s ago] (1,)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 8.547s ago] (1,)
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP uncomplete: task_id=1
2026-01-09 23:18:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1}
2026-01-09 23:18:12 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 1}
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:12 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:12 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.74s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.72s ago] (1, 2, 3)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.72s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:12 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:12 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:12 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.73s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  homeplanner.users Starting query for all users
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.76s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.77s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.75s ago] (1, 2, 3)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.76s ago] ()
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:18:12 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:18:12 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:12 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.78s ago] ('last_task_update', 1, 0)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.75s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:18:12 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.77s ago] ()
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine [cached since 10.76s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:18:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:18:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:04 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:19:04 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine [cached since 63.45s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:04 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:19:04 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 5 with timestamp 2026-01-09 20:19:05.396000+00:00
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine [cached since 61.35s ago] (5, 1, 0)
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine [cached since 63.44s ago] (5,)
2026-01-09 23:19:04 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=True, enabled=False, reminder_time=2026-01-07 09:00:00
2026-01-09 23:19:04 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:19:04 INFO  homeplanner.tasks uncomplete_task: using client timestamp for updated_at: 2026-01-09 20:19:05.396000+00:00
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine [generated in 0.00034s] (1, 0, '2026-01-09 20:19:05.396000', 5)
2026-01-09 23:19:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.34s ago] (5,)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.34s ago] (5,)
2026-01-09 23:19:05 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.33s ago] (5, 'UNCONFIRMED', '2026-01-09 23:19:05.007317', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.33s ago] (320,)
2026-01-09 23:19:05 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=5
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.33s ago] (5,)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 61.37s ago] (5,)
2026-01-09 23:19:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 5}
2026-01-09 23:19:05 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 5}
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.54s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.53s ago] ()
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.52s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:05 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:05 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:19:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:19:05 INFO  homeplanner.users Starting query for all users
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.56s ago] ()
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.56s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.56s ago] ()
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.56s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.55s ago] (1, 2, 3)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.55s ago] ()
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:05 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.56s ago] ()
2026-01-09 23:19:05 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:19:05 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.55s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine [cached since 63.55s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:19:05 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:19:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:06 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:19:06 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 64.95s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:06 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:19:06 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 12 with timestamp 2026-01-09 20:19:06.777000+00:00
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.85s ago] (12, 1, 0)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 64.93s ago] (12,)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 58.88s ago] ('2026-01-09 20:19:06.777000', 12)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.83s ago] (12,)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.83s ago] (12,)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.83s ago] (12, 'CONFIRMED', '2026-01-09 23:19:06.500853', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.83s ago] (321,)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.83s ago] (12,)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 62.87s ago] (12,)
2026-01-09 23:19:06 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 12}
2026-01-09 23:19:06 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 12}
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.04s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.03s ago] ()
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.02s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:06 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:19:06 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:19:06 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:19:06 INFO  homeplanner.users Starting query for all users
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ()
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ()
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ('last_task_update', 1, 0)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ()
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.04s ago] (1, 2, 3)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.05s ago] ()
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:06 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:19:06 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:19:06 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:19:06 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine [cached since 65.04s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:19:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:19:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:27:02 INFO  homeplanner.realtime WS disconnect: id=140061854620688, total=0
2026-01-09 23:27:04 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:27:04 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:27:04 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:27:04 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:27:04 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:27:04 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:27:04 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:27:04 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:27:04 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:27:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:04 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:27:04 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:27:04 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:27:05 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:27:05 INFO  homeplanner.realtime WS connect: id=139731942497824 host=192.168.1.2 port=54872 total=1
2026-01-09 23:27:07 INFO  homeplanner.realtime WS disconnect: id=139731942497824, total=0
2026-01-09 23:27:08 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:27:08 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:27:08 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:27:08 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:27:08 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:27:08 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:27:08 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:27:08 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:27:08 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:27:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:08 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:27:08 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:27:08 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:27:09 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:27:09 INFO  homeplanner.realtime WS connect: id=140336958201088 host=192.168.1.2 port=54884 total=1
2026-01-09 23:27:16 INFO  homeplanner.realtime WS disconnect: id=140336958201088, total=0
2026-01-09 23:27:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:27:17 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:27:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:27:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:27:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:27:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:27:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:27:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:27:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:27:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:17 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:27:17 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:27:17 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:27:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:27:18 INFO  homeplanner.realtime WS connect: id=140649317391136 host=192.168.1.2 port=54396 total=1
2026-01-09 23:27:21 INFO  homeplanner.realtime WS disconnect: id=140649317391136, total=0
2026-01-09 23:27:22 INFO  homeplanner.system uvicorn.access level: 30
2026-01-09 23:27:22 INFO  homeplanner.system uvicorn level: 10
2026-01-09 23:27:22 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-09 23:27:22 INFO  homeplanner.system uvicorn handlers: []
2026-01-09 23:27:22 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-09 23:27:22 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-09 23:27:22 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-09 23:27:22 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-09 23:27:22 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-09 23:27:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-09 23:27:23 INFO  homeplanner.database Initializing database tables...
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:27:23 INFO  homeplanner.database Database tables created successfully
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-09 23:27:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:27:23 INFO  homeplanner.database Available tables after init: ['app_metadata', 'debug_logs', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-09 23:27:23 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-09 23:27:23 INFO  homeplanner.realtime WS connect: id=140087696021824 host=192.168.1.2 port=59092 total=1
2026-01-09 23:30:44 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:30:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] ('last_task_update', 1, 0)
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine [generated in 0.00026s] ()
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] (1, 5, 9, 2, 6, 10, 3, 7, 11)
2026-01-09 23:30:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 9 tasks in database
2026-01-09 23:30:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:30:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:30:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:30:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 9 tasks to client
2026-01-09 23:30:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:30:46 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 23:30:46 INFO  homeplanner.users Starting query for simple users
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine [generated in 0.00027s] ()
2026-01-09 23:30:46 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 23:30:46 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-09 23:30:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:41 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 23:31:41 INFO  homeplanner.users Starting query for simple users
2026-01-09 23:31:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 23:31:41 INFO  sqlalchemy.engine.Engine [cached since 55.53s ago] ()
2026-01-09 23:31:41 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 23:31:41 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 23:31:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:52 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:31:52 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [cached since 67.91s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:52 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:31:52 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 9 with timestamp 2026-01-09 20:31:53.191000+00:00
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [generated in 0.00059s] (9, 1, 0)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [cached since 67.9s ago] (9,)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [generated in 0.00060s] (0, 1, '2026-01-09 20:31:53.191000', 9)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [generated in 0.00058s] (9,)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [generated in 0.00057s] (9,)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine [generated in 0.00063s] (9, 'CONFIRMED', '2026-01-09 23:31:52.991761', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:31:52 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [generated in 0.00055s] (322,)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [generated in 0.00070s] (9,)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 0.05073s ago] (9,)
2026-01-09 23:31:53 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9, 'task': {'title': "Today's Task for User 1", 'description': 'A test task for today assigned to user 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 9, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:57.333728', 'updated_at': '2026-01-09T20:31:53.191000', 'readable_config': '7   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-09 23:31:53 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9, "task": {"title": "Today's Task for User 1", "description": "A test task for today assigned to user 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 9, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:57.333728", "updated_at": "2026-01-09T20:31:53.191000", "readable_config": "7   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.03s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [generated in 0.00086s] ()
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.03s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:53 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:31:53 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:31:53 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:31:53 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:53 INFO  homeplanner.users Starting query for all users
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 66.87s ago] ()
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.07s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [generated in 0.00131s] ()
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.07s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 0.03782s ago] ()
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 0.0421s ago] ()
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [generated in 0.00089s] (1, 2, 3)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.07s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine [cached since 68.07s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:53 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:31:53 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:31:53 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:31:53 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:53 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:31:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:31:54 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.74s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:54 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:31:54 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 8 with timestamp 2026-01-09 20:31:55.091000+00:00
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.836s ago] (8, 1, 0)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.74s ago] (8,)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [generated in 0.00049s] ('2026-01-09 20:31:55.091000', 8)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.814s ago] (8,)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.809s ago] (8,)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.806s ago] (8, 'CONFIRMED', '2026-01-09 23:31:54.800391', '2026-01-08 09:00:00.000000', None, None)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.805s ago] (323,)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.803s ago] (8,)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.852s ago] (8,)
2026-01-09 23:31:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 8, 'task': {'title': 'Future One-time Task', 'description': 'A task in the future', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-08T09:00:00', 'group_id': None, 'id': 8, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:41.026896', 'updated_at': '2026-01-09T20:31:55.091000', 'readable_config': '8   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:31:54 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 8, "task": {"title": "Future One-time Task", "description": "A task in the future", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-08T09:00:00", "group_id": null, "id": 8, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:41.026896", "updated_at": "2026-01-09T20:31:55.091000", "readable_config": "8   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.83s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.8s ago] ()
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.83s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:54 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:31:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:31:54 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:54 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:54 INFO  homeplanner.users Starting query for all users
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 68.67s ago] ()
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.87s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.87s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.808s ago] ()
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.844s ago] ()
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.848s ago] ()
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 1.807s ago] (1, 2, 3)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.88s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:54 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:31:54 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:31:54 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:54 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine [cached since 69.88s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:31:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:56 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:31:56 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.72s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:56 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:31:56 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 20:31:57.120000+00:00
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.815s ago] (5, 1, 0)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.71s ago] (5,)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.808s ago] (0, 1, '2026-01-09 20:31:57.120000', 5)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.8s ago] (5,)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.794s ago] (5,)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.789s ago] (5, 'CONFIRMED', '2026-01-09 23:31:56.784353', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.781s ago] (324,)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.778s ago] (5,)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.826s ago] (5,)
2026-01-09 23:31:56 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5, 'task': {'title': 'Test Task Today', 'description': 'A test task for today', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 5, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:40.777040', 'updated_at': '2026-01-09T20:31:57.120000', 'readable_config': '7   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:31:56 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5, "task": {"title": "Test Task Today", "description": "A test task for today", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 5, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:40.777040", "updated_at": "2026-01-09T20:31:57.120000", "readable_config": "7   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.8s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.769s ago] ()
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.79s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:56 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:31:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:56 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:31:56 INFO  homeplanner.users Starting query for all users
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 70.62s ago] ()
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.82s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.755s ago] ()
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.82s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.788s ago] ()
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.748s ago] (1, 2, 3)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 3.791s ago] ()
2026-01-09 23:31:56 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:31:56 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:31:56 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.82s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine [cached since 71.82s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:56 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:31:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:58 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:31:58 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.78s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:58 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:31:58 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-09 20:31:59.134000+00:00
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.877s ago] (1, 1, 0)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.78s ago] (1,)
2026-01-09 23:31:58 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:31:58 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:31:58 INFO  homeplanner.tasks uncomplete_task: using client timestamp for updated_at: 2026-01-09 20:31:59.134000+00:00
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine UPDATE tasks SET updated_at=? WHERE tasks.id = ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 4.042s ago] ('2026-01-09 20:31:59.134000', 1)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.858s ago] (1,)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.853s ago] (1,)
2026-01-09 23:31:58 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.85s ago] (1, 'UNCONFIRMED', '2026-01-09 23:31:58.844416', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.848s ago] (325,)
2026-01-09 23:31:58 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=1
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.847s ago] (1,)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.896s ago] (1,)
2026-01-09 23:31:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Task Today', 'description': 'A test task for today', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-07T10:50:38.162381', 'updated_at': '2026-01-09T20:31:59.134000', 'readable_config': '7   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:31:58 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Task Today", "description": "A test task for today", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-07T10:50:38.162381", "updated_at": "2026-01-09T20:31:59.134000", "readable_config": "7   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.88s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.843s ago] ()
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.87s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:31:58 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:31:58 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:31:58 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  homeplanner.users Starting query for all users
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 72.71s ago] ()
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.91s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.849s ago] ()
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.91s ago] ('last_task_update', 1, 0)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.88s ago] ()
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.843s ago] (1, 2, 3)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 5.889s ago] ()
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.91s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:58 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:31:58 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:31:58 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:31:58 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine [cached since 73.92s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:31:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:31:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:00 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:32:00 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.63s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:00 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:32:00 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 5 with timestamp 2026-01-09 20:32:00.953000+00:00
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.723s ago] (5, 1, 0)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.62s ago] (5,)
2026-01-09 23:32:00 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=True, enabled=False, reminder_time=2026-01-07 09:00:00
2026-01-09 23:32:00 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:32:00 INFO  homeplanner.tasks uncomplete_task: using client timestamp for updated_at: 2026-01-09 20:32:00.953000+00:00
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.719s ago] (1, 0, '2026-01-09 20:32:00.953000', 5)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.714s ago] (5,)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.71s ago] (5,)
2026-01-09 23:32:00 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.707s ago] (5, 'UNCONFIRMED', '2026-01-09 23:32:00.701151', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.705s ago] (326,)
2026-01-09 23:32:00 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=5
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.703s ago] (5,)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.753s ago] (5,)
2026-01-09 23:32:00 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 5, 'task': {'title': 'Test Task Today', 'description': 'A test task for today', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 5, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:40.777040', 'updated_at': '2026-01-09T20:32:00.953000', 'readable_config': '7   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:32:00 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 5, "task": {"title": "Test Task Today", "description": "A test task for today", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 5, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-07T17:22:40.777040", "updated_at": "2026-01-09T20:32:00.953000", "readable_config": "7   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.73s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.699s ago] ()
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.73s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:00 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:32:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:32:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:32:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:00 INFO  homeplanner.users Starting query for all users
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 74.56s ago] ()
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.76s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.7s ago] ()
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.77s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.736s ago] ()
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.742s ago] ()
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 7.701s ago] (1, 2, 3)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.77s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:32:00 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:00 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:00 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine [cached since 75.78s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:32:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:02 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:32:02 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.27s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:02 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:32:02 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 9 with timestamp 2026-01-09 20:32:02.731000+00:00
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.363s ago] (9, 1, 0)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.26s ago] (9,)
2026-01-09 23:32:02 INFO  homeplanner.tasks uncomplete_task: task found, task_type=TaskType.ONE_TIME, completed=True, enabled=False, reminder_time=2026-01-07 09:00:00
2026-01-09 23:32:02 INFO  homeplanner.tasks uncomplete_task: enabled one-time task
2026-01-09 23:32:02 INFO  homeplanner.tasks uncomplete_task: using client timestamp for updated_at: 2026-01-09 20:32:02.731000+00:00
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.356s ago] (1, 0, '2026-01-09 20:32:02.731000', 9)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.339s ago] (9,)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.333s ago] (9,)
2026-01-09 23:32:02 INFO  homeplanner.tasks uncomplete_task: after commit, completed=False, enabled=True, reminder_time=2026-01-07 09:00:00
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.329s ago] (9, 'UNCONFIRMED', '2026-01-09 23:32:02.323787', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.32s ago] (327,)
2026-01-09 23:32:02 INFO  homeplanner.tasks uncomplete_task: completed successfully for task_id=9
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.317s ago] (9,)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.365s ago] (9,)
2026-01-09 23:32:02 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 9, 'task': {'title': "Today's Task for User 1", 'description': 'A test task for today assigned to user 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 9, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:57.333728', 'updated_at': '2026-01-09T20:32:02.731000', 'readable_config': '7   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-09 23:32:02 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "uncompleted", "task_id": 9, "task": {"title": "Today's Task for User 1", "description": "A test task for today assigned to user 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 9, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-07T17:22:57.333728", "updated_at": "2026-01-09T20:32:02.731000", "readable_config": "7   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.34s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.309s ago] ()
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.33s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:02 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:32:02 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:32:02 INFO  homeplanner.users Starting query for all users
2026-01-09 23:32:02 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:02 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.293s ago] ()
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 76.16s ago] ()
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.36s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.36s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.286s ago] (1, 2, 3)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.329s ago] ()
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 9.33s ago] ()
2026-01-09 23:32:02 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:32:02 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:32:02 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.36s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine [cached since 77.36s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:32:02 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:32:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:07 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:32:07 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.15s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:07 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:32:07 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 9 with timestamp 2026-01-09 20:32:07.473000+00:00
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.24s ago] (9, 1, 0)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.14s ago] (9,)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.24s ago] (0, 1, '2026-01-09 20:32:07.473000', 9)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.23s ago] (9,)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.23s ago] (9,)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.23s ago] (9, 'CONFIRMED', '2026-01-09 23:32:07.220880', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.23s ago] (328,)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.22s ago] (9,)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.27s ago] (9,)
2026-01-09 23:32:07 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 9, 'task': {'title': "Today's Task for User 1", 'description': 'A test task for today assigned to user 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 9, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:57.333728', 'updated_at': '2026-01-09T20:32:07.473000', 'readable_config': '7   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-09 23:32:07 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 9, "task": {"title": "Today's Task for User 1", "description": "A test task for today assigned to user 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 9, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:57.333728", "updated_at": "2026-01-09T20:32:07.473000", "readable_config": "7   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.25s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.22s ago] ()
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.25s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:07 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:32:07 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:32:07 INFO  homeplanner.users Starting query for all users
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 81.09s ago] ()
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.28s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.28s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.22s ago] ()
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.26s ago] ()
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.26s ago] ()
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 14.22s ago] (1, 2, 3)
2026-01-09 23:32:07 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:07 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:07 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine [cached since 82.3s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:32:07 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:32:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:08 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:32:08 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.51s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:08 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:32:08 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 5 with timestamp 2026-01-09 20:32:08.963000+00:00
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.61s ago] (5, 1, 0)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.51s ago] (5,)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.6s ago] (0, 1, '2026-01-09 20:32:08.963000', 5)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.58s ago] (5,)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.57s ago] (5,)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.57s ago] (5, 'CONFIRMED', '2026-01-09 23:32:08.563509', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.56s ago] (329,)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.56s ago] (5,)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.61s ago] (5,)
2026-01-09 23:32:08 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 5, 'task': {'title': 'Test Task Today', 'description': 'A test task for today', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 5, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T17:22:40.777040', 'updated_at': '2026-01-09T20:32:08.963000', 'readable_config': '7   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:32:08 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 5, "task": {"title": "Test Task Today", "description": "A test task for today", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 5, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T17:22:40.777040", "updated_at": "2026-01-09T20:32:08.963000", "readable_config": "7   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.59s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.55s ago] ()
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.58s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:08 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:32:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:32:08 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  homeplanner.users Starting query for all users
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.6s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 82.41s ago] ()
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.55s ago] ()
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.61s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.58s ago] ()
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.54s ago] (1, 2, 3)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 15.59s ago] ()
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:08 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.62s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:08 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:32:08 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:32:08 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine [cached since 83.62s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:32:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:10 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-09 23:32:10 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.13s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:10 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-09 23:32:10 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 1 with timestamp 2026-01-09 20:32:10.420000+00:00
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.23s ago] (1, 1, 0)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.13s ago] (1,)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.22s ago] (0, 1, '2026-01-09 20:32:10.420000', 1)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.21s ago] (1,)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.2s ago] (1,)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.2s ago] (1, 'CONFIRMED', '2026-01-09 23:32:10.191184', '2026-01-07 09:00:00.000000', None, None)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT task_history.id, task_history.task_id, task_history.action, task_history.action_timestamp, task_history.iteration_date, task_history.meta_data, task_history.comment 
FROM task_history 
WHERE task_history.id = ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.21s ago] (330,)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.21s ago] (1,)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.26s ago] (1,)
2026-01-09 23:32:10 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Task Today', 'description': 'A test task for today', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-07T09:00:00', 'group_id': None, 'id': 1, 'enabled': False, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-07T10:50:38.162381', 'updated_at': '2026-01-09T20:32:10.420000', 'readable_config': '7   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-09 23:32:10 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Task Today", "description": "A test task for today", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-07T09:00:00", "group_id": null, "id": 1, "enabled": false, "completed": true, "last_shown_at": null, "created_at": "2026-01-07T10:50:38.162381", "updated_at": "2026-01-09T20:32:10.420000", "readable_config": "7   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.23s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.2s ago] ()
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.23s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-09 23:32:10 INFO  homeplanner.tasks sync-queue: returning 12 tasks to client
2026-01-09 23:32:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:10 INFO  homeplanner.users Starting query for all users
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 84.07s ago] ()
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.27s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.27s ago] ('last_task_update', 1, 0)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.21s ago] ()
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.24s ago] ()
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?, ?)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.25s ago] ()
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 17.21s ago] (1, 2, 3)
2026-01-09 23:32:10 INFO  homeplanner.users Query executed successfully, found 3 users
2026-01-09 23:32:10 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'is_active': True}, {'id': 2, 'name': 'User 2', 'email': 'user2@example.com', 'is_active': True}, {'id': 3, 'name': 'User 3', 'email': 'user3@example.com', 'is_active': True}]
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:10 INFO  homeplanner.api.users Returning 3 users (full mode) via API
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.28s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine [cached since 85.28s ago] (1, 5, 9, 4, 8, 12, 2, 6, 10, 3, 7, 11)
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 6 task IDs for user 1
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 12 tasks in database
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [TASK 2] id=5, title='Test Task Today', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [TASK 3] id=9, title='Today's Task for User 1', enabled=False, task_type=TaskType.ONE_TIME
2026-01-09 23:32:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 12 tasks to client
2026-01-09 23:32:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:45:46 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine [cached since 901.3s ago] ('last_task_update', 1, 0)
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine [cached since 901.3s ago] ()
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?)
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine [cached since 901.3s ago] (2, 6, 10, 3, 7, 11)
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 6 tasks in database
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [TASK 2] id=6, title='Daily Recurring Task', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [TASK 3] id=10, title='Daily Task for User 1', enabled=True, task_type=TaskType.RECURRING
2026-01-09 23:45:46 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 6 tasks to client
2026-01-09 23:45:46 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-09 23:45:47 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-09 23:45:47 INFO  homeplanner.users Starting query for simple users
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine [cached since 901.3s ago] ()
2026-01-09 23:45:47 INFO  homeplanner.users Query executed successfully, found 3 active users
2026-01-09 23:45:47 INFO  homeplanner.api.users Returning 3 active users (simple mode) via API
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine [cached since 901.3s ago] ()
2026-01-09 23:45:47 INFO  sqlalchemy.engine.Engine ROLLBACK
