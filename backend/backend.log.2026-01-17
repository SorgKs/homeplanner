2026-01-17 00:01:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 00:01:58 INFO  homeplanner.realtime WS connect: id=140085375586464 host=192.168.1.39 port=43008 total=2
2026-01-17 00:02:01 INFO  homeplanner.realtime WS disconnect: id=140085375586464, total=1
2026-01-17 00:04:39 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 00:04:39 INFO  homeplanner.realtime WS connect: id=140085375586464 host=192.168.1.39 port=44306 total=2
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine [cached since 9.289e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine [cached since 9.289e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine [cached since 9.289e+04s ago] ()
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine [cached since 9.289e+04s ago] (1, 2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 37, 21, 23, 24, 25, 39, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 18, 38, 8)
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 36 tasks in database
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 00:08:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 36 tasks to client
2026-01-17 00:08:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 00:08:50 INFO  homeplanner.realtime WS disconnect: id=140085375586464, total=1
2026-01-17 00:08:56 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 00:08:56 INFO  homeplanner.realtime WS connect: id=140085375586464 host=192.168.1.39 port=47640 total=2
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine [cached since 7.608e+04s ago] ()
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 36, 37, 21, 22, 23, 24, 25, 39, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 18, 38, 8)
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 39 tasks in database
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 00:08:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 39 tasks to client
2026-01-17 00:08:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ()
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:58 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 00:08:58 INFO  homeplanner.users Starting query for simple users
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ()
2026-01-17 00:08:58 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 00:08:58 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 00:08:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 7.608e+04s ago] ()
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 36, 37, 21, 22, 23, 24, 25, 39, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 18, 38, 8)
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 39 tasks in database
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 00:08:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 39 tasks to client
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ()
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:08:59 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 00:08:59 INFO  homeplanner.users Starting query for simple users
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine [cached since 9.294e+04s ago] ()
2026-01-17 00:08:59 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 00:08:59 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 00:08:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine [cached since 9.323e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:13:44 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 00:13:44 INFO  homeplanner.users Starting query for simple users
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine [cached since 9.323e+04s ago] ()
2026-01-17 00:13:44 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 00:13:44 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 00:13:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine [cached since 9.384e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:23:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine [cached since 9.384e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine [cached since 9.384e+04s ago] ()
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine [cached since 9.384e+04s ago] (1, 2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 37, 21, 23, 24, 25, 39, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 18, 38, 8)
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 36 tasks in database
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 00:23:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 36 tasks to client
2026-01-17 00:23:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine [cached since 9.474e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 00:38:56 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine [cached since 9.474e+04s ago] ('last_task_update', 1, 0)
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine [cached since 9.474e+04s ago] ()
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine [cached since 9.474e+04s ago] (1, 2, 3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 37, 21, 23, 24, 25, 39, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 18, 38, 8)
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 36 tasks in database
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 00:38:56 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 36 tasks to client
2026-01-17 00:38:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 00:48:18 INFO  homeplanner.realtime WS disconnect: id=140085375586464, total=1
2026-01-17 00:51:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 00:51:36 INFO  homeplanner.realtime WS connect: id=140085376072544 host=192.168.1.39 port=47272 total=2
2026-01-17 00:51:57 INFO  homeplanner.realtime WS disconnect: id=140085376072544, total=1
2026-01-17 03:00:59 INFO  homeplanner.day_change_scheduler Checking for new day and performing task recalculation if needed
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.033e+05s ago] ('last_task_update', 1, 0)
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 8.64e+04s ago] ()
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?)
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.033e+05s ago] (4, 22, 36)
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 1.033e+05s ago] ('last_task_update', 1, 0)
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 8.64e+04s ago] ('2026-01-17 03:01:00.005339', '2026-01-17 03:01:00.007027', 'last_task_update')
2026-01-17 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 03:01:00 ERROR homeplanner.day_change_scheduler Error in day change check: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?]
[parameters: ('2026-01-17 03:01:00.005339', '2026-01-17 03:01:00.007027', 'last_task_update')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/day_change_scheduler.py", line 38, in check_and_notify
    is_new_day = TaskService.check_new_day(db, self.ws_manager)
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 123, in check_new_day
    TaskService.recalculate_tasks(db)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/services/task_service.py", line 229, in recalculate_tasks
    db.commit()
    ~~~~~~~~~^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        update,
        ^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?]
[parameters: ('2026-01-17 03:01:00.005339', '2026-01-17 03:01:00.007027', 'last_task_update')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-01-17 03:01:00 DEBUG homeplanner.day_change_scheduler Waiting 86400 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:02 INFO  homeplanner.realtime WS disconnect: id=140085376074448, total=0
2026-01-17 10:43:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:04 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:43:04 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:43:04 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:43:04 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:43:04 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:43:04 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:43:04 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:43:04 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:43:04 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:43:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:04 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:04 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:04 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:04 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:04 DEBUG homeplanner.day_change_scheduler Waiting 58676 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:05 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:43:05 INFO  homeplanner.realtime WS connect: id=140279889019600 host=192.168.1.2 port=54900 total=1
2026-01-17 10:43:08 INFO  homeplanner.realtime WS disconnect: id=140279889019600, total=0
2026-01-17 10:43:08 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:43:10 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:43:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:43:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:43:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:43:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:43:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:43:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:43:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:43:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:10 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:10 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:10 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:10 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:10 DEBUG homeplanner.day_change_scheduler Waiting 58670 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:43:11 INFO  homeplanner.realtime WS connect: id=139848408302288 host=192.168.1.2 port=54906 total=1
2026-01-17 10:43:16 INFO  homeplanner.realtime WS disconnect: id=139848408302288, total=0
2026-01-17 10:43:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:43:17 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:43:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:43:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:43:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:43:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:43:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:43:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:43:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:43:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:17 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:17 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:17 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:17 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:17 DEBUG homeplanner.day_change_scheduler Waiting 58662 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:43:18 INFO  homeplanner.realtime WS connect: id=140054720824656 host=192.168.1.2 port=50068 total=1
2026-01-17 10:43:28 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:43:28 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:43:28 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:43:28 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:43:28 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:43:28 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:43:28 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:43:28 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:43:28 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:43:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:28 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:28 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:28 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:28 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:28 DEBUG homeplanner.day_change_scheduler Waiting 58652 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [generated in 0.00039s] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.007527s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine INSERT INTO app_metadata ("key", value, updated_at) VALUES (?, ?, ?)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] ('last_task_update', '2026-01-17 10:43:28.421937', '2026-01-17 10:43:28.424820')
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Test Description', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.508245', 'updated_at': '2026-01-17T10:43:28.508254', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Test Description", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.508245", "updated_at": "2026-01-17T10:43:28.508254", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:28 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:28 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:28 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:28 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:28 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:28 DEBUG homeplanner.day_change_scheduler Waiting 58651 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.2335s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Test Description', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.653570', 'updated_at': '2026-01-17T10:43:28.653579', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Test Description", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.653570", "updated_at": "2026-01-17T10:43:28.653579", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:28 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:28 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:28 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:28 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:28 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:28 DEBUG homeplanner.day_change_scheduler Waiting 58651 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.3682s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.787673', 'updated_at': '2026-01-17T10:43:28.787685', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.787673", "updated_at": "2026-01-17T10:43:28.787685", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:28 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.3852s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.803535', 'updated_at': '2026-01-17T10:43:28.803543', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.803535", "updated_at": "2026-01-17T10:43:28.803543", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:28 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.4009s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 10:43:28 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 10:43:28 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 2 tasks in database
2026-01-17 10:43:28 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:28 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Task 2', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:28 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 2 tasks to client
2026-01-17 10:43:28 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/ "HTTP/1.1 200 OK"
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:28 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:28 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:28 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:28 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:28 DEBUG homeplanner.day_change_scheduler Waiting 58651 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.5582s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.977692', 'updated_at': '2026-01-17T10:43:28.977701', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.977692", "updated_at": "2026-01-17T10:43:28.977701", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:28 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine [cached since 0.5739s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:28 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:28 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:28 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:28.992671', 'updated_at': '2026-01-17T10:43:28.992679', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:28 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:28.992671", "updated_at": "2026-01-17T10:43:28.992679", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.5894s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 2 tasks in database
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Task 2', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 2 tasks to client
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/ "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58651 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.7407s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Active Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.159931', 'updated_at': '2026-01-17T10:43:29.159939', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Active Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.159931", "updated_at": "2026-01-17T10:43:29.159939", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.7553s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Inactive Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.173879', 'updated_at': '2026-01-17T10:43:29.173887', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Inactive Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.173879", "updated_at": "2026-01-17T10:43:29.173887", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.7928s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/2 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.8072s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP update: task_id=2
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 2, 'task': {'title': 'Inactive Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': False, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.173879', 'updated_at': '2026-01-17T10:43:29.232317', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 2, "task": {"title": "Inactive Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": false, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.173879", "updated_at": "2026-01-17T10:43:29.232317", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: PUT http://testserver/api/v0.2/tasks/2 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.834s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 1 tasks in database
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Active Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 1 tasks to client
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/?enabled_only=true "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58651 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.9787s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Active Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.397775', 'updated_at': '2026-01-17T10:43:29.397786', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Active Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.397775", "updated_at": "2026-01-17T10:43:29.397786", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 0.9936s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Inactive Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.412147', 'updated_at': '2026-01-17T10:43:29.412155', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Inactive Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.412147", "updated_at": "2026-01-17T10:43:29.412155", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.007s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/2 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.016s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP update: task_id=2
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 2, 'task': {'title': 'Inactive Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': False, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.412147', 'updated_at': '2026-01-17T10:43:29.435972', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 2, "task": {"title": "Inactive Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": false, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.412147", "updated_at": "2026-01-17T10:43:29.435972", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: PUT http://testserver/api/v0.3/tasks/2 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.03s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 1 tasks in database
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Active Task', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:29 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 1 tasks to client
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/?enabled_only=true "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.159s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.577783', 'updated_at': '2026-01-17T10:43:29.577791', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.577783", "updated_at": "2026-01-17T10:43:29.577791", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.173s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.298s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:29 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:29 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:29.717135', 'updated_at': '2026-01-17T10:43:29.717144', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:29 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:29.717135", "updated_at": "2026-01-17T10:43:29.717144", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:29 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.312s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.448s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:29 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:29 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine [cached since 1.581s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 1.714s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Original Title', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.133531', 'updated_at': '2026-01-17T10:43:30.133539', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Original Title", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.133531", "updated_at": "2026-01-17T10:43:30.133539", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 1.729s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP update: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Updated Title', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.133531', 'updated_at': '2026-01-17T10:43:30.149276', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Updated Title", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.133531", "updated_at": "2026-01-17T10:43:30.149276", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: PUT http://testserver/api/v0.2/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 1.859s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Original Title', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.279148', 'updated_at': '2026-01-17T10:43:30.279156', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Original Title", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.279148", "updated_at": "2026-01-17T10:43:30.279156", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 1.874s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP update: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Updated Title', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.279148', 'updated_at': '2026-01-17T10:43:30.294754', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Updated Title", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.279148", "updated_at": "2026-01-17T10:43:30.294754", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: PUT http://testserver/api/v0.3/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58650 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.005s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  httpx HTTP Request: PUT http://testserver/api/v0.2/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.129s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  httpx HTTP Request: PUT http://testserver/api/v0.3/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.262s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.681653', 'updated_at': '2026-01-17T10:43:30.681661', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.681653", "updated_at": "2026-01-17T10:43:30.681661", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.277s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks delete_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP delete: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'deleted', 'task_id': 1}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "deleted", "task_id": 1}
2026-01-17 10:43:30 INFO  httpx HTTP Request: DELETE http://testserver/api/v0.2/tasks/1 "HTTP/1.1 204 No Content"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.295s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/1 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:30 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:30 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:30 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.438s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:30.857570', 'updated_at': '2026-01-17T10:43:30.857579', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:30.857570", "updated_at": "2026-01-17T10:43:30.857579", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:30 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.452s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 WARNING homeplanner.tasks delete_task: timestamp not provided, using server current time
2026-01-17 10:43:30 INFO  homeplanner.tasks HTTP delete: task_id=1
2026-01-17 10:43:30 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'deleted', 'task_id': 1}
2026-01-17 10:43:30 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "deleted", "task_id": 1}
2026-01-17 10:43:30 INFO  httpx HTTP Request: DELETE http://testserver/api/v0.3/tasks/1 "HTTP/1.1 204 No Content"
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine [cached since 2.467s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:30 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/1 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 2.615s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: DELETE http://testserver/api/v0.2/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 2.736s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: DELETE http://testserver/api/v0.3/tasks/999 "HTTP/1.1 404 Not Found"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58649 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 2.939s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 2.952s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:31 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task with assignee', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:31.376061', 'updated_at': '2026-01-17T10:43:31.376070', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Assignee One', 'email': 'user1@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:31 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task with assignee", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:31.376061", "updated_at": "2026-01-17T10:43:31.376070", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Assignee One", "email": "user1@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 2.973s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:31 INFO  homeplanner.tasks HTTP update: task_id=1
2026-01-17 10:43:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Task with assignee', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:31.376061', 'updated_at': '2026-01-17T10:43:31.376070', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:31 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Task with assignee", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:31.376061", "updated_at": "2026-01-17T10:43:31.376070", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:31 INFO  httpx HTTP Request: PUT http://testserver/api/v0.2/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.11s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.12s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:31 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task with assignee', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:31.540988', 'updated_at': '2026-01-17T10:43:31.540998', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Assignee One', 'email': 'user1@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:31 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task with assignee", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:31.540988", "updated_at": "2026-01-17T10:43:31.540998", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Assignee One", "email": "user1@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.138s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 WARNING homeplanner.tasks update_task: timestamp not provided, using server current time
2026-01-17 10:43:31 INFO  homeplanner.tasks HTTP update: task_id=1
2026-01-17 10:43:31 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Task with assignee', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:31.540988', 'updated_at': '2026-01-17T10:43:31.540998', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:31 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Task with assignee", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:31.540988", "updated_at": "2026-01-17T10:43:31.540998", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:31 INFO  httpx HTTP Request: PUT http://testserver/api/v0.3/tasks/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.288s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.298s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 10:43:31 INFO  homeplanner.users Starting query for all users
2026-01-17 10:43:31 INFO  homeplanner.users Query executed successfully, found 1 users
2026-01-17 10:43:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Admin User', 'email': 'admin@example.com', 'is_active': True}]
2026-01-17 10:43:31 INFO  homeplanner.api.users Returning 1 users (full mode) via API
2026-01-17 10:43:31 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/users/ "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.308s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: PUT http://testserver/api/v0.2/users/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:31 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:31 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.45s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.459s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 10:43:31 INFO  homeplanner.users Starting query for all users
2026-01-17 10:43:31 INFO  homeplanner.users Query executed successfully, found 1 users
2026-01-17 10:43:31 DEBUG homeplanner.users Users: [{'id': 1, 'name': 'Admin User', 'email': 'admin@example.com', 'is_active': True}]
2026-01-17 10:43:31 INFO  homeplanner.api.users Returning 1 users (full mode) via API
2026-01-17 10:43:31 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/users/ "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine [cached since 3.467s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:31 INFO  httpx HTTP Request: PUT http://testserver/api/v0.3/users/1 "HTTP/1.1 200 OK"
2026-01-17 10:43:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:31 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:31 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:31 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 3.598s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.016470', 'updated_at': '2026-01-17T10:43:32.016478', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.016470", "updated_at": "2026-01-17T10:43:32.016478", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 3.611s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.016470', 'updated_at': '2026-01-17T10:43:32.032015', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.016470", "updated_at": "2026-01-17T10:43:32.032015", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 3.815s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.234592', 'updated_at': '2026-01-17T10:43:32.234601', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.234592", "updated_at": "2026-01-17T10:43:32.234601", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 3.83s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Task', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.234592', 'updated_at': '2026-01-17T10:43:32.270030', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Task", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.234592", "updated_at": "2026-01-17T10:43:32.270030", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58648 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.003s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/999/complete "HTTP/1.1 404 Not Found"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.129s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/999/complete "HTTP/1.1 404 Not Found"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.265s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.683872', 'updated_at': '2026-01-17T10:43:32.683881', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.683872", "updated_at": "2026-01-17T10:43:32.683881", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.279s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task Tomorrow', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.697596', 'updated_at': '2026-01-17T10:43:32.697604', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task Tomorrow", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.697596", "updated_at": "2026-01-17T10:43:32.697604", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.292s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=False, days_ahead=3, selected_user_id=None
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=False, days_ahead=3, selected_user_id=None
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 2 tasks in database
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Task Tomorrow', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 2 tasks to client
2026-01-17 10:43:32 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/?days_ahead=3 "HTTP/1.1 200 OK"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.415s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.833928', 'updated_at': '2026-01-17T10:43:32.833939', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.833928", "updated_at": "2026-01-17T10:43:32.833939", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.43s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:32 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task Tomorrow', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:32.848606', 'updated_at': '2026-01-17T10:43:32.848614', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:43:32 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task Tomorrow", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:32.848606", "updated_at": "2026-01-17T10:43:32.848614", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.445s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from testclient, enabled_only=False, days_ahead=3, selected_user_id=None
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from testclient, enabled_only=False, days_ahead=3, selected_user_id=None
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 2 tasks in database
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Task Today', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Task Tomorrow', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 10:43:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 2 tasks to client
2026-01-17 10:43:32 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/?days_ahead=3 "HTTP/1.1 200 OK"
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:32 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:32 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:32 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:32 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:32 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.575s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:32 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:32 INFO  sqlalchemy.engine.Engine [cached since 4.585s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.008831', 'updated_at': '2026-01-17T10:43:33.008845', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'NoCookie User', 'email': 'nocookie@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.008831", "updated_at": "2026-01-17T10:43:33.008845", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "NoCookie User", "email": "nocookie@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.604s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=None
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning [] because selected_user_id is None
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:33 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:33 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.741s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.751s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.171304', 'updated_at': '2026-01-17T10:43:33.171314', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'NoCookie User', 'email': 'nocookie@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.171304", "updated_at": "2026-01-17T10:43:33.171314", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "NoCookie User", "email": "nocookie@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.766s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=None
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning [] because selected_user_id is None
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:33 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:33 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.89s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.899s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.320687', 'updated_at': '2026-01-17T10:43:33.320700', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Known User', 'email': 'known@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.320687", "updated_at": "2026-01-17T10:43:33.320700", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Known User", "email": "known@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 4.916s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=1000
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1000
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:33 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:33 DEBUG homeplanner.day_change_scheduler Waiting 58647 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.065s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.075s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.495071', 'updated_at': '2026-01-17T10:43:33.495080', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Known User', 'email': 'known@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.495071", "updated_at": "2026-01-17T10:43:33.495080", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Known User", "email": "known@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.09s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=1000
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1000
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:33 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:33 DEBUG homeplanner.day_change_scheduler Waiting 58646 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.213s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.221s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.642581', 'updated_at': '2026-01-17T10:43:33.642591', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.642581", "updated_at": "2026-01-17T10:43:33.642591", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.238s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task Overdue', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-16T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.659092', 'updated_at': '2026-01-17T10:43:33.659100', 'readable_config': '16   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task Overdue", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-16T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.659092", "updated_at": "2026-01-17T10:43:33.659100", "readable_config": "16   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.254s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=3
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 3, 'task': {'title': 'Task Future', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 3, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.674794', 'updated_at': '2026-01-17T10:43:33.674802', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 3, "task": {"title": "Task Future", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 3, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.674794", "updated_at": "2026-01-17T10:43:33.674802", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.27s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 2 task IDs for user 1
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:43:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:43:33 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:43:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:43:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:43:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:43:33 DEBUG homeplanner.day_change_scheduler Waiting 58646 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.393s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.402s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task Today', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.822626', 'updated_at': '2026-01-17T10:43:33.822636', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task Today", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.822626", "updated_at": "2026-01-17T10:43:33.822636", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.418s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task Overdue', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-16T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.838303', 'updated_at': '2026-01-17T10:43:33.838312', 'readable_config': '16   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task Overdue", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-16T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.838303", "updated_at": "2026-01-17T10:43:33.838312", "readable_config": "16   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.433s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP create: task_id=3
2026-01-17 10:43:33 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 3, 'task': {'title': 'Task Future', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 3, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T10:43:33.853154', 'updated_at': '2026-01-17T10:43:33.853163', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Today User', 'email': 'today@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-17 10:43:33 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 3, "task": {"title": "Task Future", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 3, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T10:43:33.853154", "updated_at": "2026-01-17T10:43:33.853163", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Today User", "email": "today@example.com", "role": "regular", "is_active": true}]}}
2026-01-17 10:43:33 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine [cached since 5.448s ago] ('last_task_update', 1, 0)
2026-01-17 10:43:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from testclient, selected_user_id=1
2026-01-17 10:43:33 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 2 task IDs for user 1
2026-01-17 10:43:33 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/tasks/today/ids "HTTP/1.1 200 OK"
2026-01-17 10:43:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:45:20 INFO  homeplanner.realtime WS disconnect: id=140054720824656, total=0
2026-01-17 10:45:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:45:21 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:45:21 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:45:21 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:45:21 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:45:21 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:45:21 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:45:21 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:45:21 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:45:21 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:45:21 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:21 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:22 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:45:22 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:45:22 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:22 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:45:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:45:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:45:22 DEBUG homeplanner.day_change_scheduler Waiting 58538 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:45:22 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:45:22 INFO  homeplanner.realtime WS connect: id=139754271441616 host=192.168.1.2 port=49428 total=1
2026-01-17 10:45:27 INFO  homeplanner.realtime WS disconnect: id=139754271441616, total=0
2026-01-17 10:45:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:45:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:45:29 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:45:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:45:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:45:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:45:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:45:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:45:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:45:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:45:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:45:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:45:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:45:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:45:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:45:29 DEBUG homeplanner.day_change_scheduler Waiting 58531 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:45:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:45:30 INFO  homeplanner.realtime WS connect: id=140046144652624 host=192.168.1.2 port=41462 total=1
2026-01-17 10:45:34 INFO  homeplanner.realtime WS disconnect: id=140046144652624, total=0
2026-01-17 10:45:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:45:35 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:45:35 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:45:35 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:45:35 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:45:35 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:45:35 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:45:35 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:45:35 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:45:35 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:45:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:35 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:45:35 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:45:35 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:35 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:45:35 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:45:35 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:45:35 DEBUG homeplanner.day_change_scheduler Waiting 58525 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:45:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:45:36 INFO  homeplanner.realtime WS connect: id=140198740723024 host=192.168.1.2 port=37448 total=1
2026-01-17 10:45:46 INFO  homeplanner.realtime WS disconnect: id=140198740723024, total=0
2026-01-17 10:45:46 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:45:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:45:47 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:45:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:45:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:45:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:45:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:45:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:45:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:45:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:45:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:47 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:45:47 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:45:47 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:47 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:45:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:45:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:45:47 DEBUG homeplanner.day_change_scheduler Waiting 58512 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:45:48 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:45:48 INFO  homeplanner.realtime WS connect: id=139880842938000 host=192.168.1.2 port=36228 total=1
2026-01-17 10:45:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:45:59 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:45:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:45:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:45:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:45:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:45:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:45:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:45:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:45:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:45:59 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:45:59 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:45:59 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:45:59 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:59 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:45:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:45:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:45:59 DEBUG homeplanner.day_change_scheduler Waiting 58501 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] ('last_task_update', 1, 0)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:59 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:45:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:45:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:45:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine [cached since 0.05899s ago] ('last_task_update', 1, 0)
2026-01-17 10:45:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:45:59 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 3 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks HTTP sync-queue: 3 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation confirmed at 2025-01-01 09:00:03
2026-01-17 10:45:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:45:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:45:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:45:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:45:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:45:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing 3 operations
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing operation 1/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing operation 2/3: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:02
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: processing operation 3/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:03
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:45:59 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:45:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:45:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:04 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:04 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:04 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:04 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:04 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:04 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:04 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:04 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:04 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:04 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:04 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:04 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:04 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:04 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:04 DEBUG homeplanner.day_change_scheduler Waiting 58495 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] ('last_task_update', 1, 0)
2026-01-17 10:46:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:04 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:46:04 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:04 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Initial', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:04 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Initial", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.UPDATE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: applying UPDATE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:46:04 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Updated', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:01', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:04 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Updated", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:01", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:04 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:04 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:04 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:04 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:05 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:05 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:05 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:05 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:05 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:05 DEBUG homeplanner.day_change_scheduler Waiting 58495 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 0.1768s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'To delete', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "To delete", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.DELETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'deleted', 'task_id': 1}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "deleted", "task_id": 1}
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: returning 0 tasks to client
2026-01-17 10:46:05 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:05 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:05 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:05 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:05 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:05 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:05 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:05 DEBUG homeplanner.day_change_scheduler Waiting 58495 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 0.3295s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:05 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 0.3511s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 3 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks HTTP sync-queue: 3 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation confirmed at 2025-01-01 09:00:03
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:05 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:05 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing 3 operations
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 1/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 2/3: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:02
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: processing operation 3/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:03
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:46:05 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:05 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:13 INFO  homeplanner.realtime WS disconnect: id=139880842938000, total=0
2026-01-17 10:46:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:14 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:14 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:14 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:14 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:14 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:14 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:14 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:14 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:14 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:15 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:15 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:15 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:15 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:15 DEBUG homeplanner.day_change_scheduler Waiting 58485 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:46:15 INFO  homeplanner.realtime WS connect: id=139826060133392 host=192.168.1.2 port=44018 total=1
2026-01-17 10:46:18 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:18 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:18 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:18 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:18 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:18 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:18 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:18 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:18 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:18 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:18 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:18 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:18 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:18 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:18 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:18 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:18 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:18 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:18 DEBUG homeplanner.day_change_scheduler Waiting 58481 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] ('last_task_update', 1, 0)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:18 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:18 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:18 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:18 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:18 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:18 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:18 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:18 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:18 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:18 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine [cached since 0.04897s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:18 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:46:18 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:46:18 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:46:18 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2026-01-17T10:46:18.989779', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:18 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2026-01-17T10:46:18.989779", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:19 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:46:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:19 INFO  sqlalchemy.engine.Engine [cached since 0.07141s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:19 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:19 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:19 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation confirmed at 2026-01-17 10:46:18.993280
2026-01-17 10:46:19 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2026-01-17T10:46:18.993280', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:19 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2026-01-17T10:46:18.993280", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:19 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:19 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:10
2026-01-17 10:46:19 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:19 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:19 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:19 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:27 INFO  homeplanner.realtime WS disconnect: id=139826060133392, total=0
2026-01-17 10:46:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:28 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:28 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:28 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:28 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:28 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:28 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:28 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:28 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:28 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:28 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:29 DEBUG homeplanner.day_change_scheduler Waiting 58471 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:46:30 INFO  homeplanner.realtime WS connect: id=140636131165200 host=192.168.1.2 port=35336 total=1
2026-01-17 10:46:32 INFO  homeplanner.realtime WS disconnect: id=140636131165200, total=0
2026-01-17 10:46:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:33 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:33 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:33 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:33 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:33 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:33 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:33 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:33 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:33 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:34 DEBUG homeplanner.day_change_scheduler Waiting 58466 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:35 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:46:35 INFO  homeplanner.realtime WS connect: id=139948026266640 host=192.168.1.2 port=60654 total=1
2026-01-17 10:46:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:37 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:38 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:38 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:38 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:38 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:38 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:38 DEBUG homeplanner.day_change_scheduler Waiting 58462 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [generated in 0.00040s] ('last_task_update', 1, 0)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:38 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2026-01-17 09:00:00
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T09:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:38 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T09:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [cached since 0.04754s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:38 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:46:38 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:46:38 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:46:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:46:38.169395', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:38 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:46:38.169395", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine [cached since 0.0672s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:38 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation confirmed at 2026-01-17 10:46:38.172729
2026-01-17 10:46:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:46:38.172729', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:38 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:46:38.172729", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-17 09:00:30
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:38 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:43 INFO  homeplanner.realtime WS disconnect: id=139948026266640, total=0
2026-01-17 10:46:43 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:44 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:44 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:44 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:44 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:44 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:44 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:44 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:44 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:44 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:44 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:44 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:44 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:44 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:44 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:44 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:44 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:44 DEBUG homeplanner.day_change_scheduler Waiting 58455 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:45 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:46:45 INFO  homeplanner.realtime WS connect: id=140603113637520 host=192.168.1.2 port=42172 total=1
2026-01-17 10:46:48 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:48 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:48 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:48 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:48 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:48 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:48 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:48 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:48 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:48 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:48 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:48 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:49 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:49 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:49 DEBUG homeplanner.day_change_scheduler Waiting 58451 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] ('last_task_update', 1, 0)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:49 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2026-01-17 09:00:00
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:49 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T09:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:49 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T09:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:49 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine [cached since 0.04857s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:49 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:46:49 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:46:49 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:46:49 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:46:49.091243', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:49 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:46:49.091243", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:49 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine [cached since 0.07227s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:49 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=False based on last operation unconfirmed at 2026-01-17 12:00:00
2026-01-17 10:46:49 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T12:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:49 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T12:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-17 12:00:00
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:49 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:49 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:46:53 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:46:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:46:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:46:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:46:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:46:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:46:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:46:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:46:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:54 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:54 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:54 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:54 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:54 DEBUG homeplanner.day_change_scheduler Waiting 58446 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Initial', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Initial", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.UPDATE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying UPDATE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Updated', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:01', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Updated", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:01", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:54 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:54 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:54 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:54 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:54 DEBUG homeplanner.day_change_scheduler Waiting 58446 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.1814s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'To delete', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "To delete", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.DELETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'deleted', 'task_id': 1}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "deleted", "task_id": 1}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 0 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:54 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:54 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:54 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:54 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:54 DEBUG homeplanner.day_change_scheduler Waiting 58445 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.3452s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.3673s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 3 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 3 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation confirmed at 2025-01-01 09:00:03
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 3 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 2/3: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:02
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 3/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:03
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:46:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:46:54 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:46:54 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:46:54 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:46:54 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:46:54 DEBUG homeplanner.day_change_scheduler Waiting 58445 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.5169s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2026-01-17 09:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T09:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T09:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.5373s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:46:54 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:46:54.780525', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:46:54.780525", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine [cached since 0.5523s ago] ('last_task_update', 1, 0)
2026-01-17 10:46:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=False based on last operation unconfirmed at 2026-01-17 12:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T12:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:46:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T12:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-17 12:00:00
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:46:54 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:46:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:46:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:47:58 INFO  homeplanner.realtime WS disconnect: id=140603113637520, total=0
2026-01-17 10:47:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:47:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:47:59 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:47:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:47:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:47:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:47:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:47:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:47:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:47:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:47:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:47:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:00 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:00 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:00 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:00 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:00 DEBUG homeplanner.day_change_scheduler Waiting 58380 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:01 INFO  homeplanner.realtime WS connect: id=139831617536720 host=192.168.1.2 port=32824 total=1
2026-01-17 10:48:02 INFO  homeplanner.realtime WS disconnect: id=139831617536720, total=0
2026-01-17 10:48:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:03 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:03 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:03 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:03 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:03 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:03 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:03 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:03 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:03 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:03 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:03 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:03 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:03 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:03 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:03 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:03 DEBUG homeplanner.day_change_scheduler Waiting 58376 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:04 INFO  homeplanner.realtime WS connect: id=140048358327312 host=192.168.1.2 port=37842 total=1
2026-01-17 10:48:05 INFO  homeplanner.realtime WS disconnect: id=140048358327312, total=0
2026-01-17 10:48:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:06 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:06 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:06 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:06 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:06 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:06 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:06 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:06 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:06 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:07 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:07 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:07 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:07 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:07 DEBUG homeplanner.day_change_scheduler Waiting 58373 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:07 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:07 INFO  homeplanner.realtime WS connect: id=139938142356176 host=192.168.1.2 port=37858 total=1
2026-01-17 10:48:08 INFO  homeplanner.realtime WS disconnect: id=139938142356176, total=0
2026-01-17 10:48:09 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:10 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:10 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:10 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:10 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:10 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:10 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:10 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:10 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:10 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:10 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:10 DEBUG homeplanner.day_change_scheduler Waiting 58370 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:11 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:11 INFO  homeplanner.realtime WS connect: id=139845116936912 host=192.168.1.2 port=37866 total=1
2026-01-17 10:48:12 INFO  homeplanner.realtime WS disconnect: id=139845116936912, total=0
2026-01-17 10:48:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:14 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:14 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:14 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:14 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:14 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:14 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:14 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:14 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:14 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:14 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:14 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:14 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:14 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:14 DEBUG homeplanner.day_change_scheduler Waiting 58366 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:15 INFO  homeplanner.realtime WS connect: id=140670038885072 host=192.168.1.2 port=42600 total=1
2026-01-17 10:48:17 INFO  homeplanner.realtime WS disconnect: id=140670038885072, total=0
2026-01-17 10:48:18 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:19 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:19 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:19 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:19 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:19 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:19 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:19 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:19 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:19 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:19 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:19 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:19 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:19 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:19 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:19 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:19 DEBUG homeplanner.day_change_scheduler Waiting 58361 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:20 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:20 INFO  homeplanner.realtime WS connect: id=140289252803280 host=192.168.1.2 port=42606 total=1
2026-01-17 10:48:23 INFO  homeplanner.realtime WS disconnect: id=140289252803280, total=0
2026-01-17 10:48:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:24 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:24 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:24 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:24 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:24 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:24 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:24 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:24 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:24 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:24 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:24 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:24 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:24 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:24 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:24 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:24 DEBUG homeplanner.day_change_scheduler Waiting 58356 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:25 INFO  homeplanner.realtime WS connect: id=140010271474704 host=192.168.1.2 port=44268 total=1
2026-01-17 10:48:28 INFO  homeplanner.realtime WS disconnect: id=140010271474704, total=0
2026-01-17 10:48:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:29 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:29 DEBUG homeplanner.day_change_scheduler Waiting 58351 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:30 INFO  homeplanner.realtime WS connect: id=140480807584784 host=192.168.1.2 port=44274 total=1
2026-01-17 10:48:31 INFO  homeplanner.realtime WS disconnect: id=140480807584784, total=0
2026-01-17 10:48:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:32 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:32 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:32 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:32 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:32 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:32 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:32 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:32 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:32 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:32 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:33 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:33 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:33 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:33 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:33 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:33 DEBUG homeplanner.day_change_scheduler Waiting 58347 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:34 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:34 INFO  homeplanner.realtime WS connect: id=139893716337680 host=192.168.1.2 port=55534 total=1
2026-01-17 10:48:37 INFO  homeplanner.realtime WS disconnect: id=139893716337680, total=0
2026-01-17 10:48:37 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:48:38 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:48:38 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:48:38 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:48:38 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:48:38 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:48:38 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:48:38 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:48:38 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:48:38 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:48:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:48:38 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:48:38 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:48:38 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:48:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:48:38 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:48:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:48:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:48:38 DEBUG homeplanner.day_change_scheduler Waiting 58341 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:48:39 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:48:39 INFO  homeplanner.realtime WS connect: id=139984138831504 host=192.168.1.2 port=55544 total=1
2026-01-17 10:53:32 INFO  homeplanner.realtime WS disconnect: id=139984138831504, total=0
2026-01-17 10:53:32 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:53:34 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:53:34 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:53:34 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:53:34 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:53:34 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:53:34 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:53:34 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:53:34 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:53:34 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:53:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:53:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:53:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:53:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:53:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:53:34 DEBUG homeplanner.day_change_scheduler Waiting 58046 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:53:35 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:53:35 INFO  homeplanner.realtime WS connect: id=139661797409488 host=192.168.1.2 port=51820 total=1
2026-01-17 10:53:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:53:47 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:53:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:53:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:53:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:53:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:53:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:53:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:53:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:53:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:48 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:53:48 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:53:48 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:53:48 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:48 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:53:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:53:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:53:48 DEBUG homeplanner.day_change_scheduler Waiting 58032 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [generated in 0.00044s] ('last_task_update', 1, 0)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:48 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:53:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:53:48 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine [cached since 0.04811s ago] ('last_task_update', 1, 0)
2026-01-17 10:53:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:48 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 3 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks HTTP sync-queue: 3 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation TaskOperationType.COMPLETE at 2025-01-01 09:00:03
2026-01-17 10:53:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:48 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:48 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing 3 operations
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing operation 1/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing operation 2/3: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:02
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: processing operation 3/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:03
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:53:48 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:53:48 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:53:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:53:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:53:53 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:53:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:53:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:53:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:53:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:53:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:53:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:53:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:53:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:53:53 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:53:53 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:53:53 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:53:53 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:53 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:53:53 DEBUG homeplanner.day_change_scheduler Waiting 58026 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [generated in 0.00064s] ('last_task_update', 1, 0)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:53 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2026-01-17 09:00:00
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:53:53 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T09:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:53 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T09:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:53:53 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [cached since 0.05301s ago] ('last_task_update', 1, 0)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:53 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:53:53 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:53:53 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:53:53 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:53:53.783229', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:53 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:53:53.783229", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:53 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine [cached since 0.07731s ago] ('last_task_update', 1, 0)
2026-01-17 10:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:53:53 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=False based on last operation TaskOperationType.UNCOMPLETE at 2026-01-17 12:00:00
2026-01-17 10:53:53 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T12:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:53:53 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T12:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-17 12:00:00
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:53:53 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:53:53 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:55:14 INFO  homeplanner.realtime WS disconnect: id=139661797409488, total=0
2026-01-17 10:55:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:55:15 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:55:15 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:55:15 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:55:15 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:55:15 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:55:15 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:55:15 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:55:15 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:55:15 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:55:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:15 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:55:15 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:55:15 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:55:15 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:55:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:55:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:55:15 DEBUG homeplanner.day_change_scheduler Waiting 57944 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:55:16 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:55:16 INFO  homeplanner.realtime WS connect: id=139847591576912 host=192.168.1.2 port=58918 total=1
2026-01-17 10:55:28 INFO  homeplanner.realtime WS disconnect: id=139847591576912, total=0
2026-01-17 10:55:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:55:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:55:29 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:55:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:55:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:55:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:55:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:55:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:55:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:55:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:55:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:29 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:55:29 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:55:29 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:55:29 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:55:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:55:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:55:29 DEBUG homeplanner.day_change_scheduler Waiting 57930 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:55:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:55:30 INFO  homeplanner.realtime WS connect: id=140674162918736 host=192.168.1.2 port=38346 total=1
2026-01-17 10:55:34 INFO  homeplanner.realtime WS disconnect: id=140674162918736, total=0
2026-01-17 10:55:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:55:35 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:55:35 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:55:35 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:55:35 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:55:35 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:55:35 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:55:35 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:55:35 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:55:35 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:55:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:35 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:55:35 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:55:35 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:55:35 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:55:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:55:35 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:55:35 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:55:35 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:55:35 DEBUG homeplanner.day_change_scheduler Waiting 57924 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:55:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 10:55:36 INFO  homeplanner.realtime WS connect: id=140072532083728 host=192.168.1.2 port=55356 total=1
2026-01-17 10:56:34 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 10:56:34 INFO  homeplanner.system uvicorn level: 10
2026-01-17 10:56:34 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 10:56:34 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 10:56:34 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 10:56:34 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 10:56:34 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 10:56:34 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 10:56:34 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 10:56:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:56:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:56:34 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:56:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:56:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:56:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:56:34 DEBUG homeplanner.day_change_scheduler Waiting 57866 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [generated in 0.00040s] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Initial', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Initial", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.UPDATE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying UPDATE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'updated', 'task_id': 1, 'task': {'title': 'Updated', 'description': 'Desc', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:01', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "updated", "task_id": 1, "task": {"title": "Updated", "description": "Desc", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:01", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:56:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:56:34 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:56:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:56:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:56:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:56:34 DEBUG homeplanner.day_change_scheduler Waiting 57866 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.18s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'To delete', 'description': None, 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "To delete", "description": null, "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.DELETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1 without conflict, server updated_at=2025-01-01 09:00:00, operation timestamp=2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying DELETE for task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'deleted', 'task_id': 1}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "deleted", "task_id": 1}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 0 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:56:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:56:34 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:56:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:56:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:56:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:56:34 DEBUG homeplanner.day_change_scheduler Waiting 57865 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.3507s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2025-01-01 09:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:00', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:00", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.3733s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 3 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 3 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 1: TaskOperationType.COMPLETE at 2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 1: TaskOperationType.UNCOMPLETE at 2025-01-01 09:00:02
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 1: TaskOperationType.COMPLETE at 2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 3 complete/uncomplete operations for task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 1: [('complete', datetime.datetime(2025, 1, 1, 9, 0, 1)), ('uncomplete', datetime.datetime(2025, 1, 1, 9, 0, 2)), ('complete', datetime.datetime(2025, 1, 1, 9, 0, 3))]
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation TaskOperationType.COMPLETE at 2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying final state to task 1: completed=True, updated_at=2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: task 1 state updated successfully
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: creating history entry for task 1: action=confirmed, timestamp=2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: history entry created for task 1 operation at 2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 1: completed
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: creating history entry for task 1: action=unconfirmed, timestamp=2025-01-01 09:00:02
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: history entry created for task 1 operation at 2025-01-01 09:00:02
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 1: uncompleted
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: creating history entry for task 1: action=confirmed, timestamp=2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: history entry created for task 1 operation at 2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 1: completed
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Complete', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2025-01-01T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2025-01-01T09:00:00', 'updated_at': '2025-01-01T09:00:03', 'readable_config': '1   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Complete", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2025-01-01T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2025-01-01T09:00:00", "updated_at": "2025-01-01T09:00:03", "readable_config": "1   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 3 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:01
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 2/3: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2025-01-01 09:00:02
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 3/3: TaskOperationType.COMPLETE for task 1 with timestamp 2025-01-01 09:00:03
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 10:56:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 10:56:34 DEBUG asyncio Using selector: EpollSelector
2026-01-17 10:56:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 10:56:34 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 10:56:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 10:56:34 DEBUG homeplanner.day_change_scheduler Waiting 57865 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.556s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: new day detected, recalculating all tasks
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.CREATE for task None with timestamp 2026-01-17 09:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying CREATE for new task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T09:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T09:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.5771s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 WARNING homeplanner.tasks complete_task: timestamp not provided, using server current time
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP complete: task_id=1
2026-01-17 10:56:34 INFO  homeplanner.tasks WS broadcast: task_update completed task_id=1
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T10:56:34.898967', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T10:56:34.898967", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/1/complete "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine [cached since 0.5935s ago] ('last_task_update', 1, 0)
2026-01-17 10:56:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 1: TaskOperationType.UNCOMPLETE at 2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 1
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 1: [('uncomplete', datetime.datetime(2026, 1, 17, 12, 0))]
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=False based on last operation TaskOperationType.UNCOMPLETE at 2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: applying final state to task 1: completed=False, updated_at=2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: task 1 state updated successfully
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: creating history entry for task 1: action=unconfirmed, timestamp=2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: history entry created for task 1 operation at 2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 1: uncompleted
2026-01-17 10:56:34 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 1, 'task': {'title': 'Test History', 'description': 'Test', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-17T09:00:00', 'updated_at': '2026-01-17T12:00:00', 'readable_config': '17   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-17 10:56:34 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "uncompleted", "task_id": 1, "task": {"title": "Test History", "description": "Test", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-17T09:00:00", "updated_at": "2026-01-17T12:00:00", "readable_config": "17   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.UNCOMPLETE for task 1 with timestamp 2026-01-17 12:00:00
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 1 - processed above
2026-01-17 10:56:34 INFO  homeplanner.tasks sync-queue: returning 1 tasks to client
2026-01-17 10:56:34 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/sync-queue "HTTP/1.1 200 OK"
2026-01-17 10:56:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 11:54:10 INFO  homeplanner.realtime WS disconnect: id=140072532083728, total=0
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [generated in 0.00044s] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.09754s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.1002s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.1023s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.1045s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 11:54:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [generated in 0.00183s] ()
2026-01-17 11:54:10 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  homeplanner.users Starting query for all users
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.1246s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.1242s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [generated in 0.00318s] ()
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [cached since 0.003561s ago] ()
2026-01-17 11:54:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 0 tasks in database
2026-01-17 11:54:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 0 tasks to client
2026-01-17 11:54:10 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [generated in 0.00125s] ()
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  homeplanner.users Query executed successfully, found 0 users
2026-01-17 11:54:10 WARNING homeplanner.users No users found in database - checking if table exists
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 WARNING homeplanner.users Available tables: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 11:54:10 WARNING homeplanner.users Users table exists but is empty
2026-01-17 11:54:10 INFO  homeplanner.api.users Returning 0 users (full mode) via API
2026-01-17 11:54:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:10 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 11:54:10 INFO  homeplanner.realtime WS connect: id=140072532310048 host=192.168.1.2 port=45394 total=1
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine [cached since 7.734s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine SELECT task_history.id AS task_history_id, task_history.task_id AS task_history_task_id, task_history.action AS task_history_action, task_history.action_timestamp AS task_history_action_timestamp, task_history.iteration_date AS task_history_iteration_date, task_history.meta_data AS task_history_meta_data, task_history.comment AS task_history_comment 
FROM task_history ORDER BY task_history.action_timestamp DESC
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine [generated in 0.00052s] ()
2026-01-17 11:54:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 9.048s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 9.056s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 9.06s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 9.065s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=None
2026-01-17 11:54:19 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 11:54:19 INFO  homeplanner.users Starting query for all users
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning [] because selected_user_id is None
2026-01-17 11:54:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 8.967s ago] ()
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 8.949s ago] ()
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:19 INFO  homeplanner.users Query executed successfully, found 0 users
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 9.089s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:19 WARNING homeplanner.users No users found in database - checking if table exists
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine [cached since 8.964s ago] ()
2026-01-17 11:54:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 0 tasks in database
2026-01-17 11:54:19 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 0 tasks to client
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 11:54:19 WARNING homeplanner.users Available tables: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 11:54:19 WARNING homeplanner.users Users table exists but is empty
2026-01-17 11:54:19 INFO  homeplanner.api.users Returning 0 users (full mode) via API
2026-01-17 11:54:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:25 INFO  homeplanner.realtime WS disconnect: id=140072532310048, total=0
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine [cached since 14.7s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:25 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 11:54:25 INFO  homeplanner.users Starting query for all users
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine [cached since 14.57s ago] ()
2026-01-17 11:54:25 INFO  homeplanner.users Query executed successfully, found 0 users
2026-01-17 11:54:25 WARNING homeplanner.users No users found in database - checking if table exists
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:25 WARNING homeplanner.users Available tables: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 11:54:25 WARNING homeplanner.users Users table exists but is empty
2026-01-17 11:54:25 INFO  homeplanner.api.users Returning 0 users (full mode) via API
2026-01-17 11:54:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 11:54:27 INFO  homeplanner.realtime WS connect: id=140072531971536 host=192.168.1.2 port=45438 total=1
2026-01-17 11:54:29 INFO  homeplanner.realtime WS disconnect: id=140072531971536, total=0
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine [cached since 19.16s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine [cached since 19.29s ago] ('last_task_update', 1, 0)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:29 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 11:54:29 INFO  homeplanner.users Starting query for all users
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine [cached since 19.15s ago] ()
2026-01-17 11:54:29 INFO  homeplanner.users Query executed successfully, found 0 users
2026-01-17 11:54:29 WARNING homeplanner.users No users found in database - checking if table exists
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 11:54:29 WARNING homeplanner.users Available tables: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 11:54:29 WARNING homeplanner.users Users table exists but is empty
2026-01-17 11:54:29 INFO  homeplanner.api.users Returning 0 users (full mode) via API
2026-01-17 11:54:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:19:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:19:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:19:54 INFO  sqlalchemy.engine.Engine [cached since 1544s ago] ('last_task_update', 1, 0)
2026-01-17 12:19:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine [cached since 1733s ago] ('last_task_update', 1, 0)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine INSERT INTO users (name, email, role, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine [generated in 0.00097s] ('', 'sorg2@yandex.ru', 'ADMIN', 1, '2026-01-17 12:23:03.649741', '2026-01-17 12:23:03.649760')
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine [generated in 0.00064s] (1,)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks, task_users 
WHERE ? = task_users.user_id AND tasks.id = task_users.task_id
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine [generated in 0.00074s] (1,)
2026-01-17 12:23:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine [cached since 1863s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine [cached since 1863s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:13 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 12:25:13 INFO  homeplanner.users Starting query for all users
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine [cached since 1863s ago] ()
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?)
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine [generated in 0.00066s] (1,)
2026-01-17 12:25:13 INFO  homeplanner.users Query executed successfully, found 1 users
2026-01-17 12:25:13 DEBUG homeplanner.users Users: [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 12:25:13 INFO  homeplanner.api.users Returning 1 users (full mode) via API
2026-01-17 12:25:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 12:25:17 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:17 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  homeplanner.users Starting query for all users
2026-01-17 12:25:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ()
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ()
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 3.995s ago] (1,)
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ()
2026-01-17 12:25:17 INFO  homeplanner.users Query executed successfully, found 1 users
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine [cached since 1867s ago] ()
2026-01-17 12:25:17 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1
2026-01-17 12:25:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 0 tasks in database
2026-01-17 12:25:17 DEBUG homeplanner.users Users: [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 12:25:17 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 0 tasks to client
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:25:17 INFO  homeplanner.api.users Returning 1 users (full mode) via API
2026-01-17 12:25:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 12:25:17 INFO  homeplanner.realtime WS connect: id=140072532473472 host=192.168.1.2 port=45992 total=1
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine INSERT INTO users (name, email, role, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine [cached since 150.3s ago] ('', 'lyosyk@rambler.ru', 'REGULAR', 1, '2026-01-17 12:25:33.967395', '2026-01-17 12:25:33.967404')
2026-01-17 12:25:33 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.role, users.is_active, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 150.3s ago] (2,)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks, task_users 
WHERE ? = task_users.user_id AND tasks.id = task_users.task_id
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 150.3s ago] (2,)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 12:25:34 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  homeplanner.users Starting query for all users
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 20.21s ago] (2, 1)
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 0 tasks in database
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 0 tasks to client
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1
2026-01-17 12:25:34 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-17 12:25:34 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyosyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 12:25:34 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:34 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 12:25:34 INFO  homeplanner.users Starting query for all users
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ('last_task_update', 1, 0)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 20.25s ago] (2, 1)
2026-01-17 12:25:34 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 0 task IDs for user 1
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:25:34 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-17 12:25:34 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyosyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 12:25:34 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine [cached since 1884s ago] ()
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 0 tasks in database
2026-01-17 12:25:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 0 tasks to client
2026-01-17 12:25:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:26:25 INFO  homeplanner.realtime WS disconnect: id=140072532473472, total=0
2026-01-17 12:26:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 12:26:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 12:26:26 INFO  homeplanner.system uvicorn level: 10
2026-01-17 12:26:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 12:26:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 12:26:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 12:26:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 12:26:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 12:26:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 12:26:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 12:26:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 12:26:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 12:26:26 INFO  homeplanner.database Initializing database tables...
2026-01-17 12:26:26 INFO  homeplanner.database Database URL: sqlite:////mnt/ZFS/Dev/HomePlanner/backend/homeplanner.db
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:26:26 INFO  homeplanner.database Database tables created successfully
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 12:26:26 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:26 INFO  homeplanner.database Available tables after init: ['alembic_version', 'app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 12:26:26 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 12:26:26 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 12:26:26 DEBUG homeplanner.day_change_scheduler Waiting 52473 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 12:26:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 12:26:27 INFO  homeplanner.realtime WS connect: id=140164144120208 host=192.168.1.2 port=34560 total=1
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00059s] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.003822s ago] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.006023s ago] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.008722s ago] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 12:26:39 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 12:26:39 INFO  homeplanner.users Starting query for all users
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.02691s ago] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00348s] ()
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00138s] ()
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.03235s ago] ('last_task_update', 1, 0)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00107s] (2, 1)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.01033s ago] ()
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00998s] ()
2026-01-17 12:26:39 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-17 12:26:39 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyosyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 12:26:39 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [generated in 0.00058s] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine [cached since 0.002377s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:26:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 12:26:39 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 9 task IDs for user 1
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:26:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 12:27:14 INFO  homeplanner.realtime WS connect: id=140164144265552 host=192.168.1.39 port=40204 total=2
2026-01-17 12:27:19 INFO  homeplanner.realtime WS disconnect: id=140164144265552, total=1
2026-01-17 12:27:23 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 12:27:23 INFO  homeplanner.realtime WS connect: id=140164144002640 host=192.168.1.39 port=37338 total=2
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine [cached since 44.69s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:23 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine [cached since 44.7s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine [cached since 44.66s ago] ()
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine [cached since 44.64s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:27:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 12:27:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.11s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.09s ago] ()
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.12s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 12:27:24 INFO  homeplanner.users Starting query for simple users
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [generated in 0.00059s] ()
2026-01-17 12:27:24 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 12:27:24 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.54s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.55s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.51s ago] ()
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.49s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:27:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.62s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.6s ago] ()
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 45.64s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:24 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 12:27:24 INFO  homeplanner.users Starting query for simple users
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine [cached since 0.5079s ago] ()
2026-01-17 12:27:24 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 12:27:24 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 12:27:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine [cached since 49.12s ago] ('last_task_update', 1, 0)
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:27:28 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 12:27:28 INFO  homeplanner.users Starting query for simple users
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine [cached since 3.994s ago] ()
2026-01-17 12:27:28 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 12:27:28 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 12:27:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine [cached since 944.7s ago] ('last_task_update', 1, 0)
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 12:42:23 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine [cached since 944.7s ago] ('last_task_update', 1, 0)
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine [cached since 944.6s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 12:42:23 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 12:42:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 12:53:35 INFO  homeplanner.realtime WS disconnect: id=140164144002640, total=1
2026-01-17 13:42:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 13:42:18 INFO  homeplanner.realtime WS connect: id=140164144489584 host=192.168.1.39 port=47830 total=2
2026-01-17 13:47:55 INFO  homeplanner.realtime WS disconnect: id=140164144489584, total=1
2026-01-17 13:50:51 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 13:50:51 INFO  homeplanner.realtime WS connect: id=140164144536144 host=192.168.1.39 port=46250 total=2
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine [cached since 5247s ago] ('last_task_update', 1, 0)
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 13:54:06 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine [cached since 5247s ago] ('last_task_update', 1, 0)
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine [cached since 4302s ago] ()
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine [cached since 5247s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 13:54:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 13:54:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 13:58:02 INFO  homeplanner.realtime WS disconnect: id=140164144536144, total=1
2026-01-17 15:38:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 15:38:25 INFO  homeplanner.realtime WS connect: id=140164116505344 host=192.168.1.39 port=48908 total=2
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine [cached since 1.18e+04s ago] ('last_task_update', 1, 0)
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 15:43:16 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine [cached since 1.18e+04s ago] ('last_task_update', 1, 0)
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine [cached since 1.085e+04s ago] ()
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine [cached since 1.18e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 15:43:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 15:43:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 15:44:59 INFO  homeplanner.realtime WS disconnect: id=140164116505344, total=1
2026-01-17 15:59:02 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 15:59:02 INFO  homeplanner.realtime WS connect: id=140164143672560 host=192.168.1.39 port=39614 total=2
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine [cached since 1.361e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 16:13:27 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine [cached since 1.361e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine [cached since 1.266e+04s ago] ()
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine [cached since 1.361e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:13:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 16:13:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine [cached since 1.451e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 16:28:27 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine [cached since 1.451e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine [cached since 1.356e+04s ago] ()
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine [cached since 1.451e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:28:27 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 16:28:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 16:35:19 INFO  homeplanner.realtime WS disconnect: id=140164143672560, total=1
2026-01-17 16:47:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 16:47:58 INFO  homeplanner.realtime WS connect: id=140164143487440 host=192.168.1.39 port=39006 total=2
2026-01-17 16:48:08 INFO  homeplanner.realtime WS disconnect: id=140164143487440, total=1
2026-01-17 16:49:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 16:49:08 INFO  homeplanner.realtime WS connect: id=140164143396336 host=192.168.1.39 port=47270 total=2
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine [cached since 1.592e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 16:51:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine [cached since 1.592e+04s ago] ('last_task_update', 1, 0)
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine [cached since 1.497e+04s ago] ()
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine [cached since 1.592e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 16:51:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 16:51:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 16:57:54 INFO  homeplanner.realtime WS disconnect: id=140164143396336, total=1
2026-01-17 17:04:32 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 17:04:32 INFO  homeplanner.realtime WS connect: id=140164143601840 host=192.168.1.39 port=41392 total=2
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine [cached since 1.682e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:06:58 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine [cached since 1.682e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine [cached since 1.587e+04s ago] ()
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine [cached since 1.682e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:06:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 17:06:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine [cached since 1.778e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:22:54 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine [cached since 1.778e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine [cached since 1.683e+04s ago] ()
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine [cached since 1.778e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:22:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 17:22:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:31:54 INFO  homeplanner.realtime WS disconnect: id=140164143601840, total=1
2026-01-17 17:35:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 17:35:14 INFO  homeplanner.realtime WS connect: id=140164143220928 host=192.168.1.39 port=49330 total=2
2026-01-17 17:39:53 INFO  homeplanner.realtime WS disconnect: id=140164143220928, total=1
2026-01-17 17:45:01 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 17:45:01 INFO  homeplanner.system uvicorn level: 10
2026-01-17 17:45:01 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 17:45:01 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 17:45:01 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 17:45:01 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 17:45:01 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 17:45:01 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 17:45:01 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 17:45:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:01 DEBUG asyncio Using selector: EpollSelector
2026-01-17 17:45:01 DEBUG asyncio Using selector: EpollSelector
2026-01-17 17:45:01 INFO  homeplanner.database Initializing database tables...
2026-01-17 17:45:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:01 INFO  homeplanner.database Database tables created successfully
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 17:45:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:01 DEBUG asyncio Using selector: EpollSelector
2026-01-17 17:45:01 INFO  homeplanner.database Initializing database tables...
2026-01-17 17:45:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:01 INFO  homeplanner.database Database tables created successfully
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 17:45:01 DEBUG homeplanner.day_change_scheduler Waiting 33358 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 17:45:01 INFO  homeplanner.realtime WebSocket connection attempt from testclient, origin: None
2026-01-17 17:45:01 INFO  homeplanner.realtime WS connect: id=140719790399056 host=testclient port=50000 total=1
2026-01-17 17:45:01 INFO  homeplanner.realtime WS disconnect: id=140719790399056, total=0
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 17:45:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:01 DEBUG asyncio Using selector: EpollSelector
2026-01-17 17:45:01 INFO  homeplanner.database Initializing database tables...
2026-01-17 17:45:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:01 INFO  homeplanner.database Database tables created successfully
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 17:45:01 DEBUG homeplanner.day_change_scheduler Waiting 33358 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 17:45:01 INFO  homeplanner.realtime WebSocket connection attempt from testclient, origin: None
2026-01-17 17:45:01 INFO  homeplanner.realtime WS connect: id=140719803968576 host=testclient port=50000 total=1
2026-01-17 17:45:01 INFO  homeplanner.realtime WS disconnect: id=140719803968576, total=0
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 17:45:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:01 DEBUG asyncio Using selector: EpollSelector
2026-01-17 17:45:01 INFO  homeplanner.database Initializing database tables...
2026-01-17 17:45:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:01 INFO  homeplanner.database Database tables created successfully
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 17:45:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 17:45:01 DEBUG homeplanner.day_change_scheduler Waiting 33358 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] ('last_task_update', 1, 0)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [generated in 0.00036s] ()
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [cached since 0.007339s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine [generated in 0.00061s] ('2026-01-17 17:45:01.860630', '2026-01-17 17:45:01.864354', 'last_task_update')
2026-01-17 17:45:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:02 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/tasks/stream/status "HTTP/1.1 404 Not Found"
2026-01-17 17:45:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 17:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 17:45:44 INFO  homeplanner.realtime WS disconnect: id=140164144120208, total=0
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 17:45:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 17:45:45 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  homeplanner.users Starting query for all users
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (2, 1)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:45:45 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-17 17:45:45 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyosyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 17:45:45 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-17 17:45:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 9 task IDs for user 1
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:45:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 17:45:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:45 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 17:45:45 INFO  homeplanner.realtime WS connect: id=140164143228128 host=192.168.1.2 port=53712 total=1
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-17 17:45:48 INFO  homeplanner.users Starting query for all users
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-17 17:45:48 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (2, 1)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] ()
2026-01-17 17:45:48 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-17 17:45:48 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyosyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-17 17:45:48 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine [cached since 1.915e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 17:45:48 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 9 task IDs for user 1
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:45:48 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 17:45:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:49:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 17:49:25 INFO  homeplanner.realtime WS connect: id=140164143229136 host=192.168.1.39 port=47402 total=2
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine [cached since 1.983e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 17:57:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine [cached since 1.983e+04s ago] ('last_task_update', 1, 0)
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine [cached since 1.889e+04s ago] ()
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine [cached since 1.983e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 17:57:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 17:57:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine [cached since 2.075e+04s ago] ('last_task_update', 1, 0)
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 18:12:24 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine [cached since 2.075e+04s ago] ('last_task_update', 1, 0)
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine [cached since 1.98e+04s ago] ()
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine [cached since 2.075e+04s ago] (1, 2, 5, 6, 9, 10, 13, 14, 17, 18, 21, 22, 25, 3, 7, 11, 15, 19, 23, 4, 8, 12, 16, 20, 24)
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 25 tasks in database
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='One-time Task 1', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Daily Recurring Task 2', enabled=True, task_type=TaskType.RECURRING
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='One-time Task 5', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 18:12:24 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 25 tasks to client
2026-01-17 18:12:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 18:26:07 INFO  homeplanner.realtime WS disconnect: id=140164143229136, total=1
2026-01-17 18:32:57 INFO  homeplanner.realtime WS disconnect: id=140164143228128, total=0
2026-01-17 18:32:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 18:32:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 18:32:59 INFO  homeplanner.system uvicorn level: 10
2026-01-17 18:32:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 18:32:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 18:32:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 18:32:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 18:32:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 18:32:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 18:32:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 18:32:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 18:32:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 18:32:59 INFO  homeplanner.database Initializing database tables...
2026-01-17 18:32:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 18:32:59 INFO  homeplanner.database Database tables created successfully
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 18:32:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 18:32:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 18:32:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 18:32:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 18:32:59 DEBUG homeplanner.day_change_scheduler Waiting 30480 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 18:33:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 18:33:00 INFO  homeplanner.realtime WS connect: id=140487721989648 host=192.168.1.2 port=35084 total=1
2026-01-17 18:52:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 18:52:30 INFO  homeplanner.realtime WS connect: id=140487720821440 host=192.168.1.39 port=39560 total=2
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine [generated in 0.00036s] ('last_task_update', 1, 0)
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 18:56:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine [cached since 0.005514s ago] ('last_task_update', 1, 0)
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine [generated in 0.00033s] ()
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 18:56:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 18:56:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 18:59:52 INFO  homeplanner.realtime WS disconnect: id=140487720821440, total=1
2026-01-17 19:02:39 INFO  homeplanner.realtime WS disconnect: id=140487721989648, total=0
2026-01-17 19:02:39 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:02:40 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:02:40 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:02:40 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:02:40 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:02:40 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:02:40 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:02:40 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:02:40 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:02:40 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:02:40 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:02:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:02:41 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:02:41 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:02:41 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:02:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:02:41 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:02:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:02:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:02:41 DEBUG homeplanner.day_change_scheduler Waiting 28699 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:02:41 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:02:41 INFO  homeplanner.realtime WS connect: id=140710939471504 host=192.168.1.2 port=47016 total=1
2026-01-17 19:03:12 INFO  homeplanner.realtime WS disconnect: id=140710939471504, total=0
2026-01-17 19:03:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:03:13 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:03:13 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:03:13 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:03:13 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:03:13 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:03:13 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:03:13 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:03:13 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:03:13 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:03:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:13 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:03:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:03:13 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:03:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:03:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:03:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:03:13 DEBUG homeplanner.day_change_scheduler Waiting 28666 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:03:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:03:14 INFO  homeplanner.realtime WS connect: id=139703145689360 host=192.168.1.2 port=45166 total=1
2026-01-17 19:03:40 INFO  homeplanner.realtime WS disconnect: id=139703145689360, total=0
2026-01-17 19:03:40 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:03:41 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:03:41 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:03:41 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:03:41 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:03:41 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:03:41 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:03:41 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:03:41 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:03:41 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:03:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:41 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:41 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:03:41 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:03:41 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:03:41 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:03:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:03:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:03:41 DEBUG homeplanner.day_change_scheduler Waiting 28638 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:03:42 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:03:42 INFO  homeplanner.realtime WS connect: id=140718556278736 host=192.168.1.2 port=56814 total=1
2026-01-17 19:03:52 INFO  homeplanner.realtime WS disconnect: id=140718556278736, total=0
2026-01-17 19:03:52 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:03:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:03:53 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:03:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:03:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:03:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:03:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:03:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:03:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:03:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:03:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:03:53 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:03:53 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:03:53 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:03:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:03:53 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:03:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:03:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:03:53 DEBUG homeplanner.day_change_scheduler Waiting 28626 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:03:54 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:03:54 INFO  homeplanner.realtime WS connect: id=139808120434960 host=192.168.1.2 port=45644 total=1
2026-01-17 19:04:06 INFO  homeplanner.realtime WS disconnect: id=139808120434960, total=0
2026-01-17 19:04:06 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:04:08 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:04:08 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:04:08 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:04:08 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:04:08 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:04:08 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:04:08 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:04:08 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:04:08 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:04:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:04:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:04:08 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:04:08 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:04:08 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:04:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:04:08 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:04:08 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:04:08 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:04:08 DEBUG homeplanner.day_change_scheduler Waiting 28612 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:04:09 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:04:09 INFO  homeplanner.realtime WS connect: id=140290030678928 host=192.168.1.2 port=53314 total=1
2026-01-17 19:04:59 INFO  homeplanner.realtime WS disconnect: id=140290030678928, total=0
2026-01-17 19:04:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:00 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:00 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:00 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:00 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:00 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:00 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:00 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:00 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:00 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:00 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:00 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:00 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:00 DEBUG homeplanner.day_change_scheduler Waiting 28559 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:01 INFO  homeplanner.realtime WS connect: id=139756319191952 host=192.168.1.2 port=44526 total=1
2026-01-17 19:05:09 INFO  homeplanner.realtime WS disconnect: id=139756319191952, total=0
2026-01-17 19:05:09 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:10 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:10 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:10 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:10 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:10 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:11 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:11 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:11 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:11 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:11 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:11 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:11 DEBUG homeplanner.day_change_scheduler Waiting 28549 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:12 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:12 INFO  homeplanner.realtime WS connect: id=139882529993296 host=192.168.1.2 port=53294 total=1
2026-01-17 19:05:15 INFO  homeplanner.realtime WS disconnect: id=139882529993296, total=0
2026-01-17 19:05:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:16 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:16 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:16 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:16 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:16 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:17 DEBUG homeplanner.day_change_scheduler Waiting 28543 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:17 INFO  homeplanner.realtime WS connect: id=140612922946128 host=192.168.1.2 port=40632 total=1
2026-01-17 19:05:21 INFO  homeplanner.realtime WS disconnect: id=140612922946128, total=0
2026-01-17 19:05:21 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:22 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:22 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:22 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:22 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:22 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:22 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:22 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:22 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:22 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:22 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:22 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:22 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:22 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:22 DEBUG homeplanner.day_change_scheduler Waiting 28537 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:23 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:23 INFO  homeplanner.realtime WS connect: id=140215984616656 host=192.168.1.2 port=40640 total=1
2026-01-17 19:05:36 INFO  homeplanner.realtime WS disconnect: id=140215984616656, total=0
2026-01-17 19:05:36 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:37 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:37 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:37 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:37 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:38 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:38 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:38 DEBUG homeplanner.day_change_scheduler Waiting 28522 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:38 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:38 INFO  homeplanner.realtime WS connect: id=140177921143376 host=192.168.1.2 port=40388 total=1
2026-01-17 19:05:47 INFO  homeplanner.realtime WS disconnect: id=140177921143376, total=0
2026-01-17 19:05:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:05:48 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:05:48 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:05:48 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:05:48 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:05:48 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:05:48 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:05:48 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:05:48 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:05:48 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:05:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:05:48 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:05:48 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:05:48 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:05:48 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:05:48 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:05:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:05:48 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:05:48 DEBUG homeplanner.day_change_scheduler Waiting 28511 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:05:49 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:05:49 INFO  homeplanner.realtime WS connect: id=140639987741584 host=192.168.1.2 port=49336 total=1
2026-01-17 19:07:02 INFO  homeplanner.realtime WS disconnect: id=140639987741584, total=0
2026-01-17 19:07:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:07:03 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:07:03 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:07:03 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:07:03 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:07:03 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:07:03 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:07:03 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:07:03 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:07:03 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:07:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:03 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:03 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:07:03 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:07:03 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:07:03 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:07:03 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:07:03 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:07:03 DEBUG homeplanner.day_change_scheduler Waiting 28436 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:07:04 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:07:04 INFO  homeplanner.realtime WS connect: id=140343288886160 host=192.168.1.2 port=49476 total=1
2026-01-17 19:07:32 INFO  homeplanner.realtime WS disconnect: id=140343288886160, total=0
2026-01-17 19:07:33 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:07:34 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:07:34 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:07:34 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:07:34 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:07:34 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:07:34 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:07:34 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:07:34 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:07:34 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:07:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:34 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:34 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:07:34 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:07:34 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:07:34 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:07:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:07:34 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:07:34 DEBUG homeplanner.day_change_scheduler Waiting 28405 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:07:35 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:07:35 INFO  homeplanner.realtime WS connect: id=140052988637776 host=192.168.1.2 port=44352 total=1
2026-01-17 19:07:56 INFO  homeplanner.realtime WS disconnect: id=140052988637776, total=0
2026-01-17 19:07:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:07:57 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:07:57 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:07:57 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:07:57 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:07:57 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:07:57 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:07:57 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:07:57 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:07:57 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:07:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:07:57 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:07:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:07:57 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:07:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:07:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:07:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:07:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:07:57 DEBUG homeplanner.day_change_scheduler Waiting 28382 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:07:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:07:58 INFO  homeplanner.realtime WS connect: id=139810356523920 host=192.168.1.2 port=37126 total=1
2026-01-17 19:08:15 INFO  homeplanner.realtime WS disconnect: id=139810356523920, total=0
2026-01-17 19:08:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:08:17 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:08:17 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:08:17 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:08:17 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:08:17 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:08:17 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:08:17 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:08:17 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:08:17 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:08:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:08:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:08:17 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:08:17 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:08:17 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:08:17 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:08:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:08:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:08:17 DEBUG homeplanner.day_change_scheduler Waiting 28363 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:08:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:08:18 INFO  homeplanner.realtime WS connect: id=139733044081232 host=192.168.1.2 port=36468 total=1
2026-01-17 19:08:25 INFO  homeplanner.realtime WS disconnect: id=139733044081232, total=0
2026-01-17 19:08:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:08:27 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:08:27 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:08:27 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:08:27 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:08:27 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:08:27 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:08:27 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:08:27 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:08:27 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:08:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:08:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:08:27 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:08:27 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:08:27 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:08:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:08:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:08:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:08:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:08:27 DEBUG homeplanner.day_change_scheduler Waiting 28353 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:08:28 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:08:28 INFO  homeplanner.realtime WS connect: id=140438152606288 host=192.168.1.2 port=47042 total=1
2026-01-17 19:09:19 INFO  homeplanner.realtime WS disconnect: id=140438152606288, total=0
2026-01-17 19:09:19 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:09:20 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:09:20 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:09:20 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:09:20 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:09:20 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:09:20 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:09:20 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:09:20 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:09:20 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:09:20 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:09:20 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:09:20 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:09:20 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:09:20 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:09:20 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:09:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:09:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:09:20 DEBUG homeplanner.day_change_scheduler Waiting 28299 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:09:21 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:09:21 INFO  homeplanner.realtime WS connect: id=139833001571536 host=192.168.1.2 port=42898 total=1
2026-01-17 19:09:47 INFO  homeplanner.realtime WS disconnect: id=139833001571536, total=0
2026-01-17 19:09:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:09:48 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:09:48 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:09:48 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:09:48 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:09:48 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:09:48 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:09:48 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:09:48 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:09:48 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:09:48 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:09:49 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:09:49 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:09:49 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:09:49 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:09:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:09:49 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:09:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:09:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:09:49 DEBUG homeplanner.day_change_scheduler Waiting 28271 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:09:49 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:09:49 INFO  homeplanner.realtime WS connect: id=139976879944272 host=192.168.1.2 port=44496 total=1
2026-01-17 19:10:10 INFO  homeplanner.realtime WS disconnect: id=139976879944272, total=0
2026-01-17 19:10:10 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:11 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:11 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:11 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:11 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:11 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:11 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:11 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:11 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:11 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:11 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:11 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:11 DEBUG homeplanner.day_change_scheduler Waiting 28248 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:12 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:12 INFO  homeplanner.realtime WS connect: id=139641019741072 host=192.168.1.2 port=60244 total=1
2026-01-17 19:10:15 INFO  homeplanner.realtime WS disconnect: id=139641019741072, total=0
2026-01-17 19:10:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:16 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:16 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:16 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:16 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:16 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:16 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:16 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:16 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:16 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:17 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:17 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:17 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:17 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:17 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:17 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:17 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:17 DEBUG homeplanner.day_change_scheduler Waiting 28243 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:17 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:17 INFO  homeplanner.realtime WS connect: id=140089880752720 host=192.168.1.2 port=52996 total=1
2026-01-17 19:10:25 INFO  homeplanner.realtime WS disconnect: id=140089880752720, total=0
2026-01-17 19:10:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:26 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:27 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:27 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:27 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:27 DEBUG homeplanner.day_change_scheduler Waiting 28233 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:27 INFO  homeplanner.realtime WS connect: id=139820401766992 host=192.168.1.2 port=36666 total=1
2026-01-17 19:10:29 INFO  homeplanner.realtime WS disconnect: id=139820401766992, total=0
2026-01-17 19:10:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:30 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:30 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:30 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:30 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:30 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:30 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:30 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:30 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:30 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:30 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:30 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:30 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:30 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:30 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:30 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:30 DEBUG homeplanner.day_change_scheduler Waiting 28229 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:31 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:31 INFO  homeplanner.realtime WS connect: id=139713775416528 host=192.168.1.2 port=36682 total=1
2026-01-17 19:10:37 INFO  homeplanner.realtime WS disconnect: id=139713775416528, total=0
2026-01-17 19:10:37 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:39 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:39 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:39 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:39 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:39 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:39 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:39 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:39 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:39 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:39 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:39 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:39 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:39 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:39 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:39 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:39 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:39 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:39 DEBUG homeplanner.day_change_scheduler Waiting 28221 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:40 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:40 INFO  homeplanner.realtime WS connect: id=140291919327824 host=192.168.1.2 port=60730 total=1
2026-01-17 19:10:43 INFO  homeplanner.realtime WS disconnect: id=140291919327824, total=0
2026-01-17 19:10:43 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:45 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:45 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:45 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:45 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:45 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:45 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:45 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:45 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:45 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:45 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:45 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:45 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:45 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:45 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:45 DEBUG homeplanner.day_change_scheduler Waiting 28214 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:46 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:46 INFO  homeplanner.realtime WS connect: id=139676052910672 host=192.168.1.2 port=58908 total=1
2026-01-17 19:10:49 INFO  homeplanner.realtime WS disconnect: id=139676052910672, total=0
2026-01-17 19:10:49 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:51 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:51 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:51 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:51 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:51 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:51 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:51 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:51 DEBUG homeplanner.day_change_scheduler Waiting 28209 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:52 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:52 INFO  homeplanner.realtime WS connect: id=140160435270224 host=192.168.1.2 port=58918 total=1
2026-01-17 19:10:55 INFO  homeplanner.realtime WS disconnect: id=140160435270224, total=0
2026-01-17 19:10:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:10:56 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:10:56 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:10:56 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:10:56 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:10:56 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:10:56 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:10:56 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:10:56 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:10:56 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:10:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:10:56 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:10:56 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:10:56 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:10:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:10:56 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:10:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:10:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:10:56 DEBUG homeplanner.day_change_scheduler Waiting 28203 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:10:57 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:10:57 INFO  homeplanner.realtime WS connect: id=140134833107536 host=192.168.1.2 port=55792 total=1
2026-01-17 19:11:00 INFO  homeplanner.realtime WS disconnect: id=140134833107536, total=0
2026-01-17 19:11:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:11:01 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:11:01 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:11:01 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:11:01 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:11:01 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:11:01 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:11:01 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:11:01 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:11:01 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:11:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:01 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:01 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:11:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:11:01 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:11:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:11:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:11:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:11:01 DEBUG homeplanner.day_change_scheduler Waiting 28198 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:11:02 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:11:02 INFO  homeplanner.realtime WS connect: id=140244598977744 host=192.168.1.2 port=55796 total=1
2026-01-17 19:11:06 INFO  homeplanner.realtime WS disconnect: id=140244598977744, total=0
2026-01-17 19:11:06 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:11:07 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:11:07 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:11:07 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:11:07 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:11:07 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:11:07 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:11:07 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:11:07 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:11:07 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:11:07 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:07 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:07 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:11:07 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:11:07 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:11:07 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:11:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:11:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:11:07 DEBUG homeplanner.day_change_scheduler Waiting 28192 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:11:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:11:08 INFO  homeplanner.realtime WS connect: id=140696579503312 host=192.168.1.2 port=48062 total=1
2026-01-17 19:11:18 INFO  homeplanner.realtime WS disconnect: id=140696579503312, total=0
2026-01-17 19:11:18 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-17 19:11:19 INFO  homeplanner.system uvicorn.access level: 30
2026-01-17 19:11:19 INFO  homeplanner.system uvicorn level: 10
2026-01-17 19:11:19 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-17 19:11:19 INFO  homeplanner.system uvicorn handlers: []
2026-01-17 19:11:19 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-17 19:11:19 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-17 19:11:19 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-17 19:11:19 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-17 19:11:19 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-17 19:11:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:20 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-17 19:11:20 INFO  homeplanner.database Initializing database tables...
2026-01-17 19:11:20 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:11:20 INFO  homeplanner.database Database tables created successfully
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-17 19:11:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:11:20 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-17 19:11:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-17 19:11:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-17 19:11:20 DEBUG homeplanner.day_change_scheduler Waiting 28180 seconds until next day check at 2026-01-18 03:01:00
2026-01-17 19:11:20 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-17 19:11:20 INFO  homeplanner.realtime WS connect: id=140440457376336 host=192.168.1.2 port=36272 total=1
2026-01-17 19:34:57 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 19:34:57 INFO  homeplanner.realtime WS connect: id=140440457591728 host=192.168.1.39 port=46782 total=2
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine [generated in 0.00043s] ('last_task_update', 1, 0)
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 19:38:31 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine [cached since 0.00613s ago] ('last_task_update', 1, 0)
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine [generated in 0.00064s] ()
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine [generated in 0.00083s] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 19:38:31 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 19:38:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 19:39:52 INFO  homeplanner.realtime WS disconnect: id=140440457591728, total=1
2026-01-17 20:12:23 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 20:12:23 INFO  homeplanner.realtime WS connect: id=140440457028688 host=192.168.1.39 port=37748 total=2
2026-01-17 20:18:12 INFO  homeplanner.realtime WS disconnect: id=140440457028688, total=1
2026-01-17 20:52:40 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 20:52:40 INFO  homeplanner.realtime WS connect: id=140440456831568 host=192.168.1.39 port=41204 total=2
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine [cached since 4490s ago] ('last_task_update', 1, 0)
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 20:53:21 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine [cached since 4490s ago] ('last_task_update', 1, 0)
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine [cached since 4490s ago] ()
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine [cached since 4490s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 20:53:21 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 20:53:21 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 20:53:21 INFO  homeplanner.realtime WS disconnect: id=140440456831568, total=1
2026-01-17 21:12:35 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 21:12:35 INFO  homeplanner.realtime WS connect: id=140440455442000 host=192.168.1.39 port=42470 total=2
2026-01-17 21:12:38 INFO  homeplanner.realtime WS disconnect: id=140440455442000, total=1
2026-01-17 21:12:40 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 21:12:40 INFO  homeplanner.realtime WS connect: id=140440454212224 host=192.168.1.39 port=42476 total=2
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine [cached since 5649s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine [cached since 5649s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine [generated in 0.00028s] ()
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine [cached since 5649s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 21:12:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 21:12:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [generated in 0.00060s] ()
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 21:12:41 INFO  homeplanner.users Starting query for simple users
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [generated in 0.00055s] ()
2026-01-17 21:12:41 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 21:12:41 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 1.054s ago] ()
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 21:12:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 0.5117s ago] ()
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 5650s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:41 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 21:12:41 INFO  homeplanner.users Starting query for simple users
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine [cached since 0.5382s ago] ()
2026-01-17 21:12:41 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 21:12:41 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 21:12:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine [cached since 5652s ago] ('last_task_update', 1, 0)
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:12:43 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 21:12:43 INFO  homeplanner.users Starting query for simple users
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine [cached since 2.435s ago] ()
2026-01-17 21:12:43 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 21:12:43 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 21:12:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 21:19:13 INFO  homeplanner.realtime WS disconnect: id=140440454212224, total=1
2026-01-17 22:12:46 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 22:12:46 INFO  homeplanner.realtime WS connect: id=140440453996272 host=192.168.1.39 port=45196 total=2
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine [cached since 9345s ago] ('last_task_update', 1, 0)
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 22:14:16 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine [cached since 9345s ago] ('last_task_update', 1, 0)
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine [cached since 9345s ago] ()
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine [cached since 9345s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 22:14:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 22:14:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 22:27:51 INFO  homeplanner.realtime WS disconnect: id=140440453996272, total=1
2026-01-17 23:05:12 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 23:05:12 INFO  homeplanner.realtime WS connect: id=140440455277520 host=192.168.1.39 port=46618 total=2
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:13 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine [cached since 6753s ago] ()
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:05:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:05:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:14 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 6754s ago] ()
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:05:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 6753s ago] ()
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:14 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:05:14 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine [cached since 6753s ago] ()
2026-01-17 23:05:14 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:05:14 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:05:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine [cached since 6755s ago] ()
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine [cached since 1.24e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:16 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:05:16 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine [cached since 6755s ago] ()
2026-01-17 23:05:16 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:05:16 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:05:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine [cached since 1.241e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:05:19 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:05:19 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine [cached since 6758s ago] ()
2026-01-17 23:05:19 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:05:19 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:05:19 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine [cached since 1.33e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:20:12 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine [cached since 1.33e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine [cached since 1.33e+04s ago] ()
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine [cached since 1.33e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:20:12 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:20:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine [cached since 1.42e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:35:13 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine [cached since 1.42e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine [cached since 1.42e+04s ago] ()
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine [cached since 1.42e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:35:13 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:35:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:48:12 INFO  homeplanner.realtime WS disconnect: id=140440455277520, total=1
2026-01-17 23:48:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-17 23:48:14 INFO  homeplanner.realtime WS connect: id=140440454184496 host=192.168.1.39 port=43116 total=2
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine [cached since 1.498e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:15 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine [cached since 1.498e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine [cached since 9335s ago] ()
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine [cached since 1.498e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:48:15 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:48:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:16 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 9336s ago] ()
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-17 23:48:16 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 9335s ago] ()
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:16 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:48:16 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine [cached since 9335s ago] ()
2026-01-17 23:48:16 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:48:16 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:48:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine [cached since 9337s ago] ()
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:18 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:48:18 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine [cached since 9337s ago] ()
2026-01-17 23:48:18 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:48:18 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:48:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine [cached since 1.499e+04s ago] ('last_task_update', 1, 0)
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-17 23:48:21 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-17 23:48:21 INFO  homeplanner.users Starting query for simple users
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine [cached since 9340s ago] ()
2026-01-17 23:48:21 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-17 23:48:21 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-17 23:48:21 INFO  sqlalchemy.engine.Engine ROLLBACK
