2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine [cached since 1.588e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:03:14 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine [cached since 1.588e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine [cached since 1.588e+04s ago] ()
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine [cached since 1.588e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:03:14 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:03:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:13:15 INFO  homeplanner.realtime WS disconnect: id=140440454184496, total=1
2026-01-18 00:13:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 00:13:58 INFO  homeplanner.realtime WS connect: id=140440454745616 host=192.168.1.39 port=38940 total=2
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:13:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:13:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:13:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:14:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:00 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:14:00 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:14:00 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:14:00 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:14:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine [cached since 1.653e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:01 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:14:01 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine [cached since 1.088e+04s ago] ()
2026-01-18 00:14:01 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:14:01 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:14:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine [cached since 1.654e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:14:09 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:14:09 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine [cached since 1.089e+04s ago] ()
2026-01-18 00:14:09 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:14:09 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:14:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:39 INFO  homeplanner.realtime WS disconnect: id=140440454745616, total=1
2026-01-18 00:15:50 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 00:15:50 INFO  homeplanner.realtime WS connect: id=140440455320288 host=192.168.1.39 port=40090 total=2
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:51 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:15:51 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:15:51 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:52 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:15:52 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:52 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:15:52 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:52 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:15:52 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:15:52 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine [cached since 1.664e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:15:53 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:15:53 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine [cached since 1.099e+04s ago] ()
2026-01-18 00:15:53 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:15:53 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:15:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine [cached since 1.665e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:16:04 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:16:04 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine [cached since 1.1e+04s ago] ()
2026-01-18 00:16:04 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:16:04 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:16:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:18 INFO  homeplanner.realtime WS disconnect: id=140440455320288, total=1
2026-01-18 00:17:34 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 00:17:34 INFO  homeplanner.realtime WS connect: id=140440455320000 host=192.168.1.39 port=42924 total=2
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:17:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:34 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:17:34 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:34 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:17:34 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:17:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:35 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:17:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.674e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:17:35 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 00:17:35 INFO  homeplanner.users Starting query for simple users
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine [cached since 1.109e+04s ago] ()
2026-01-18 00:17:35 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 00:17:35 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 00:17:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:34 INFO  homeplanner.realtime WS disconnect: id=140440457376336, total=1
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:35 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:35 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:35 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.121e+04s ago] ()
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [generated in 0.00228s] ()
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.121e+04s ago] ()
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [generated in 0.00149s] (2, 1)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.121e+04s ago] ()
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine [cached since 1.686e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:35 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:35 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:35 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:35 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 00:19:35 INFO  homeplanner.realtime WS connect: id=140440455326336 host=192.168.1.2 port=42756 total=2
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:38 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:38 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 37: TaskOperationType.COMPLETE at 2026-01-17 21:19:39.074000+00:00
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 37
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 37: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 39, 74000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: final state for task 37: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:39.074000+00:00
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [generated in 0.00032s] (37, 1, 0)
2026-01-18 00:19:38 WARNING homeplanner.tasks sync-queue: task 37 not found for complete/uncomplete resolution
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 37 with timestamp 2026-01-17 21:19:39.074000+00:00
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 37 - processed above
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:38 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 39: TaskOperationType.COMPLETE at 2026-01-17 21:19:39.450000+00:00
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 39
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 39: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 39, 450000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: final state for task 39: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:39.450000+00:00
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 0.393s ago] (39, 1, 0)
2026-01-18 00:19:39 WARNING homeplanner.tasks sync-queue: task 39 not found for complete/uncomplete resolution
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 39 with timestamp 2026-01-17 21:19:39.450000+00:00
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 39 - processed above
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 1: TaskOperationType.COMPLETE at 2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 1
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 1: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 39, 816000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: final state for task 1: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 0.7648s ago] (1, 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1,)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: applying final state to task 1: completed=True, updated_at=2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [generated in 0.00072s] (1, '2026-01-17 21:19:39.816000', 1)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [generated in 0.00069s] (1,)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [generated in 0.00066s] (1,)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: task 1 state updated successfully
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: creating history entry for task 1: action=confirmed, timestamp=2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [generated in 0.00075s] (1, 'CONFIRMED', '2026-01-17 21:19:39.816000', '2026-01-11 09:00:00.000000', None, None)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: history entry created for task 1 operation at 2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 1: completed
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [generated in 0.00069s] (1,)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 0.04977s ago] (1,)
2026-01-18 00:19:39 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 1, 'task': {'title': 'Test Task 1 (Day -3, Type recurring)', 'description': 'Test task for day -3, type recurring', 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 9, 'interval_days': None, 'reminder_time': '2026-01-11T09:00:00', 'alarm': True, 'group_id': None, 'id': 1, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:27.397229', 'updated_at': '2026-01-17T21:19:39.816000', 'readable_config': ' 09:00  9 ', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:39 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 1, "task": {"title": "Test Task 1 (Day -3, Type recurring)", "description": "Test task for day -3, type recurring", "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 9, "interval_days": null, "reminder_time": "2026-01-11T09:00:00", "alarm": true, "group_id": null, "id": 1, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:27.397229", "updated_at": "2026-01-17T21:19:39.816000", "readable_config": " 09:00  9 ", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 1 with timestamp 2026-01-17 21:19:39.816000+00:00
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 1 - processed above
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 4.62s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 4.623s ago] (2, 1)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:39 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:39 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:39 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:39 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 4: TaskOperationType.COMPLETE at 2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 6: TaskOperationType.COMPLETE at 2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 4
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 4: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 40, 243000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: final state for task 4: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.303s ago] (4, 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (4,)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: applying final state to task 4: completed=True, updated_at=2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.5322s ago] (1, '2026-01-17 21:19:40.243000', 4)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.5222s ago] (4,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.5159s ago] (4,)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: task 4 state updated successfully
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: creating history entry for task 4: action=confirmed, timestamp=2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.51s ago] (4, 'CONFIRMED', '2026-01-17 21:19:40.243000', '2026-01-11 09:00:00.000000', None, None)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: history entry created for task 4 operation at 2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 4: completed
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.5075s ago] (4,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.5554s ago] (4,)
2026-01-18 00:19:40 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 4, 'task': {'title': 'Test Task 4 (Day -3, Type one_time)', 'description': 'Test task for day -3, type one_time', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-11T09:00:00', 'alarm': True, 'group_id': None, 'id': 4, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:27.684145', 'updated_at': '2026-01-17T21:19:40.243000', 'readable_config': '11   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:40 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 4, "task": {"title": "Test Task 4 (Day -3, Type one_time)", "description": "Test task for day -3, type one_time", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-11T09:00:00", "alarm": true, "group_id": null, "id": 4, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:27.684145", "updated_at": "2026-01-17T21:19:40.243000", "readable_config": "11   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 6
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 6: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 40, 473000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: final state for task 6: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.387s ago] (6, 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (6,)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: applying final state to task 6: completed=True, updated_at=2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.6189s ago] (1, '2026-01-17 21:19:40.473000', 6)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.6111s ago] (6,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.6061s ago] (6,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: task 6 state updated successfully
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: creating history entry for task 6: action=confirmed, timestamp=2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.6043s ago] (6, 'CONFIRMED', '2026-01-17 21:19:40.473000', '2026-01-12 09:00:00.000000', None, None)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:40 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.12s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: history entry created for task 6 operation at 2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 6: completed
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.6018s ago] (6,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 0.649s ago] (6,)
2026-01-18 00:19:40 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 6, 'task': {'title': 'Test Task 6 (Day -2, Type recurring)', 'description': 'Test task for day -2, type recurring', 'task_type': 'recurring', 'recurrence_type': 'daily', 'recurrence_interval': 9, 'interval_days': None, 'reminder_time': '2026-01-12T09:00:00', 'alarm': False, 'group_id': None, 'id': 6, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:27.846429', 'updated_at': '2026-01-17T21:19:40.473000', 'readable_config': ' 09:00  9 ', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:40 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 6, "task": {"title": "Test Task 6 (Day -2, Type recurring)", "description": "Test task for day -2, type recurring", "task_type": "recurring", "recurrence_type": "daily", "recurrence_interval": 9, "interval_days": null, "reminder_time": "2026-01-12T09:00:00", "alarm": false, "group_id": null, "id": 6, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:27.846429", "updated_at": "2026-01-17T21:19:40.473000", "readable_config": " 09:00  9 ", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.COMPLETE for task 4 with timestamp 2026-01-17 21:19:40.243000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 4 - processed above
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.COMPLETE for task 6 with timestamp 2026-01-17 21:19:40.473000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 6 - processed above
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.149s ago] (2, 1)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:40 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:40 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.218s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.212s ago] (2, 1)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:40 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:40 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 7: TaskOperationType.COMPLETE at 2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 7
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 7: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 40, 853000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: final state for task 7: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.936s ago] (7, 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (7,)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: applying final state to task 7: completed=True, updated_at=2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.168s ago] (1, '2026-01-17 21:19:40.853000', 7)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.158s ago] (7,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.153s ago] (7,)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: task 7 state updated successfully
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: creating history entry for task 7: action=confirmed, timestamp=2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.149s ago] (7, 'CONFIRMED', '2026-01-17 21:19:40.853000', '2026-01-12 09:00:00.000000', None, None)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: history entry created for task 7 operation at 2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 7: completed
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.146s ago] (7,)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.194s ago] (7,)
2026-01-18 00:19:40 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 7, 'task': {'title': 'Test Task 7 (Day -2, Type interval)', 'description': 'Test task for day -2, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 5, 'reminder_time': '2026-01-12T09:00:00', 'alarm': False, 'group_id': None, 'id': 7, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:27.928264', 'updated_at': '2026-01-17T21:19:40.853000', 'readable_config': '  5   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:40 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 7, "task": {"title": "Test Task 7 (Day -2, Type interval)", "description": "Test task for day -2, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 5, "reminder_time": "2026-01-12T09:00:00", "alarm": false, "group_id": null, "id": 7, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:27.928264", "updated_at": "2026-01-17T21:19:40.853000", "readable_config": "  5   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 7 with timestamp 2026-01-17 21:19:40.853000+00:00
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 7 - processed above
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:40 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.751s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 5.753s ago] (2, 1)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:40 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:40 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:40 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:40 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:40 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 13: TaskOperationType.COMPLETE at 2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 13
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 13: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 41, 524000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: final state for task 13: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.437s ago] (13, 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: applying final state to task 13: completed=True, updated_at=2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.666s ago] (1, '2026-01-17 21:19:41.524000', 13)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.657s ago] (13,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.651s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: task 13 state updated successfully
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: creating history entry for task 13: action=confirmed, timestamp=2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.645s ago] (13, 'CONFIRMED', '2026-01-17 21:19:41.524000', '2026-01-13 09:00:00.000000', None, None)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: history entry created for task 13 operation at 2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 13: completed
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.637s ago] (13,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.684s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 13, 'task': {'title': 'Test Task 13 (Day -1, Type interval)', 'description': 'Test task for day -1, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 6, 'reminder_time': '2026-01-13T09:00:00', 'alarm': True, 'group_id': None, 'id': 13, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:28.957809', 'updated_at': '2026-01-17T21:19:41.524000', 'readable_config': '  6   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:41 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 13, "task": {"title": "Test Task 13 (Day -1, Type interval)", "description": "Test task for day -1, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 6, "reminder_time": "2026-01-13T09:00:00", "alarm": true, "group_id": null, "id": 13, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:28.957809", "updated_at": "2026-01-17T21:19:41.524000", "readable_config": "  6   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 13 with timestamp 2026-01-17 21:19:41.524000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 13 - processed above
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:41 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 6.214s ago] ()
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 6.212s ago] (2, 1)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:41 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:41 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:41 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:41 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-18 00:19:41 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 13: TaskOperationType.UNCOMPLETE at 2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 18: TaskOperationType.COMPLETE at 2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 13
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 13: [('uncomplete', datetime.datetime(2026, 1, 17, 21, 19, 41, 876000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: final state for task 13: completed=False based on last operation TaskOperationType.UNCOMPLETE at 2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.937s ago] (13, 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: applying final state to task 13: completed=False, updated_at=2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.17s ago] (0, '2026-01-17 21:19:41.876000', 13)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.169s ago] (13,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.163s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: task 13 state updated successfully
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: creating history entry for task 13: action=unconfirmed, timestamp=2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.157s ago] (13, 'UNCONFIRMED', '2026-01-17 21:19:41.876000', '2026-01-13 09:00:00.000000', None, None)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: history entry created for task 13 operation at 2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 13: uncompleted
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.151s ago] (13,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.198s ago] (13,)
2026-01-18 00:19:41 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'uncompleted', 'task_id': 13, 'task': {'title': 'Test Task 13 (Day -1, Type interval)', 'description': 'Test task for day -1, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 6, 'reminder_time': '2026-01-13T09:00:00', 'alarm': True, 'group_id': None, 'id': 13, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:28.957809', 'updated_at': '2026-01-17T21:19:41.876000', 'readable_config': '  6   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:41 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "uncompleted", "task_id": 13, "task": {"title": "Test Task 13 (Day -1, Type interval)", "description": "Test task for day -1, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 6, "reminder_time": "2026-01-13T09:00:00", "alarm": true, "group_id": null, "id": 13, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-14T08:41:28.957809", "updated_at": "2026-01-17T21:19:41.876000", "readable_config": "  6   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 18
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 18: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 42, 98000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: final state for task 18: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 3.029s ago] (18, 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (18,)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: applying final state to task 18: completed=True, updated_at=2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.26s ago] (1, '2026-01-17 21:19:42.098000', 18)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.251s ago] (18,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.246s ago] (18,)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: task 18 state updated successfully
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:41 INFO  homeplanner.tasks sync-queue: creating history entry for task 18: action=confirmed, timestamp=2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 2.242s ago] (18, 'CONFIRMED', '2026-01-17 21:19:42.098000', '2026-01-14 09:00:00.000000', None, None)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:41 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: history entry created for task 18 operation at 2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 18: completed
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 2.492s ago] (18,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 2.54s ago] (18,)
2026-01-18 00:19:42 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 18, 'task': {'title': 'Test Task 18 (Day 0, Type recurring)', 'description': 'Test task for day 0, type recurring', 'task_type': 'recurring', 'recurrence_type': 'weekdays', 'recurrence_interval': 2, 'interval_days': None, 'reminder_time': '2026-01-14T09:00:00', 'alarm': False, 'group_id': None, 'id': 18, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:29.343073', 'updated_at': '2026-01-17T21:19:42.098000', 'readable_config': ' 09:00  2  ', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 18, "task": {"title": "Test Task 18 (Day 0, Type recurring)", "description": "Test task for day 0, type recurring", "task_type": "recurring", "recurrence_type": "weekdays", "recurrence_interval": 2, "interval_days": null, "reminder_time": "2026-01-14T09:00:00", "alarm": false, "group_id": null, "id": 18, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:29.343073", "updated_at": "2026-01-17T21:19:42.098000", "readable_config": " 09:00  2  ", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.UNCOMPLETE for task 13 with timestamp 2026-01-17 21:19:41.876000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: skipping UNCOMPLETE operation for task 13 - processed above
2026-01-18 00:19:42 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.COMPLETE for task 18 with timestamp 2026-01-17 21:19:42.098000+00:00
2026-01-18 00:19:42 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 18 - processed above
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.112s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.12s ago] (2, 1)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:42 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:42 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:42 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.19s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.185s ago] (2, 1)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:42 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 19: TaskOperationType.COMPLETE at 2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 22: TaskOperationType.COMPLETE at 2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 19
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 19: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 42, 925000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: final state for task 19: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.901s ago] (19, 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (19,)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: applying final state to task 19: completed=True, updated_at=2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.13s ago] (1, '2026-01-17 21:19:42.925000', 19)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.118s ago] (19,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.112s ago] (19,)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: task 19 state updated successfully
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: creating history entry for task 19: action=confirmed, timestamp=2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.106s ago] (19, 'CONFIRMED', '2026-01-17 21:19:42.925000', '2026-01-14 09:00:00.000000', None, None)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: history entry created for task 19 operation at 2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 19: completed
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.103s ago] (19,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.15s ago] (19,)
2026-01-18 00:19:42 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 19, 'task': {'title': 'Test Task 19 (Day 0, Type recurring)', 'description': 'Test task for day 0, type recurring', 'task_type': 'recurring', 'recurrence_type': 'weekly', 'recurrence_interval': 8, 'interval_days': None, 'reminder_time': '2026-01-14T09:00:00', 'alarm': False, 'group_id': None, 'id': 19, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:29.419518', 'updated_at': '2026-01-17T21:19:42.925000', 'readable_config': '  8     09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:42 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 19, "task": {"title": "Test Task 19 (Day 0, Type recurring)", "description": "Test task for day 0, type recurring", "task_type": "recurring", "recurrence_type": "weekly", "recurrence_interval": 8, "interval_days": null, "reminder_time": "2026-01-14T09:00:00", "alarm": false, "group_id": null, "id": 19, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:29.419518", "updated_at": "2026-01-17T21:19:42.925000", "readable_config": "  8     09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 22
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 22: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 43, 96000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: final state for task 22: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.981s ago] (22, 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (22,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: applying final state to task 22: completed=True, updated_at=2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.214s ago] (1, '2026-01-17 21:19:43.096000', 22)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.2s ago] (22,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.194s ago] (22,)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: task 22 state updated successfully
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: creating history entry for task 22: action=confirmed, timestamp=2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.188s ago] (22, 'CONFIRMED', '2026-01-17 21:19:43.096000', '2026-01-15 09:00:00.000000', None, None)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: history entry created for task 22 operation at 2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 22: completed
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.184s ago] (22,)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 3.232s ago] (22,)
2026-01-18 00:19:42 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 22, 'task': {'title': 'Test Task 22 (Day 1, Type one_time)', 'description': 'Test task for day 1, type one_time', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-15T09:00:00', 'alarm': False, 'group_id': None, 'id': 22, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:29.640993', 'updated_at': '2026-01-17T21:19:43.096000', 'readable_config': '15   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 22, "task": {"title": "Test Task 22 (Day 1, Type one_time)", "description": "Test task for day 1, type one_time", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-15T09:00:00", "alarm": false, "group_id": null, "id": 22, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:29.640993", "updated_at": "2026-01-17T21:19:43.096000", "readable_config": "15   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.COMPLETE for task 19 with timestamp 2026-01-17 21:19:42.925000+00:00
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 19 - processed above
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.COMPLETE for task 22 with timestamp 2026-01-17 21:19:43.096000+00:00
2026-01-18 00:19:42 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 22 - processed above
2026-01-18 00:19:42 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.763s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 7.762s ago] (2, 1)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:42 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:42 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:42 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:42 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:43 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 7.824s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 7.817s ago] (2, 1)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:43 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 2 operations
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP sync-queue: 2 operations
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 28: TaskOperationType.COMPLETE at 2026-01-17 21:19:43.471000+00:00
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 28: TaskOperationType.COMPLETE at 2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: processing 2 complete/uncomplete operations for task 28
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 28: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 43, 471000, tzinfo=TzInfo(0))), ('complete', datetime.datetime(2026, 1, 17, 21, 19, 43, 662000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: final state for task 28: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 4.505s ago] (28, 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (28,)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: applying final state to task 28: completed=True, updated_at=2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.737s ago] (1, '2026-01-17 21:19:43.662000', 28)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.724s ago] (28,)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.719s ago] (28,)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: task 28 state updated successfully
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: creating history entry for task 28: action=confirmed, timestamp=2026-01-17 21:19:43.471000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.715s ago] (28, 'CONFIRMED', '2026-01-17 21:19:43.471000', '2026-01-16 09:00:00.000000', None, None)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: history entry created for task 28 operation at 2026-01-17 21:19:43.471000+00:00
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 28: completed
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.712s ago] (28,)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.761s ago] (28,)
2026-01-18 00:19:43 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 28, 'task': {'title': 'Test Task 28 (Day 2, Type interval)', 'description': 'Test task for day 2, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 9, 'reminder_time': '2026-01-16T09:00:00', 'alarm': False, 'group_id': None, 'id': 28, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:30.082307', 'updated_at': '2026-01-17T21:19:43.662000', 'readable_config': '  9   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:43 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 28, "task": {"title": "Test Task 28 (Day 2, Type interval)", "description": "Test task for day 2, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 9, "reminder_time": "2026-01-16T09:00:00", "alarm": false, "group_id": null, "id": 28, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:30.082307", "updated_at": "2026-01-17T21:19:43.662000", "readable_config": "  9   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: creating history entry for task 28: action=confirmed, timestamp=2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.758s ago] (28, 'CONFIRMED', '2026-01-17 21:19:43.662000', '2026-01-16 09:00:00.000000', None, None)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: history entry created for task 28 operation at 2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 28: completed
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.754s ago] (28,)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 3.802s ago] (28,)
2026-01-18 00:19:43 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 28, 'task': {'title': 'Test Task 28 (Day 2, Type interval)', 'description': 'Test task for day 2, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 9, 'reminder_time': '2026-01-16T09:00:00', 'alarm': False, 'group_id': None, 'id': 28, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:30.082307', 'updated_at': '2026-01-17T21:19:43.662000', 'readable_config': '  9   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 28, "task": {"title": "Test Task 28 (Day 2, Type interval)", "description": "Test task for day 2, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 9, "reminder_time": "2026-01-16T09:00:00", "alarm": false, "group_id": null, "id": 28, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:30.082307", "updated_at": "2026-01-17T21:19:43.662000", "readable_config": "  9   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: processing 2 operations
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:43 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: processing operation 1/2: TaskOperationType.COMPLETE for task 28 with timestamp 2026-01-17 21:19:43.471000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 28 - processed above
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: processing operation 2/2: TaskOperationType.COMPLETE for task 28 with timestamp 2026-01-17 21:19:43.662000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 28 - processed above
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 8.351s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 8.355s ago] (2, 1)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:43 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:43 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:43 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 8.419s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 8.42s ago] (2, 1)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:43 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 32: TaskOperationType.COMPLETE at 2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 32
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 32: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 44, 178000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: final state for task 32: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 5.095s ago] (32, 1, 0)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (32,)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: applying final state to task 32: completed=True, updated_at=2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 4.324s ago] (1, '2026-01-17 21:19:44.178000', 32)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 4.313s ago] (32,)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 4.307s ago] (32,)
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: task 32 state updated successfully
2026-01-18 00:19:43 INFO  homeplanner.tasks sync-queue: creating history entry for task 32: action=confirmed, timestamp=2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine [cached since 4.301s ago] (32, 'CONFIRMED', '2026-01-17 21:19:44.178000', '2026-01-17 09:00:00.000000', None, None)
2026-01-18 00:19:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: history entry created for task 32 operation at 2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 32: completed
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 4.296s ago] (32,)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 4.345s ago] (32,)
2026-01-18 00:19:44 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 32, 'task': {'title': 'Test Task 32 (Day 3, Type one_time)', 'description': 'Test task for day 3, type one_time', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-17T09:00:00', 'alarm': True, 'group_id': None, 'id': 32, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:30.394270', 'updated_at': '2026-01-17T21:19:44.178000', 'readable_config': '17   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:44 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 32, "task": {"title": "Test Task 32 (Day 3, Type one_time)", "description": "Test task for day 3, type one_time", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-17T09:00:00", "alarm": true, "group_id": null, "id": 32, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:30.394270", "updated_at": "2026-01-17T21:19:44.178000", "readable_config": "17   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 32 with timestamp 2026-01-17 21:19:44.178000+00:00
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 32 - processed above
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:44 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 8.89s ago] ()
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 8.887s ago] (2, 1)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:44 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:44 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:44 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:44 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:44 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  homeplanner.tasks HTTP REQUEST: sync-queue called with 1 operations
2026-01-18 00:19:45 INFO  homeplanner.tasks HTTP sync-queue: 1 operations
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: collected complete/uncomplete operation for task 13: TaskOperationType.COMPLETE at 2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: processing 1 complete/uncomplete operations for task 13
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: operations sorted by timestamp for task 13: [('complete', datetime.datetime(2026, 1, 17, 21, 19, 45, 350000, tzinfo=TzInfo(0)))]
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: final state for task 13: completed=True based on last operation TaskOperationType.COMPLETE at 2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 6.178s ago] (13, 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (13,)
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: applying final state to task 13: completed=True, updated_at=2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine UPDATE tasks SET completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.411s ago] (1, '2026-01-17 21:19:45.350000', 13)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id, tasks.title, tasks.description, tasks.task_type, tasks.recurrence_type, tasks.recurrence_interval, tasks.interval_days, tasks.reminder_time, tasks.alarm, tasks.enabled, tasks.completed, tasks.group_id, tasks.last_shown_at, tasks.created_at, tasks.updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.403s ago] (13,)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.398s ago] (13,)
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: task 13 state updated successfully
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: creating history entry for task 13: action=confirmed, timestamp=2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine INSERT INTO task_history (task_id, action, action_timestamp, iteration_date, meta_data, comment) VALUES (?, ?, ?, ?, ?, ?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.393s ago] (13, 'CONFIRMED', '2026-01-17 21:19:45.350000', '2026-01-13 09:00:00.000000', None, None)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: history entry created for task 13 operation at 2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: broadcasting WebSocket update for task 13: completed
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.id = ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.391s ago] (13,)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users, task_users 
WHERE ? = task_users.task_id AND users.id = task_users.user_id
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 5.439s ago] (13,)
2026-01-18 00:19:45 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'completed', 'task_id': 13, 'task': {'title': 'Test Task 13 (Day -1, Type interval)', 'description': 'Test task for day -1, type interval', 'task_type': 'interval', 'recurrence_type': 'interval', 'recurrence_interval': None, 'interval_days': 6, 'reminder_time': '2026-01-13T09:00:00', 'alarm': True, 'group_id': None, 'id': 13, 'enabled': True, 'completed': True, 'last_shown_at': None, 'created_at': '2026-01-14T08:41:28.957809', 'updated_at': '2026-01-17T21:19:45.350000', 'readable_config': '  6   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'role': 'admin', 'is_active': True}]}}
2026-01-18 00:19:45 INFO  homeplanner.realtime WS broadcast: targets=2, payload={"type": "task_update", "action": "completed", "task_id": 13, "task": {"title": "Test Task 13 (Day -1, Type interval)", "description": "Test task for day -1, type interval", "task_type": "interval", "recurrence_type": "interval", "recurrence_interval": null, "interval_days": 6, "reminder_time": "2026-01-13T09:00:00", "alarm": true, "group_id": null, "id": 13, "enabled": true, "completed": true, "last_shown_at": null, "created_at": "2026-01-14T08:41:28.957809", "updated_at": "2026-01-17T21:19:45.350000", "readable_config": "  6   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "", "email": "sorg2@yandex.ru", "role": "admin", "is_active": true}]}}
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: processing 1 operations
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: processing operation 1/1: TaskOperationType.COMPLETE for task 13 with timestamp 2026-01-17 21:19:45.350000+00:00
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: skipping COMPLETE operation for task 13 - processed above
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:45 INFO  homeplanner.tasks sync-queue: returning 35 tasks to client
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 00:19:45 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  homeplanner.users Starting query for all users
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 10.01s ago] ()
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 10.01s ago] (2, 1)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.122e+04s ago] ()
2026-01-18 00:19:45 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 00:19:45 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 00:19:45 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine [cached since 1.687e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:19:45 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 15 task IDs for user 1
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:19:45 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:19:45 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine [cached since 1.764e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:32:34 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine [cached since 1.764e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine [cached since 1.764e+04s ago] ()
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine [cached since 1.764e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:32:34 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:32:34 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine [cached since 1.854e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 00:47:35 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine [cached since 1.854e+04s ago] ('last_task_update', 1, 0)
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine [cached since 1.854e+04s ago] ()
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine [cached since 1.854e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 00:47:35 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 00:47:35 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 00:54:35 INFO  homeplanner.realtime WS disconnect: id=140440455320000, total=1
2026-01-18 01:06:38 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 01:06:38 INFO  homeplanner.realtime WS connect: id=140440455320000 host=192.168.1.39 port=49694 total=2
2026-01-18 01:07:11 INFO  homeplanner.realtime WS disconnect: id=140440455320000, total=1
2026-01-18 01:29:14 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 01:29:14 INFO  homeplanner.realtime WS connect: id=140440455320000 host=192.168.1.39 port=43250 total=2
2026-01-18 01:30:37 INFO  homeplanner.realtime WS disconnect: id=140440455320000, total=1
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine [cached since 2.588e+04s ago] ('last_task_update', 1, 0)
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 02:49:54 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine [cached since 2.588e+04s ago] ('last_task_update', 1, 0)
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine [cached since 2.588e+04s ago] ()
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine [cached since 2.588e+04s ago] (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35)
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [TASK 1] id=1, title='Test Task 1 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [TASK 2] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [TASK 3] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 02:49:54 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 02:49:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 03:00:59 INFO  homeplanner.day_change_scheduler Checking for new day and performing task recalculation if needed
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.completed = 1
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00062s] ()
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] (1, 4, 6, 7, 13, 18, 19, 22, 28, 32)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE app_metadata SET value=?, updated_at=? WHERE app_metadata."key" = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00074s] ('2026-01-18 03:01:00.014628', '2026-01-18 03:01:00.020026', 'last_task_update')
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00073s] ('2026-01-18 09:00:00.000000', 0, '2026-01-18 03:01:00.023819', 1)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00064s] (0, '2026-01-18 03:01:00.026441', 4)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [generated in 0.00080s] [('2026-01-18 09:00:00.000000', 0, '2026-01-18 03:01:00.028811', 6), ('2026-01-23 09:00:00.000000', 0, '2026-01-18 03:01:00.028829', 7), ('2026-01-24 09:00:00.000000', 0, '2026-01-18 03:01:00.028836', 13), ('2026-01-20 09:00:00.000000', 0, '2026-01-18 03:01:00.028842', 18), ('2026-03-11 09:00:00.000000', 0, '2026-01-18 03:01:00.028848', 19)]
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 0.005051s ago] (0, '2026-01-18 03:01:00.030659', 22)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET reminder_time=?, completed=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 0.00893s ago] ('2026-01-27 09:00:00.000000', 0, '2026-01-18 03:01:00.032106', 28)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine UPDATE tasks SET enabled=?, updated_at=? WHERE tasks.id = ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 0.00751s ago] (0, '2026-01-18 03:01:00.033386', 32)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 03:01:00 INFO  homeplanner.day_change_scheduler Day change processed: tasks recalculated and clients notified for 2026-01-18
2026-01-18 03:01:00 DEBUG homeplanner.day_change_scheduler Waiting 86400 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 03:01:00 INFO  homeplanner.realtime WS broadcast: targets=1, payload={"type": "day_changed", "new_day": "2026-01-18", "timestamp": "2026-01-18T03:01:00.082474"}
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 03:01:00 INFO  homeplanner.api.users GET /users endpoint called with simple=False
2026-01-18 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids called from 192.168.1.2, selected_user_id=1
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.2, enabled_only=False, days_ahead=None, selected_user_id=1
2026-01-18 03:01:00 INFO  homeplanner.users Starting query for all users
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] ('last_task_update', 1, 0)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users ORDER BY users.name
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.09e+04s ago] ()
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.09e+04s ago] ()
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 9685s ago] ()
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.09e+04s ago] ()
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT users_1.id AS users_1_id, tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM users AS users_1 JOIN task_users AS task_users_1 ON users_1.id = task_users_1.user_id JOIN tasks ON tasks.id = task_users_1.task_id 
WHERE users_1.id IN (?, ?)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 9685s ago] (2, 1)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine [cached since 2.655e+04s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 03:01:00 INFO  homeplanner.users Query executed successfully, found 2 users
2026-01-18 03:01:00 DEBUG homeplanner.users Users: [{'id': 2, 'name': '', 'email': 'lyokyk@rambler.ru', 'is_active': True}, {'id': 1, 'name': '', 'email': 'sorg2@yandex.ru', 'is_active': True}]
2026-01-18 03:01:00 INFO  homeplanner.api.users Returning 2 users (full mode) via API
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 03:01:00 INFO  homeplanner.tasks HTTP REQUEST: get_today_task_ids returning 7 task IDs for user 1
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 03:01:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 03:01:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 07:02:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 07:02:37 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=47354 total=2
2026-01-18 07:09:53 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 07:41:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 07:41:47 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=39362 total=2
2026-01-18 07:49:52 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 08:01:57 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 08:01:57 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=40136 total=2
2026-01-18 08:02:00 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 08:10:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 08:10:15 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=47338 total=2
2026-01-18 08:18:00 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 10:13:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 10:13:27 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=47190 total=2
2026-01-18 10:15:49 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 10:34:36 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 10:34:36 INFO  homeplanner.realtime WS connect: id=140440455331664 host=192.168.1.39 port=37650 total=2
2026-01-18 10:35:58 INFO  homeplanner.realtime WS disconnect: id=140440455331664, total=1
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 5.444e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:45:49 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 5.444e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 4.879e+04s ago] ()
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 5.444e+04s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 10:45:49 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 5.444e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 4.879e+04s ago] ()
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 5.444e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:45:49 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 10:45:49 INFO  homeplanner.users Starting query for simple users
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine [cached since 4.879e+04s ago] ()
2026-01-18 10:45:49 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 10:45:49 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 10:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 5.445e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:46:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 5.445e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 5.445e+04s ago] ()
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine [cached since 5.445e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 10:46:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 10:46:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine [cached since 5.446e+04s ago] ('last_task_update', 1, 0)
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:46:06 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 10:46:06 INFO  homeplanner.users Starting query for simple users
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine [cached since 4.881e+04s ago] ()
2026-01-18 10:46:06 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 10:46:06 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 10:46:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 10:46:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 10:46:37 INFO  homeplanner.realtime WS connect: id=140440455323600 host=192.168.1.39 port=48840 total=2
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine [cached since 5.535e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 11:01:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine [cached since 5.535e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine [cached since 5.535e+04s ago] ()
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine [cached since 5.535e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:01:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 11:01:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine [cached since 5.625e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 11:16:06 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine [cached since 5.625e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine [cached since 5.625e+04s ago] ()
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine [cached since 5.625e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:16:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 11:16:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine [cached since 5.716e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 11:31:06 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine [cached since 5.716e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine [cached since 5.716e+04s ago] ()
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine [cached since 5.716e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:31:06 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 11:31:06 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine [cached since 5.806e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 11:46:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine [cached since 5.806e+04s ago] ('last_task_update', 1, 0)
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine [cached since 5.806e+04s ago] ()
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine [cached since 5.806e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 11:46:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 11:46:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine [cached since 5.896e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 12:01:07 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine [cached since 5.896e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine [cached since 5.896e+04s ago] ()
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine [cached since 5.896e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:01:07 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 12:01:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine [cached since 5.986e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 12:16:08 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine [cached since 5.986e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine [cached since 5.986e+04s ago] ()
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine [cached since 5.986e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:16:08 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 12:16:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine [cached since 6.09e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 12:33:32 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine [cached since 6.09e+04s ago] ('last_task_update', 1, 0)
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine [cached since 6.09e+04s ago] ()
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine [cached since 6.09e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 12:33:32 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 12:33:32 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 12:35:57 INFO  homeplanner.realtime WS disconnect: id=140440455323600, total=1
2026-01-18 19:33:53 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 19:33:53 INFO  homeplanner.realtime WS connect: id=140440455323600 host=192.168.1.39 port=43364 total=2
2026-01-18 19:43:10 INFO  homeplanner.realtime WS disconnect: id=140440455323600, total=1
2026-01-18 19:43:13 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 19:43:13 INFO  homeplanner.realtime WS connect: id=140440455323600 host=192.168.1.39 port=46210 total=2
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine [cached since 8.713e+04s ago] ('last_task_update', 1, 0)
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 19:50:36 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine [cached since 8.713e+04s ago] ('last_task_update', 1, 0)
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine [cached since 8.713e+04s ago] ()
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine [cached since 8.713e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 19:50:36 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 19:50:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine [cached since 8.803e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 20:05:37 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine [cached since 8.803e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine [cached since 8.803e+04s ago] ()
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine [cached since 8.803e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:05:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 20:05:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine [cached since 8.893e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 20:20:38 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine [cached since 8.893e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine [cached since 8.893e+04s ago] ()
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine [cached since 8.893e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:20:38 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 20:20:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 20:24:27 INFO  homeplanner.realtime WS disconnect: id=140440455323600, total=1
2026-01-18 20:24:29 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 20:24:29 INFO  homeplanner.realtime WS connect: id=140440455323600 host=192.168.1.39 port=40242 total=2
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine [cached since 8.991e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 20:36:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine [cached since 8.991e+04s ago] ('last_task_update', 1, 0)
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine [cached since 8.991e+04s ago] ()
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine [cached since 8.991e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 20:36:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 20:36:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 20:43:17 INFO  homeplanner.realtime WS disconnect: id=140440455323600, total=1
2026-01-18 21:00:26 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:00:26 INFO  homeplanner.realtime WS connect: id=140440456866576 host=192.168.1.39 port=47848 total=2
2026-01-18 21:00:30 INFO  homeplanner.realtime WS disconnect: id=140440456866576, total=1
2026-01-18 21:10:18 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:10:18 INFO  homeplanner.realtime WS connect: id=140440456866576 host=192.168.1.39 port=47596 total=2
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine [cached since 9.205e+04s ago] ('last_task_update', 1, 0)
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:12:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine [cached since 9.205e+04s ago] ('last_task_update', 1, 0)
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine [cached since 9.205e+04s ago] ()
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine [cached since 9.205e+04s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 21:12:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 21:12:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:19:26 INFO  homeplanner.realtime WS disconnect: id=140440456866576, total=1
2026-01-18 21:23:21 INFO  homeplanner.realtime WS disconnect: id=140440455326336, total=0
2026-01-18 21:23:21 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:23:22 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:23:22 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:23:22 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:23:22 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:23:22 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:23:22 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:23:22 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:23:22 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:23:22 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:23:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:22 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:23:22 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:23:22 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:22 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:23:22 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:23:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:23:22 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:23:22 DEBUG homeplanner.day_change_scheduler Waiting 20257 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:23:23 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:23:23 INFO  homeplanner.realtime WS connect: id=140608855602064 host=192.168.1.2 port=42282 total=1
2026-01-18 21:23:28 INFO  homeplanner.realtime WS disconnect: id=140608855602064, total=0
2026-01-18 21:23:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:23:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:23:29 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:23:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:23:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:23:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:23:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:23:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:23:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:23:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:23:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:29 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:23:29 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:23:29 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:23:29 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:23:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:23:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:23:29 DEBUG homeplanner.day_change_scheduler Waiting 20250 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:23:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:23:30 INFO  homeplanner.realtime WS connect: id=139949842396368 host=192.168.1.2 port=33846 total=1
2026-01-18 21:23:42 INFO  homeplanner.realtime WS disconnect: id=139949842396368, total=0
2026-01-18 21:23:42 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:23:43 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:23:43 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:23:43 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:23:43 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:23:43 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:23:43 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:23:43 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:23:43 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:23:43 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:23:43 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:43 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:43 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:23:43 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:23:43 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:23:43 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:23:43 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:23:43 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:23:43 DEBUG homeplanner.day_change_scheduler Waiting 20236 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:23:44 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:23:44 INFO  homeplanner.realtime WS connect: id=140069662110928 host=192.168.1.2 port=49568 total=1
2026-01-18 21:23:46 INFO  homeplanner.realtime WS disconnect: id=140069662110928, total=0
2026-01-18 21:23:46 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:23:47 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:23:47 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:23:47 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:23:47 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:23:47 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:23:47 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:23:47 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:23:47 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:23:47 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:23:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:47 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:47 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:23:47 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:23:47 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:23:47 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:23:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:23:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:23:47 DEBUG homeplanner.day_change_scheduler Waiting 20232 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:23:48 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:23:48 INFO  homeplanner.realtime WS connect: id=139642964981584 host=192.168.1.2 port=49582 total=1
2026-01-18 21:23:51 INFO  homeplanner.realtime WS disconnect: id=139642964981584, total=0
2026-01-18 21:23:51 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:23:52 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:23:52 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:23:52 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:23:52 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:23:52 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:23:52 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:23:52 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:23:52 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:23:52 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:23:52 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:23:53 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:23:53 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:23:53 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:23:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:23:53 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:23:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:23:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:23:53 DEBUG homeplanner.day_change_scheduler Waiting 20227 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:23:54 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:23:54 INFO  homeplanner.realtime WS connect: id=140066115810512 host=192.168.1.2 port=38174 total=1
2026-01-18 21:24:07 INFO  homeplanner.realtime WS disconnect: id=140066115810512, total=0
2026-01-18 21:24:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:24:08 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:24:08 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:24:08 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:24:08 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:24:08 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:24:08 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:24:08 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:24:08 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:24:08 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:24:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:09 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:09 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:24:09 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:24:09 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:24:09 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:24:09 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:24:09 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:24:09 DEBUG homeplanner.day_change_scheduler Waiting 20211 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:24:09 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:24:09 INFO  homeplanner.realtime WS connect: id=140177690555600 host=192.168.1.2 port=39318 total=1
2026-01-18 21:24:12 INFO  homeplanner.realtime WS disconnect: id=140177690555600, total=0
2026-01-18 21:24:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:24:14 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:24:14 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:24:14 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:24:14 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:24:14 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:24:14 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:24:14 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:24:14 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:24:14 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:24:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:24:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:24:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:24:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:24:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:24:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:24:14 DEBUG homeplanner.day_change_scheduler Waiting 20205 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:24:15 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:24:15 INFO  homeplanner.realtime WS connect: id=140668528964816 host=192.168.1.2 port=33822 total=1
2026-01-18 21:24:21 INFO  homeplanner.realtime WS disconnect: id=140668528964816, total=0
2026-01-18 21:24:21 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:24:22 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:24:22 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:24:22 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:24:22 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:24:22 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:24:22 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:24:22 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:24:22 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:24:22 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:24:22 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:24:23 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:24:23 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:24:23 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:24:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:24:23 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:24:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:24:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:24:23 DEBUG homeplanner.day_change_scheduler Waiting 20197 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:24:24 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:24:24 INFO  homeplanner.realtime WS connect: id=140176426005712 host=192.168.1.2 port=32914 total=1
2026-01-18 21:25:14 INFO  homeplanner.realtime WS disconnect: id=140176426005712, total=0
2026-01-18 21:25:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:25:15 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:25:15 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:25:15 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:25:15 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:25:15 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:25:15 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:25:15 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:25:15 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:25:15 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:25:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:25:16 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:25:16 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:25:16 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:25:16 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:16 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:25:16 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:25:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:25:16 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:25:16 DEBUG homeplanner.day_change_scheduler Waiting 20144 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:25:16 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:25:16 INFO  homeplanner.realtime WS connect: id=140292132058320 host=192.168.1.2 port=59602 total=1
2026-01-18 21:25:26 INFO  homeplanner.realtime WS disconnect: id=140292132058320, total=0
2026-01-18 21:25:26 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:25:27 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:25:27 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:25:27 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:25:27 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:25:27 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:25:27 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:25:27 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:25:27 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:25:27 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:25:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:25:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:25:28 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:25:28 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:25:28 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:25:28 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:25:28 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:25:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:25:28 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:25:28 DEBUG homeplanner.day_change_scheduler Waiting 20132 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:25:28 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:25:28 INFO  homeplanner.realtime WS connect: id=139996408575184 host=192.168.1.2 port=48596 total=1
2026-01-18 21:52:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:52:08 INFO  homeplanner.realtime WS connect: id=139996404466960 host=192.168.1.39 port=42354 total=2
2026-01-18 21:53:25 INFO  homeplanner.realtime WS disconnect: id=139996404466960, total=1
2026-01-18 21:53:25 INFO  homeplanner.realtime WS disconnect: id=139996408575184, total=0
2026-01-18 21:53:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:53:26 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:53:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:53:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:53:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:53:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:53:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:53:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:53:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:53:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:27 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:27 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:27 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:27 DEBUG homeplanner.day_change_scheduler Waiting 18453 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:53:27 INFO  homeplanner.realtime WS connect: id=140644433769680 host=192.168.1.39 port=42854 total=1
2026-01-18 21:53:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:53:27 INFO  homeplanner.realtime WS connect: id=140644429678144 host=192.168.1.2 port=44148 total=2
2026-01-18 21:53:53 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:53:53 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:53:53 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:53:53 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:53:53 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:53:53 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:53:53 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:53:53 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:53:53 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:53:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:53 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:53 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:53 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:53 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:53 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:53 DEBUG homeplanner.day_change_scheduler Waiting 18426 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] ('last_task_update', 1, 0)
2026-01-18 21:53:53 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:53 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:53 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:53 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18426 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.1438s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18426 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.2769s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:54 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:54.238367', 'updated_at': '2026-01-18T21:53:54.238379', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:54.238367", "updated_at": "2026-01-18T21:53:54.238379", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.3069s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18426 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.4448s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:54 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:54.403837', 'updated_at': '2026-01-18T21:53:54.403846', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:54.403837", "updated_at": "2026-01-18T21:53:54.403846", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.461s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.5945s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:54 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:54.553610', 'updated_at': '2026-01-18T21:53:54.553618', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:54.553610", "updated_at": "2026-01-18T21:53:54.553618", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.6123s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.748s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:54 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:54.707217', 'updated_at': '2026-01-18T21:53:54.707225', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:54.707217", "updated_at": "2026-01-18T21:53:54.707225", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.7639s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:54 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:54 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:54 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:54 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:54 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.934s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:54 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:54 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:54.893001', 'updated_at': '2026-01-18T21:53:54.893010', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:54 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:54.893001", "updated_at": "2026-01-18T21:53:54.893010", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine [cached since 0.9482s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:54 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:54 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:54 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:54 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:55 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:55 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:55 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:55 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:55 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.078s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:55 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:55 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:55.036845', 'updated_at': '2026-01-18T21:53:55.036853', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:55 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:55.036845", "updated_at": "2026-01-18T21:53:55.036853", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.092s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:55 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:55 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:55 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:55 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:55 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:55 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.221s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:55 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:55 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:55 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:55 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:55 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:55 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.349s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:55 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:55 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:55 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:55 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:55 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:55 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:55 DEBUG homeplanner.day_change_scheduler Waiting 18425 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.48s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.494s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:55 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:55 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:55.461850', 'updated_at': '2026-01-18T21:53:55.461868', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:53:55 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:55.461850", "updated_at": "2026-01-18T21:53:55.461868", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.521s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:55 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:53:55 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:55.479879', 'updated_at': '2026-01-18T21:53:55.479890', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:55 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:55.479879", "updated_at": "2026-01-18T21:53:55.479890", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:55 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine [cached since 1.538s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:55 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:55 ERROR homeplanner.system Unhandled exception in FastAPI app: Unable to serialize unknown type: <class 'backend.models.user.User'>
  + Exception Group Traceback (most recent call last):
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    |     return field.serialize(
    |            ~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<5 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    |     return self._type_adapter.dump_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<6 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    |     return self.serializer.to_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         instance,
    |         ^^^^^^^^^
    |     ...<12 lines>...
    |         context=context,
    |         ^^^^^^^^^^^^^^^^
    |     )
    |     ^
    | pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
2026-01-18 21:53:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:56 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:56 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:56 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:56 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:56 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:56 DEBUG homeplanner.day_change_scheduler Waiting 18424 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [cached since 2.398s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [cached since 2.408s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:56 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:56 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:56 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:56.368345', 'updated_at': '2026-01-18T21:53:56.368355', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:53:56 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:56.368345", "updated_at": "2026-01-18T21:53:56.368355", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:53:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [cached since 2.424s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:56 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:56 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:53:56 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:56.382403', 'updated_at': '2026-01-18T21:53:56.382411', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:56 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:56.382403", "updated_at": "2026-01-18T21:53:56.382411", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine [cached since 2.437s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:56 ERROR homeplanner.system Unhandled exception in FastAPI app: Unable to serialize unknown type: <class 'backend.models.user.User'>
  + Exception Group Traceback (most recent call last):
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    |     return field.serialize(
    |            ~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<5 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    |     return self._type_adapter.dump_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<6 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    |     return self.serializer.to_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         instance,
    |         ^^^^^^^^^
    |     ...<12 lines>...
    |         context=context,
    |         ^^^^^^^^^^^^^^^^
    |     )
    |     ^
    | pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18423 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.276s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.286s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.294s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18423 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.428s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.439s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.448s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.585s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.719s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.846s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:57 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine [cached since 3.97s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:57 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 21:53:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.117s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.25s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.373s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:58 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:58.331925', 'updated_at': '2026-01-18T21:53:58.331933', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:58.331925", "updated_at": "2026-01-18T21:53:58.331933", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.388s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18422 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.537s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:58 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:58.495789', 'updated_at': '2026-01-18T21:53:58.495797', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:53:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:58.495789", "updated_at": "2026-01-18T21:53:58.495797", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.551s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18421 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.687s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18421 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.829s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:58 DEBUG homeplanner.day_change_scheduler Waiting 18421 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.967s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine [cached since 4.977s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:59 DEBUG homeplanner.day_change_scheduler Waiting 18421 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.098s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.108s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:53:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:53:59 DEBUG homeplanner.day_change_scheduler Waiting 18421 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.227s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.237s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:53:59 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:53:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:53:59.197169', 'updated_at': '2026-01-18T21:53:59.197178', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:53:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:53:59.197169", "updated_at": "2026-01-18T21:53:59.197178", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.253s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.261s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [cached since 5.269s ago] ('last_task_update', 1, 0)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:53:59 ERROR homeplanner.system Unhandled exception in FastAPI app: Unable to serialize unknown type: <class 'backend.models.user.User'>
  + Exception Group Traceback (most recent call last):
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    |     return field.serialize(
    |            ~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<5 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    |     return self._type_adapter.dump_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<6 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    |     return self.serializer.to_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         instance,
    |         ^^^^^^^^^
    |     ...<12 lines>...
    |         context=context,
    |         ^^^^^^^^^^^^^^^^
    |     )
    |     ^
    | pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
2026-01-18 21:53:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:53:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:53:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:53:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:53:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:53:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:54:00 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:54:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:54:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:54:00 DEBUG homeplanner.day_change_scheduler Waiting 18420 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [cached since 6.054s ago] ('last_task_update', 1, 0)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [cached since 6.064s ago] ('last_task_update', 1, 0)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:54:00 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:54:00 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:54:00.024792', 'updated_at': '2026-01-18T21:54:00.024806', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:54:00 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:54:00.024792", "updated_at": "2026-01-18T21:54:00.024806", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:54:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [cached since 6.081s ago] ('last_task_update', 1, 0)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [cached since 6.09s ago] ('last_task_update', 1, 0)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine [cached since 6.098s ago] ('last_task_update', 1, 0)
2026-01-18 21:54:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:00 ERROR homeplanner.system Unhandled exception in FastAPI app: Unable to serialize unknown type: <class 'backend.models.user.User'>
  + Exception Group Traceback (most recent call last):
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    |     return await call_next(request)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    |     content = await serialize_response(
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<9 lines>...
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    |     return field.serialize(
    |            ~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<5 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    |     return self._type_adapter.dump_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         value,
    |         ^^^^^^
    |     ...<6 lines>...
    |         exclude_none=exclude_none,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     )
    |     ^
    |   File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    |     return self.serializer.to_python(
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~^
    |         instance,
    |         ^^^^^^^^^
    |     ...<12 lines>...
    |         context=context,
    |         ^^^^^^^^^^^^^^^^
    |     )
    |     ^
    | pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 180, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/backend/main.py", line 148, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 413, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/routing.py", line 259, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/fastapi/_compat/v2.py", line 137, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/ZFS/Dev/HomePlanner/.venv/lib64/python3.14/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'backend.models.user.User'>
2026-01-18 21:54:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:54:22 INFO  homeplanner.realtime WS disconnect: id=140644429678144, total=1
2026-01-18 21:54:23 INFO  homeplanner.realtime WS disconnect: id=140644433769680, total=0
2026-01-18 21:54:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:54:24 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:54:24 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:54:24 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:54:24 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:54:24 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:54:24 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:54:24 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:54:24 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:54:24 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:54:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:24 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:24 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:54:24 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:54:24 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:24 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:24 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:54:24 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:54:24 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:54:24 DEBUG homeplanner.day_change_scheduler Waiting 18395 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:54:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:54:25 INFO  homeplanner.realtime WS connect: id=140104879568400 host=192.168.1.39 port=37654 total=1
2026-01-18 21:54:25 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:54:25 INFO  homeplanner.realtime WS connect: id=140104875476240 host=192.168.1.2 port=60770 total=2
2026-01-18 21:54:36 INFO  homeplanner.realtime WS disconnect: id=140104875476240, total=1
2026-01-18 21:54:36 INFO  homeplanner.realtime WS disconnect: id=140104879568400, total=0
2026-01-18 21:54:36 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:54:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:54:37 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:54:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:54:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:54:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:54:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:54:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:54:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:54:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:54:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:38 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:54:38 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:54:38 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:38 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:54:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:54:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:54:38 DEBUG homeplanner.day_change_scheduler Waiting 18382 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:54:38 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:54:38 INFO  homeplanner.realtime WS connect: id=139773659477520 host=192.168.1.39 port=47816 total=1
2026-01-18 21:54:39 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:54:39 INFO  homeplanner.realtime WS connect: id=139773655368976 host=192.168.1.2 port=36570 total=2
2026-01-18 21:54:45 INFO  homeplanner.realtime WS disconnect: id=139773659477520, total=1
2026-01-18 21:54:45 INFO  homeplanner.realtime WS disconnect: id=139773655368976, total=0
2026-01-18 21:54:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:54:46 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:54:46 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:54:46 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:54:46 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:54:46 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:54:46 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:54:46 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:54:46 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:54:46 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:54:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:54:47 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:54:47 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:54:47 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:54:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:54:47 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:54:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:54:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:54:47 DEBUG homeplanner.day_change_scheduler Waiting 18373 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:54:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:54:47 INFO  homeplanner.realtime WS connect: id=139823813915856 host=192.168.1.39 port=41956 total=1
2026-01-18 21:54:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:54:47 INFO  homeplanner.realtime WS connect: id=139823809824016 host=192.168.1.2 port=43542 total=2
2026-01-18 21:55:23 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:55:23 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:55:23 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:55:23 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:55:23 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:55:23 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:55:23 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:55:23 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:55:23 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:55:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:55:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:55:23 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:55:23 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:55:23 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:55:23 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:55:23 DEBUG homeplanner.day_change_scheduler Waiting 18336 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [generated in 0.00037s] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.021s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:55:23 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:55:23 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:55:23.740570', 'updated_at': '2026-01-18T21:55:23.740584', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:55:23 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:55:23.740570", "updated_at": "2026-01-18T21:55:23.740584", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.05244s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:55:23 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:55:23 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:55:23.763752', 'updated_at': '2026-01-18T21:55:23.763761', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:55:23 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:55:23.763752", "updated_at": "2026-01-18T21:55:23.763761", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.06691s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:55:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:55:23 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:55:23 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:55:23 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:55:23 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:55:23 DEBUG homeplanner.day_change_scheduler Waiting 18336 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.2084s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.218s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:55:23 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:55:23 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:55:23.930918', 'updated_at': '2026-01-18T21:55:23.930926', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:55:23 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:55:23.930918", "updated_at": "2026-01-18T21:55:23.930926", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.2333s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:55:23 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:55:23 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:55:23.944455', 'updated_at': '2026-01-18T21:55:23.944464', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:55:23 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:55:23.944455", "updated_at": "2026-01-18T21:55:23.944464", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:55:23 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine [cached since 0.2487s ago] ('last_task_update', 1, 0)
2026-01-18 21:55:23 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:23 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:55:23 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:55:35 INFO  homeplanner.realtime WS disconnect: id=139823809824016, total=1
2026-01-18 21:55:35 INFO  homeplanner.realtime WS disconnect: id=139823813915856, total=0
2026-01-18 21:55:35 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:55:36 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:55:36 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:55:36 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:55:36 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:55:36 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:55:36 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:55:36 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:55:36 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:55:36 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:55:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:55:36 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:55:36 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:55:36 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:55:36 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:55:36 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:55:36 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:55:36 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:55:36 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:55:36 DEBUG homeplanner.day_change_scheduler Waiting 18323 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:55:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:55:37 INFO  homeplanner.realtime WS connect: id=140682248631504 host=192.168.1.39 port=45864 total=1
2026-01-18 21:55:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:55:37 INFO  homeplanner.realtime WS connect: id=140682246407440 host=192.168.1.2 port=49080 total=2
2026-01-18 21:56:01 INFO  homeplanner.realtime WS disconnect: id=140682246407440, total=1
2026-01-18 21:56:01 INFO  homeplanner.realtime WS disconnect: id=140682248631504, total=0
2026-01-18 21:56:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:02 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:56:02 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:56:02 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:56:02 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:56:02 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:56:02 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:56:02 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:56:02 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:56:02 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:56:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:02 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:02 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:02 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:02 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:02 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:02 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:02 DEBUG homeplanner.day_change_scheduler Waiting 18297 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:03 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 21:56:03 INFO  homeplanner.realtime WS connect: id=139763715880144 host=192.168.1.39 port=44220 total=1
2026-01-18 21:56:03 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:56:03 INFO  homeplanner.realtime WS connect: id=139763711788304 host=192.168.1.2 port=48498 total=2
2026-01-18 21:56:11 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:56:11 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:56:11 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:56:11 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:56:11 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:56:11 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:56:11 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:56:11 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:56:11 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:11 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:11 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:11 DEBUG homeplanner.day_change_scheduler Waiting 18289 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [generated in 0.00072s] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:11 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:11 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:11 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [cached since 0.1397s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:11 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:11 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:11 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [cached since 0.3018s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:11 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:11 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:11.714800', 'updated_at': '2026-01-18T21:56:11.714814', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:11 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:11.714800", "updated_at": "2026-01-18T21:56:11.714814", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [cached since 0.3388s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:11 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:11 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:11 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:11 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [cached since 0.4669s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:11 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:11 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:11.868028', 'updated_at': '2026-01-18T21:56:11.868036', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:11 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:11.868028", "updated_at": "2026-01-18T21:56:11.868036", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine [cached since 0.4827s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:11 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:11 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:11 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:11 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.6154s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.016004', 'updated_at': '2026-01-18T21:56:12.016012', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.016004", "updated_at": "2026-01-18T21:56:12.016012", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.6307s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.7602s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.162490', 'updated_at': '2026-01-18T21:56:12.162499', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.162490", "updated_at": "2026-01-18T21:56:12.162499", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.7791s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.9136s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.314384', 'updated_at': '2026-01-18T21:56:12.314392', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.314384", "updated_at": "2026-01-18T21:56:12.314392", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 0.9284s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18288 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.082s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.482858', 'updated_at': '2026-01-18T21:56:12.482865', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.482858", "updated_at": "2026-01-18T21:56:12.482865", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.096s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.214s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.332s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:12 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.453s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.467s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.874369', 'updated_at': '2026-01-18T21:56:12.874380', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.874369", "updated_at": "2026-01-18T21:56:12.874380", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.49s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:12 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:56:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:12.891727', 'updated_at': '2026-01-18T21:56:12.891736', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:12.891727", "updated_at": "2026-01-18T21:56:12.891736", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine [cached since 1.508s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:12 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:56:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.666s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.676s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:13 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:13 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:13.078877', 'updated_at': '2026-01-18T21:56:13.078886', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:56:13 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:13.078877", "updated_at": "2026-01-18T21:56:13.078886", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.693s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:13 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 21:56:13 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:13.092958', 'updated_at': '2026-01-18T21:56:13.092966', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:13 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:13.092958", "updated_at": "2026-01-18T21:56:13.092966", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.706s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.845s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.854s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.862s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18287 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.981s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 1.991s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2.119s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2.241s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2.361s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2.482s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:13 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:13 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:13 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:13 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:13 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:13 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:13 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine [cached since 2.601s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:13 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 2.774s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 2.893s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:14 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:14 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:14.294594', 'updated_at': '2026-01-18T21:56:14.294603', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:14 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:14.294594", "updated_at": "2026-01-18T21:56:14.294603", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 2.909s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18286 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.106s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:14 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:14 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:14.506450', 'updated_at': '2026-01-18T21:56:14.506458', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:56:14 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:14.506450", "updated_at": "2026-01-18T21:56:14.506458", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.12s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.254s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.381s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:14 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:14 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:14 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:14 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:14 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.526s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine [cached since 3.536s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:14 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:14 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:14 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:15 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:15 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:15 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:15 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:15 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.652s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.667s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:15 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:15 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:15 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:15 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:15 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.788s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.798s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:15 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:15 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:15.200322', 'updated_at': '2026-01-18T21:56:15.200333', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:56:15 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:15.200322", "updated_at": "2026-01-18T21:56:15.200333", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.816s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.825s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.834s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:15 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:56:15 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:56:15 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:56:15 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:56:15 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:56:15 DEBUG homeplanner.day_change_scheduler Waiting 18285 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.977s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 3.989s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:56:15 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:56:15 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:56:15.391415', 'updated_at': '2026-01-18T21:56:15.391424', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 21:56:15 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:56:15.391415", "updated_at": "2026-01-18T21:56:15.391424", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 4.005s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 4.013s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine [cached since 4.021s ago] ('last_task_update', 1, 0)
2026-01-18 21:56:15 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:56:15 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 21:56:15 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:56:25 INFO  homeplanner.realtime WS disconnect: id=139763715880144, total=1
2026-01-18 21:56:59 INFO  homeplanner.realtime WS disconnect: id=139763711788304, total=0
2026-01-18 21:56:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:00 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:00 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:00 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:00 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:00 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:00 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:00 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:00 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:00 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:01 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:01 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:01 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:01 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:01 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:01 DEBUG homeplanner.day_change_scheduler Waiting 18239 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:01 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:57:01 INFO  homeplanner.realtime WS connect: id=139830208214224 host=192.168.1.2 port=47330 total=1
2026-01-18 21:57:06 INFO  homeplanner.realtime WS disconnect: id=139830208214224, total=0
2026-01-18 21:57:06 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:07 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:07 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:07 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:07 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:07 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:07 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:07 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:07 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:07 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:07 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:08 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:08 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:08 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:08 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:08 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:08 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:08 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:08 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:08 DEBUG homeplanner.day_change_scheduler Waiting 18232 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:09 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:57:09 INFO  homeplanner.realtime WS connect: id=139684319868112 host=192.168.1.2 port=36154 total=1
2026-01-18 21:57:18 INFO  homeplanner.realtime WS disconnect: id=139684319868112, total=0
2026-01-18 21:57:18 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:19 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:19 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:19 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:19 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:19 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:19 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:19 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:19 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:19 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:19 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:20 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:20 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:20 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:20 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:20 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:20 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:20 DEBUG homeplanner.day_change_scheduler Waiting 18220 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:20 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:57:20 INFO  homeplanner.realtime WS connect: id=139702671914192 host=192.168.1.2 port=40130 total=1
2026-01-18 21:57:27 INFO  homeplanner.realtime WS disconnect: id=139702671914192, total=0
2026-01-18 21:57:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:29 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:29 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:29 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:29 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:29 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:29 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:29 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:29 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:29 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:29 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:29 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:29 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:29 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:29 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:29 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:29 DEBUG homeplanner.day_change_scheduler Waiting 18211 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:30 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:57:30 INFO  homeplanner.realtime WS connect: id=140194078766288 host=192.168.1.2 port=37096 total=1
2026-01-18 21:57:37 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:37 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:37 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:37 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:37 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:37 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:37 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:37 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:37 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:37 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:38 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:57:38 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:38 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:38 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:38 DEBUG homeplanner.day_change_scheduler Waiting 18202 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [generated in 0.00057s] ('last_task_update', 1, 0)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:57:38 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:57:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:57:38.092680', 'updated_at': '2026-01-18T21:57:38.092690', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:57:38 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:57:38.092680", "updated_at": "2026-01-18T21:57:38.092690", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:57:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [cached since 0.03193s ago] ('last_task_update', 1, 0)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 21:57:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:38 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:38 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:57:38 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:38 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:38 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:38 DEBUG homeplanner.day_change_scheduler Waiting 18202 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [cached since 0.2506s ago] ('last_task_update', 1, 0)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:57:38 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:57:38 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:57:38.339405', 'updated_at': '2026-01-18T21:57:38.339418', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:57:38 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:57:38.339405", "updated_at": "2026-01-18T21:57:38.339418", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:57:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine [cached since 0.2652s ago] ('last_task_update', 1, 0)
2026-01-18 21:57:38 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:38 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 21:57:38 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:57:38 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:57 INFO  homeplanner.realtime WS disconnect: id=140194078766288, total=0
2026-01-18 21:57:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:57:59 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:57:59 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:57:59 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:57:59 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:57:59 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:57:59 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:57:59 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:57:59 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:57:59 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:57:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:57:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:57:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:57:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:57:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:57:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:57:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:57:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:57:59 DEBUG homeplanner.day_change_scheduler Waiting 18181 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:58:00 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 21:58:00 INFO  homeplanner.realtime WS connect: id=140251137029328 host=192.168.1.2 port=42892 total=1
2026-01-18 21:58:12 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 21:58:12 INFO  homeplanner.system uvicorn level: 10
2026-01-18 21:58:12 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 21:58:12 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 21:58:12 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 21:58:12 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 21:58:12 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 21:58:12 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 21:58:12 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 21:58:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:58:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:58:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:58:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:58:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:58:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:58:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:58:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:58:12 DEBUG homeplanner.day_change_scheduler Waiting 18167 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] ('last_task_update', 1, 0)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:58:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:58:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:58:12.705005', 'updated_at': '2026-01-18T21:58:12.705014', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:58:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:58:12.705005", "updated_at": "2026-01-18T21:58:12.705014", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:58:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [cached since 0.02952s ago] ('last_task_update', 1, 0)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 21:58:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:58:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 21:58:12 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 21:58:12 DEBUG asyncio Using selector: EpollSelector
2026-01-18 21:58:12 INFO  homeplanner.database Initializing database tables...
2026-01-18 21:58:12 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 21:58:12 INFO  homeplanner.database Database tables created successfully
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 21:58:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 21:58:12 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 21:58:12 DEBUG homeplanner.day_change_scheduler Waiting 18167 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [cached since 0.2619s ago] ('last_task_update', 1, 0)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 21:58:12 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 21:58:12 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T21:58:12.963257', 'updated_at': '2026-01-18T21:58:12.963266', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 21:58:12 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T21:58:12.963257", "updated_at": "2026-01-18T21:58:12.963266", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 21:58:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine [cached since 0.278s ago] ('last_task_update', 1, 0)
2026-01-18 21:58:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 21:58:12 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 21:58:12 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 21:58:13 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:00:41 INFO  homeplanner.realtime WS disconnect: id=140251137029328, total=0
2026-01-18 22:00:41 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:00:42 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 22:00:42 INFO  homeplanner.system uvicorn level: 10
2026-01-18 22:00:42 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 22:00:42 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 22:00:42 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 22:00:42 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 22:00:42 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 22:00:42 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 22:00:42 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 22:00:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:00:42 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:00:42 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:00:42 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:00:42 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:00:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:00:42 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:00:42 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:00:42 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:00:42 DEBUG homeplanner.day_change_scheduler Waiting 18017 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:00:43 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 22:00:43 INFO  homeplanner.realtime WS connect: id=139912480536400 host=192.168.1.2 port=34940 total=1
2026-01-18 22:01:05 INFO  homeplanner.realtime WS disconnect: id=139912480536400, total=0
2026-01-18 22:01:05 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:01:06 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 22:01:06 INFO  homeplanner.system uvicorn level: 10
2026-01-18 22:01:06 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 22:01:06 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 22:01:06 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 22:01:06 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 22:01:06 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 22:01:06 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 22:01:06 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 22:01:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:01:06 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:01:07 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:01:07 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:01:07 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:01:07 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:01:07 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:01:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:01:07 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:01:07 DEBUG homeplanner.day_change_scheduler Waiting 17993 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:01:07 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 22:01:07 INFO  homeplanner.realtime WS connect: id=140273447482576 host=192.168.1.2 port=43092 total=1
2026-01-18 22:03:56 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 22:03:56 INFO  homeplanner.system uvicorn level: 10
2026-01-18 22:03:56 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 22:03:56 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 22:03:56 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 22:03:56 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 22:03:56 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 22:03:56 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 22:03:56 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 22:03:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:56 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:56 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:56 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:56 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:56 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [generated in 0.00038s] ('last_task_update', 1, 0)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:56 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:56 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:56 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:56 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:56 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [cached since 0.1324s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:56 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:56 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:56 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:56 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:56 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [cached since 0.2506s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:56 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:56 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:56.882924', 'updated_at': '2026-01-18T22:03:56.882936', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:56 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:56.882924", "updated_at": "2026-01-18T22:03:56.882936", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine [cached since 0.285s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:56 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:56 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:56 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:56 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.4067s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:57 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:57 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:57.029116', 'updated_at': '2026-01-18T22:03:57.029124', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:57 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:57.029116", "updated_at": "2026-01-18T22:03:57.029124", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.4204s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.5529s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:57 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:57 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:57.175330', 'updated_at': '2026-01-18T22:03:57.175339', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:57 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:57.175330", "updated_at": "2026-01-18T22:03:57.175339", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.568s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.7014s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:57 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:57 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:57.324079', 'updated_at': '2026-01-18T22:03:57.324088', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:57 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:57.324079", "updated_at": "2026-01-18T22:03:57.324088", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.716s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17823 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.8589s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:57 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:57 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:57.481610', 'updated_at': '2026-01-18T22:03:57.481618', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:57 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:57.481610", "updated_at": "2026-01-18T22:03:57.481618", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 0.895s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 1.031s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:57 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:57 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:57.653217', 'updated_at': '2026-01-18T22:03:57.653225', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:57 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:57.653217", "updated_at": "2026-01-18T22:03:57.653225", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 1.045s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 1.168s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:57 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:57 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:57 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:57 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:57 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine [cached since 1.289s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:57 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:03:57 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:57 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.411s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.425s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:58 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:58.053517', 'updated_at': '2026-01-18T22:03:58.053527', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 22:03:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:58.053517", "updated_at": "2026-01-18T22:03:58.053527", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.448s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:58 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 22:03:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:58.070000', 'updated_at': '2026-01-18T22:03:58.070009', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:58.070000", "updated_at": "2026-01-18T22:03:58.070009", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.464s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.621s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.631s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:58 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Task 1', 'description': 'Description for Task 1', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:58.255778', 'updated_at': '2026-01-18T22:03:58.255789', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Test User', 'email': 'test@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 22:03:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Task 1", "description": "Description for Task 1", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:58.255778", "updated_at": "2026-01-18T22:03:58.255789", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Test User", "email": "test@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.648s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:58 INFO  homeplanner.tasks HTTP create: task_id=2
2026-01-18 22:03:58 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 2, 'task': {'title': 'Task 2', 'description': 'Description for Task 2', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-19T09:00:00', 'alarm': False, 'group_id': None, 'id': 2, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:58.270377', 'updated_at': '2026-01-18T22:03:58.270385', 'readable_config': '19   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:58 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 2, "task": {"title": "Task 2", "description": "Description for Task 2", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-19T09:00:00", "alarm": false, "group_id": null, "id": 2, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:58.270377", "updated_at": "2026-01-18T22:03:58.270385", "readable_config": "19   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.662s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17822 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.783s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.793s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.801s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.918s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.928s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 1.936s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/users "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 2.057s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 2.177s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/groups "HTTP/1.1 200 OK"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:58 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:58 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:58 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:58 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:58 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine [cached since 2.292s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:58 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 22:03:58 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:58 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 2.406s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/invalid "HTTP/1.1 400 Bad Request"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 2.524s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 2.644s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17821 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 2.822s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:59 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:59.444764', 'updated_at': '2026-01-18T22:03:59.444772', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:59.444764", "updated_at": "2026-01-18T22:03:59.444772", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 2.836s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 3.041s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:03:59 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:03:59 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Test Task', 'description': 'Description for Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:03:59.663427', 'updated_at': '2026-01-18T22:03:59.663435', 'readable_config': '18   09:00', 'assigned_user_ids': [], 'assignees': []}}
2026-01-18 22:03:59 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Test Task", "description": "Description for Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:03:59.663427", "updated_at": "2026-01-18T22:03:59.663435", "readable_config": "18   09:00", "assigned_user_ids": [], "assignees": []}}
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 3.055s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.conflict_resolver Completion conflict resolved: client wins (newer)
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 3.195s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:03:59 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:03:59 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:03:59 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:03:59 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:03:59 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine [cached since 3.322s ago] ('last_task_update', 1, 0)
2026-01-18 22:03:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:03:59 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:03:59 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:03:59 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:04:00 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:04:00 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:04:00 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:04:00 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:04:00 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.461s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.471s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:04:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:04:00 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:04:00 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:04:00 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:04:00 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:04:00 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.596s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.605s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:04:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:04:00 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:04:00 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:04:00 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:04:00 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:04:00 DEBUG homeplanner.day_change_scheduler Waiting 17820 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.734s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/users/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.743s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:04:00 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:04:00 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:04:00.366938', 'updated_at': '2026-01-18T22:04:00.366947', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 22:04:00 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:04:00.366938", "updated_at": "2026-01-18T22:04:00.366947", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.759s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.768s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.conflict_resolver Description conflict resolved: client wins (newer)
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.2/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.779s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: GET http://testserver/api/v0.2/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:04:00 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:04:00 DEBUG asyncio Using selector: EpollSelector
2026-01-18 22:04:00 INFO  homeplanner.database Initializing database tables...
2026-01-18 22:04:00 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:04:00 INFO  homeplanner.database Database tables created successfully
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 22:04:00 DEBUG homeplanner.day_change_scheduler Waiting 17819 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.921s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/users/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.931s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 WARNING homeplanner.tasks create_task: timestamp not provided, using server current time
2026-01-18 22:04:00 INFO  homeplanner.tasks HTTP create: task_id=1
2026-01-18 22:04:00 INFO  homeplanner.tasks Broadcast via anyio.from_thread: {'type': 'task_update', 'action': 'created', 'task_id': 1, 'task': {'title': 'Sync Test Task', 'description': 'Description for Sync Test Task', 'task_type': 'one_time', 'recurrence_type': None, 'recurrence_interval': None, 'interval_days': None, 'reminder_time': '2026-01-18T09:00:00', 'alarm': False, 'group_id': None, 'id': 1, 'enabled': True, 'completed': False, 'last_shown_at': None, 'created_at': '2026-01-18T22:04:00.556003', 'updated_at': '2026-01-18T22:04:00.556012', 'readable_config': '18   09:00', 'assigned_user_ids': [1], 'assignees': [{'id': 1, 'name': 'Sync Test User', 'email': 'sync@example.com', 'role': 'regular', 'is_active': True}]}}
2026-01-18 22:04:00 INFO  homeplanner.realtime WS broadcast: targets=0, payload={"type": "task_update", "action": "created", "task_id": 1, "task": {"title": "Sync Test Task", "description": "Description for Sync Test Task", "task_type": "one_time", "recurrence_type": null, "recurrence_interval": null, "interval_days": null, "reminder_time": "2026-01-18T09:00:00", "alarm": false, "group_id": null, "id": 1, "enabled": true, "completed": false, "last_shown_at": null, "created_at": "2026-01-18T22:04:00.556003", "updated_at": "2026-01-18T22:04:00.556012", "readable_config": "18   09:00", "assigned_user_ids": [1], "assignees": [{"id": 1, "name": "Sync Test User", "email": "sync@example.com", "role": "regular", "is_active": true}]}}
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/tasks/ "HTTP/1.1 201 Created"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.949s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/hash-check "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.961s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  homeplanner.conflict_resolver Description conflict resolved: client wins (newer)
2026-01-18 22:04:00 INFO  httpx HTTP Request: POST http://testserver/api/v0.3/sync/resolve-conflicts "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine [cached since 3.976s ago] ('last_task_update', 1, 0)
2026-01-18 22:04:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:04:00 INFO  httpx HTTP Request: GET http://testserver/api/v0.3/sync/full-state/tasks "HTTP/1.1 200 OK"
2026-01-18 22:04:00 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 22:05:52 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 22:05:52 INFO  homeplanner.system uvicorn level: 10
2026-01-18 22:05:52 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 22:05:52 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 22:05:52 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 22:05:52 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 22:05:52 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 22:05:52 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 22:05:52 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 22:05:52 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:06:48 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 22:06:48 INFO  homeplanner.realtime WS connect: id=140273443374960 host=192.168.1.39 port=41114 total=2
2026-01-18 22:07:18 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 22:07:18 INFO  homeplanner.system uvicorn level: 10
2026-01-18 22:07:18 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 22:07:18 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 22:07:18 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 22:07:18 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 22:07:18 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 22:07:18 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 22:07:18 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 22:07:18 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine [generated in 0.00035s] ('last_task_update', 1, 0)
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:20:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine [cached since 0.004948s ago] ('last_task_update', 1, 0)
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine [generated in 0.00030s] ()
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine [generated in 0.00042s] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:20:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 22:20:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine [cached since 900.8s ago] ('last_task_update', 1, 0)
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:35:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine [cached since 900.8s ago] ('last_task_update', 1, 0)
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine [cached since 900.8s ago] ()
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine [cached since 900.8s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:35:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 22:35:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] ('last_task_update', 1, 0)
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 22:50:01 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] ('last_task_update', 1, 0)
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] ()
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine [cached since 1801s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 22:50:01 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 22:50:01 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine [cached since 2702s ago] ('last_task_update', 1, 0)
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:05:02 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine [cached since 2702s ago] ('last_task_update', 1, 0)
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine [cached since 2702s ago] ()
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine [cached since 2702s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:05:02 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 23:05:02 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine [cached since 3603s ago] ('last_task_update', 1, 0)
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:20:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine [cached since 3603s ago] ('last_task_update', 1, 0)
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine [cached since 3603s ago] ()
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine [cached since 3603s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:20:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 23:20:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine [cached since 4504s ago] ('last_task_update', 1, 0)
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:35:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=True, days_ahead=None, selected_user_id=None
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine [cached since 4504s ago] ('last_task_update', 1, 0)
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks 
WHERE tasks.enabled = 1 ORDER BY tasks.reminder_time
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine [cached since 4504s ago] ()
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine [cached since 4504s ago] (2, 3, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 23, 24, 25, 26, 27, 29, 30, 31, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 32 tasks in database
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=5, title='Test Task 5 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:35:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 32 tasks to client
2026-01-18 23:35:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:37:25 INFO  homeplanner.realtime WS disconnect: id=140273443374960, total=1
2026-01-18 23:37:25 INFO  homeplanner.realtime WS disconnect: id=140273447482576, total=0
2026-01-18 23:37:25 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 23:37:26 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:37:26 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:37:26 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:37:26 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:37:26 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:37:26 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:37:26 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:37:26 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:37:26 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:37:26 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:37:27 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:37:27 INFO  homeplanner.database Initializing database tables...
2026-01-18 23:37:27 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:37:27 INFO  homeplanner.database Database tables created successfully
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:37:27 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:37:27 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 23:37:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 23:37:27 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 23:37:27 DEBUG homeplanner.day_change_scheduler Waiting 12213 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 23:37:27 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:37:27 INFO  homeplanner.realtime WS connect: id=139838450070736 host=192.168.1.39 port=40204 total=1
2026-01-18 23:37:28 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 23:37:28 INFO  homeplanner.realtime WS connect: id=139838447831200 host=192.168.1.2 port=43322 total=2
2026-01-18 23:38:23 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:38:23 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:38:23 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:38:23 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:38:23 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:38:23 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:38:23 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:38:23 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:38:23 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:38:23 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:29 INFO  homeplanner.realtime WS disconnect: id=139838447831200, total=1
2026-01-18 23:38:29 INFO  homeplanner.realtime WS disconnect: id=139838450070736, total=0
2026-01-18 23:38:29 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 23:38:30 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:38:30 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:38:30 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:38:30 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:38:30 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:38:30 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:38:30 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:38:30 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:38:30 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:38:30 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:31 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:31 INFO  homeplanner.database Initializing database tables...
2026-01-18 23:38:31 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:38:31 INFO  homeplanner.database Database tables created successfully
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:31 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:38:31 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 23:38:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 23:38:31 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 23:38:31 DEBUG homeplanner.day_change_scheduler Waiting 12149 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 23:38:31 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:38:31 INFO  homeplanner.realtime WS connect: id=139750923236560 host=192.168.1.39 port=46834 total=1
2026-01-18 23:38:32 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 23:38:32 INFO  homeplanner.realtime WS connect: id=139750919162016 host=192.168.1.2 port=41978 total=2
2026-01-18 23:38:40 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:38:40 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:38:40 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:38:40 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:38:40 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:38:40 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:38:40 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:38:40 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:38:40 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:38:40 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:45 INFO  homeplanner.realtime WS disconnect: id=139750919162016, total=1
2026-01-18 23:38:45 INFO  homeplanner.realtime WS disconnect: id=139750923236560, total=0
2026-01-18 23:38:45 INFO  homeplanner.day_change_scheduler DayChangeScheduler stopped
2026-01-18 23:38:46 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:38:46 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:38:46 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:38:46 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:38:46 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:38:46 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:38:46 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:38:46 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:38:46 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:38:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:46 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:47 INFO  homeplanner.database Initializing database tables...
2026-01-18 23:38:47 INFO  homeplanner.database Database URL: sqlite:///./backend/db/homeplanner.db
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("app_metadata")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("events")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_users")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("tasks")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("task_history")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:38:47 INFO  homeplanner.database Database tables created successfully
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite~_%' ESCAPE '~' ORDER BY name
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine [raw sql] ()
2026-01-18 23:38:47 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:38:47 INFO  homeplanner.database Available tables after init: ['app_metadata', 'events', 'groups', 'task_history', 'task_users', 'tasks', 'users']
2026-01-18 23:38:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler task created
2026-01-18 23:38:47 INFO  homeplanner.day_change_scheduler DayChangeScheduler started - waiting for day changes
2026-01-18 23:38:47 DEBUG homeplanner.day_change_scheduler Waiting 12133 seconds until next day check at 2026-01-19 03:01:00
2026-01-18 23:38:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.2, origin: http://192.168.1.2:8000
2026-01-18 23:38:47 INFO  homeplanner.realtime WS connect: id=140358539474128 host=192.168.1.2 port=54908 total=1
2026-01-18 23:38:47 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:38:47 INFO  homeplanner.realtime WS connect: id=140358535366816 host=192.168.1.39 port=42060 total=2
2026-01-18 23:38:51 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:38:51 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:38:51 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:38:51 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:38:51 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:38:51 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:38:51 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:38:51 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:38:51 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:38:51 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:38:54 INFO  homeplanner.realtime WS disconnect: id=140358535366816, total=1
2026-01-18 23:38:58 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:38:58 INFO  homeplanner.realtime WS connect: id=140358535309232 host=192.168.1.39 port=40850 total=2
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine [generated in 0.00040s] ('last_task_update', 1, 0)
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:38:59 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine [cached since 0.00493s ago] ('last_task_update', 1, 0)
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine [generated in 0.00041s] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:38:59 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:38:59 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.284s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:00 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.29s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.282s ago] ()
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.278s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:39:00 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.326s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [generated in 0.00054s] ()
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [cached since 1.35s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:00 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:39:00 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine [generated in 0.00054s] ()
2026-01-18 23:39:00 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:39:00 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:39:00 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:02 INFO  homeplanner.realtime WS disconnect: id=140358535309232, total=1
2026-01-18 23:39:03 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:39:03 INFO  homeplanner.realtime WS connect: id=140358535192352 host=192.168.1.39 port=39678 total=2
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine [cached since 5.097s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:04 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine [cached since 5.1s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine [cached since 5.092s ago] ()
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine [cached since 5.087s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:39:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:39:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.358s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:05 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.366s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.36s ago] ()
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.359s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:39:05 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.415s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 5.085s ago] ()
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 6.439s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:05 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:39:05 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine [cached since 5.089s ago] ()
2026-01-18 23:39:05 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:39:05 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:39:05 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:06 INFO  homeplanner.realtime WS disconnect: id=140358535192352, total=1
2026-01-18 23:39:10 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:39:10 INFO  homeplanner.realtime WS connect: id=140358535869520 host=192.168.1.39 port=39736 total=2
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine [cached since 11.56s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine [cached since 11.56s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine [cached since 11.56s ago] ()
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine [cached since 11.55s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:39:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:39:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.78s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:11 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.78s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.78s ago] ()
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.77s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:39:11 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.82s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 11.49s ago] ()
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 12.84s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:11 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:39:11 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine [cached since 11.48s ago] ()
2026-01-18 23:39:11 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:39:11 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:39:11 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine [cached since 15.4s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine [cached since 14.07s ago] ()
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine [cached since 15.42s ago] ('last_task_update', 1, 0)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:39:14 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:39:14 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine [cached since 14.06s ago] ()
2026-01-18 23:39:14 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:39:14 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:39:14 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine [cached since 79.14s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:18 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:40:18 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine [cached since 77.78s ago] ()
2026-01-18 23:40:18 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:40:18 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:40:18 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:50 INFO  homeplanner.system uvicorn.access level: 30
2026-01-18 23:40:50 INFO  homeplanner.system uvicorn level: 10
2026-01-18 23:40:50 INFO  homeplanner.system uvicorn.access handlers: []
2026-01-18 23:40:50 INFO  homeplanner.system uvicorn handlers: []
2026-01-18 23:40:50 INFO  homeplanner.system Logging configured: level=DEBUG, log_dir=/mnt/ZFS/Dev/HomePlanner/backend
2026-01-18 23:40:50 DEBUG homeplanner.system Diagnostic: DEBUG level test
2026-01-18 23:40:50 INFO  homeplanner.system Diagnostic: INFO level test
2026-01-18 23:40:50 WARNING homeplanner.system Diagnostic: WARNING level test
2026-01-18 23:40:50 ERROR homeplanner.system Diagnostic: ERROR level test
2026-01-18 23:40:50 ERROR homeplanner.system Test ERROR log in main.py to check if ERROR messages are written
2026-01-18 23:40:54 INFO  homeplanner.realtime WS disconnect: id=140358535869520, total=1
2026-01-18 23:40:57 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:40:57 INFO  homeplanner.realtime WS connect: id=140358534921296 host=192.168.1.39 port=41346 total=2
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine [cached since 118.6s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:57 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine [cached since 118.6s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine [cached since 118.6s ago] ()
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine [cached since 118.6s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:40:57 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:40:57 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.8s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:58 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.8s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.8s ago] ()
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.8s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:40:58 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.9s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 118.5s ago] ()
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 119.9s ago] ('last_task_update', 1, 0)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:40:58 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:40:58 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine [cached since 118.5s ago] ()
2026-01-18 23:40:58 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:40:58 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:40:58 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:01 INFO  homeplanner.realtime WS disconnect: id=140358534921296, total=1
2026-01-18 23:41:02 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:41:02 INFO  homeplanner.realtime WS connect: id=140358534538288 host=192.168.1.39 port=39852 total=2
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine [cached since 124s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:03 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine [cached since 124s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine [cached since 124s ago] ()
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine [cached since 124s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:41:03 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:41:03 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.2s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:04 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.2s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.2s ago] ()
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.2s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:41:04 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.2s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 123.9s ago] ()
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 125.3s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:04 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:41:04 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine [cached since 123.9s ago] ()
2026-01-18 23:41:04 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:41:04 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:41:04 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:05 INFO  homeplanner.realtime WS disconnect: id=140358534538288, total=1
2026-01-18 23:41:08 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:41:08 INFO  homeplanner.realtime WS connect: id=140358535541200 host=192.168.1.39 port=39870 total=2
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine [cached since 130.1s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:09 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine [cached since 130.1s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine [cached since 130.1s ago] ()
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine [cached since 130.1s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:41:09 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:41:09 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.3s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:10 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.3s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.3s ago] ()
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.3s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:41:10 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.3s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 130s ago] ()
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 131.4s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:10 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:41:10 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine [cached since 130s ago] ()
2026-01-18 23:41:10 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:41:10 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:41:10 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine [cached since 133.9s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine [cached since 132.6s ago] ()
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine [cached since 133.9s ago] ('last_task_update', 1, 0)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:41:12 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:41:12 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine [cached since 132.6s ago] ()
2026-01-18 23:41:12 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:41:12 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:41:12 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine [cached since 386.2s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:25 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:45:25 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine [cached since 384.9s ago] ()
2026-01-18 23:45:25 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:45:25 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:45:25 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:34 INFO  homeplanner.realtime WS disconnect: id=140358535541200, total=1
2026-01-18 23:45:37 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:45:37 INFO  homeplanner.realtime WS connect: id=140358534754240 host=192.168.1.39 port=48238 total=2
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine [cached since 398.8s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:37 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine [cached since 398.8s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine [cached since 398.8s ago] ()
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine [cached since 398.8s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:45:37 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:45:37 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:39 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400s ago] ()
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:45:39 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400.1s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 398.7s ago] ()
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 400.1s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:39 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:45:39 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine [cached since 398.7s ago] ()
2026-01-18 23:45:39 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:45:39 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:45:39 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine [cached since 402.6s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine [cached since 401.3s ago] ()
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine [cached since 402.6s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:41 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:45:41 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine [cached since 401.3s ago] ()
2026-01-18 23:45:41 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:45:41 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:45:41 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine [cached since 410.4s ago] ('last_task_update', 1, 0)
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:45:49 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:45:49 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine [cached since 409s ago] ()
2026-01-18 23:45:49 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:45:49 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:45:49 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:28 INFO  homeplanner.realtime WS disconnect: id=140358534754240, total=1
2026-01-18 23:55:41 INFO  homeplanner.realtime WebSocket connection attempt from 192.168.1.39, origin: None
2026-01-18 23:55:41 INFO  homeplanner.realtime WS connect: id=140358534860784 host=192.168.1.39 port=45238 total=2
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:42 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] ()
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:55:42 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:55:42 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:43 INFO  homeplanner.tasks HTTP REQUEST: get_tasks called from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 1] Request received from 192.168.1.39, enabled_only=False, days_ahead=None, selected_user_id=None
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT tasks.id AS tasks_id, tasks.title AS tasks_title, tasks.description AS tasks_description, tasks.task_type AS tasks_task_type, tasks.recurrence_type AS tasks_recurrence_type, tasks.recurrence_interval AS tasks_recurrence_interval, tasks.interval_days AS tasks_interval_days, tasks.reminder_time AS tasks_reminder_time, tasks.alarm AS tasks_alarm, tasks.enabled AS tasks_enabled, tasks.completed AS tasks_completed, tasks.group_id AS tasks_group_id, tasks.last_shown_at AS tasks_last_shown_at, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at 
FROM tasks ORDER BY tasks.reminder_time
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] ()
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT tasks_1.id AS tasks_1_id, users.id AS users_id, users.name AS users_name, users.email AS users_email, users.role AS users_role, users.is_active AS users_is_active, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM tasks AS tasks_1 JOIN task_users AS task_users_1 ON tasks_1.id = task_users_1.task_id JOIN users ON users.id = task_users_1.user_id 
WHERE tasks_1.id IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] (2, 3, 4, 5, 8, 9, 10, 11, 12, 14, 15, 16, 17, 20, 21, 22, 23, 24, 25, 26, 27, 29, 30, 31, 32, 33, 34, 35, 1, 6, 18, 7, 13, 28, 19)
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 2] Found 35 tasks in database
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [TASK 1] id=2, title='Test Task 2 (Day -3, Type recurring)', enabled=True, task_type=TaskType.RECURRING
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [TASK 2] id=3, title='Test Task 3 (Day -3, Type one_time)', enabled=True, task_type=TaskType.ONE_TIME
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [TASK 3] id=4, title='Test Task 4 (Day -3, Type one_time)', enabled=False, task_type=TaskType.ONE_TIME
2026-01-18 23:55:43 INFO  homeplanner.tasks get_tasks: [SERVER STEP 3] Returning 35 tasks to client
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine COMMIT
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] ()
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1004s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:43 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:55:43 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine [cached since 1003s ago] ()
2026-01-18 23:55:43 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:55:43 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:55:43 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine [cached since 1007s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine SELECT groups.id AS groups_id, groups.name AS groups_name, groups.description AS groups_description, groups.created_at AS groups_created_at, groups.updated_at AS groups_updated_at 
FROM groups ORDER BY groups.name
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine [cached since 1006s ago] ()
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine SELECT app_metadata."key" AS app_metadata_key, app_metadata.value AS app_metadata_value, app_metadata.updated_at AS app_metadata_updated_at 
FROM app_metadata 
WHERE app_metadata."key" = ?
 LIMIT ? OFFSET ?
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine [cached since 1007s ago] ('last_task_update', 1, 0)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:45 INFO  homeplanner.api.users GET /users endpoint called with simple=True
2026-01-18 23:55:45 INFO  homeplanner.users Starting query for simple users
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-18 23:55:45 INFO  sqlalchemy.engine.Engine SELECT users.id AS users_id, users.name AS users_name 
FROM users 
WHERE users.is_active = 1 ORDER BY users.name
2026-01-18 23:55:46 INFO  sqlalchemy.engine.Engine [cached since 1006s ago] ()
2026-01-18 23:55:46 INFO  homeplanner.users Query executed successfully, found 2 active users
2026-01-18 23:55:46 INFO  homeplanner.api.users Returning 2 active users (simple mode) via API
2026-01-18 23:55:46 INFO  sqlalchemy.engine.Engine ROLLBACK
2026-01-18 23:55:50 INFO  homeplanner.realtime WS disconnect: id=140358534860784, total=1
