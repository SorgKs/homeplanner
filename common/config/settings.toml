# ============================================================================
# Шаблон настроек HomePlanner
#
# 1. Скопируйте этот файл и заполните значения под свою машину.
# 2. Не коммитьте персональные настройки: используйте `git update-index --skip-worktree`
#    или поддерживайте отдельную копию (например, settings.local.toml).
# 3. Все параметры описаны ниже — оставьте комментарии для следующего разработчика.
# ============================================================================

[database]
# URL подключения к БД (SQLite, PostgreSQL и т.д.)
url = "sqlite:///./homeplanner.db"

[security]
# Секретный ключ для подписи JWT (обязательно заменить в production)
secret_key = "change-me-in-production"
# Алгоритм подписи токенов
algorithm = "HS256"
# Время жизни access-токена (минуты)
access_token_expire_minutes = 30

[server]
# Адрес, на котором слушает backend (0.0.0.0 — все интерфейсы)
host = "0.0.0.0"
# Порт backend сервера FastAPI
port = 8000
# Режим разработки (true включает автоперезапуск)
debug = true

[cors]
# Список адресов веб-клиентов, которым разрешён доступ к API
# Поддерживаются паттерны с * для подсетей (например, "http://192.168.1.*:8080")
# Примечание: Если фронтенд обслуживается тем же сервером FastAPI (порт 8000), CORS не нужен
# CORS нужен только для отдельно развёрнутого фронтенда на другом порту/хосте
origins = [
    "http://localhost:8080",
    "http://localhost:8081",
    "http://192.168.1.*:8080",
    "http://192.168.1.*:8081",
]

[app]
# Час начала «новых суток» приложения (по умолчанию 3 утра)
# Все времена в системе — локальное время сервера, без конвертации таймзон
day_start_hour = 3

[api]
# Версия API без префикса `/api/v`
version = "0.2"

[network]
# Хост, по которому клиенты обращаются к backend (например IP сервера)
host = "localhost"
# Порт, по которому клиенты обращаются к backend
port = 8000

[frontend]
# Хост, на котором развёрнут фронтенд (для локальной разработки)
host = "localhost"
# Порт фронтенда (если SPA/DevServer работает отдельно)
port = 8000

[websocket]
# Суффикс пути WebSocket-канала (префикс `/api/vX` добавляется автоматически)
tasks_stream_path = "/tasks/stream"
