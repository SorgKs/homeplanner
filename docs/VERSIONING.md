# Схема версионирования HomePlanner

Единая версия проекта состоит из двух чисел `MAJOR.MINOR`. Для каждой подсистемы (backend, web, android) используется собственный patch-компонент, образуя версию `MAJOR.MINOR.PATCH`.

- `MAJOR` — несовместимые изменения архитектуры, меняется синхронно для всех подсистем.
- `MINOR` — функциональные релизы, которые должны быть доступны на всех платформах.
- `PATCH` — сервисные релизы конкретной подсистемы (например, `0.2.3` для backend).

Мажорная и минорная части задаются в JSON-конфиге `config/version.json`. Патч-версии хранятся в отдельных файлах компонентов (`backend/version.json`, `frontend/version.json`, `android/version.json`), чтобы каждая подсистема могла выпускать сервисные релизы независимо.

## Обновление версий

1. При повышении `MAJOR` или `MINOR` обновите `config/version.json` и обнулите patch-номера в конфигурациях подсистем (`backend/version.json`, `frontend/version.json`, `android/version.json`).
2. При изменении одной подсистемы увеличьте её patch в соответствующем конфиге (например, `frontend/version.json`).
3. Отразите изменения в changelog и профильных документах (планы, релизные заметки).

## Использование в коде

- Общая версия доступна через функцию `get_project_version()`.
- Функция `compose_component_version(component, patch=None)` формирует версию подсистемы; если patch не передан, берётся из конфигурации компонента.
- Backend использует свойство `Settings.backend_version`, аналогичные свойства должны быть реализованы для web и Android.


