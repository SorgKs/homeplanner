Документ фиксирует стандарты расположения файлов и артефактов в репозитории HomePlanner. Все положения обязательны к соблюдению. Язык документа — русский.

## 1. Общие принципы
- Структура проекта должна быть предсказуемой и отражать назначение файлов: код, тесты, документация, конфигурации и артефакты хранятся в отдельных каталогах.
- Любые отклонения от структуры согласуются с владельцем проекта и документируются в `docs/CHANGELOG_HISTORY.md`.
- Не хранить во внешнем репозитории секреты, временные файлы и результаты локальных экспериментов.

## 2. Документация
- Основной каталог — `docs/`.
- Внутри поддерживаются тематические подразделы (`docs/API.md`, `docs/DEVELOPMENT.md`, `docs/TASKS_FORMAT.md` и т. п.).
- Медиафайлы и дополнительные материалы размещаются в подкаталогах (`docs/screenshots/`, `docs/samples/`).
- Отчёты и инструкции по тестированию фиксируются в профильных документах (`docs/TESTING_CONVENTIONS.md`, таблицы smoke-наборов и др.).

## 3. Прикладной код
- Backend на Python расположен в `backend/` с разбиением на `models/`, `schemas/`, `services/`, `routers/`, `config`. Все модули содержат аннотации типов и docstring. Стандартные каталоги артефактов включают `backend/db/` (SQLite-файлы и миграции данных) и `backend/logs/` (логи приложения).
- Веб-клиент (SPA) — в `frontend/` с разделением на `app`, `api`, `utils`, статические ресурсы и т. д.
- Android-приложение — в `android/`. Внутренняя структура следует стандарту Gradle/Android (`app/src/main`, `app/src/test`, `app/src/androidTest`). Журналы и вспомогательные выгрузки сохраняются в `android/logs/`.
- Общие библиотеки или пакеты выносятся в отдельные директории (`src/` или `packages/`) после согласования.
- Общие модули проекта (например, версионирование) располагаются в `common/`.

## 4. Автоматические тесты
- Python-тесты — в корневом `tests/`, структура зеркалирует backend-модули. Общие фикстуры и фабрики: `tests/conftest.py`, `tests/factories/`.
- Тесты веб-клиента — в `frontend/tests/` с подразделами `unit/`, `integration/`, `e2e/`.
- Android-тесты:
  - Юнит — `android/app/src/test/java`.
  - Инструментальные/UI — `android/app/src/androidTest/java`.
- Дополнительные тестовые ресурсы (mock-данные, schemas) хранятся рядом с соответствующими тестами или в `tests/resources/`.

## 5. Отчёты и артефакты
- Backend/pytest: отчёты покрытия и junit-результаты — в `tests/reports/` (подкаталоги `coverage/`, `junit/`). Лог-файлы runtime сохраняются в `backend/logs/`.
- Веб-клиент: HTML-отчёты vitest/playwright — `frontend/tests/reports/`.
- Веб-клиент: дополнительные логи (e2e, Playwright) складываются в `frontend/logs/`.
- Android: отчёты Gradle — `android/app/build/reports/` (JUnit, lint, coverage). Системные логи и выгрузки — в `android/logs/`.
- CI-конвейеры публикуют эти каталоги как артефакты. Локальные копии при необходимости очищаются перед коммитом.

## 6. Скрипты и утилиты
- Временные и служебные скрипты хранятся в `scripts/` с подкаталогами по доменам (`scripts/db/`, `scripts/tools/`).
- Каждый скрипт снабжается короткой инструкцией (комментарий в начале файла или README в каталоге).
- Скрипты, влияющие на инфраструктуру, согласуются отдельно и документируются в `docs/DEVELOPMENT.md`.

## 7. Конфигурация
- Конфиги CI/CD и автоматизации — в `.github/`, `.gitlab/` и аналогичных скрытых каталогах.
- Python-настройки (lint, форматирование, зависимостии) — в `pyproject.toml` и других файлах в корне.
- Фронтенд-конфиги (например, `vite.config.ts`, `playwright.config.ts`) располагаются в `frontend/`.
- Android-конфигурации — `android/build.gradle.kts`, `android/app/build.gradle.kts`, `gradle.properties` и др.
- Переменные окружения: `.env` и `.env.example` в корне. Дополнительные файлы окружений (например, `.env.test`) размещаются рядом и не содержат секретов.

## 8. Временные и кеш-файлы
- Временные каталоги (`tmp/`, `sandbox/`) допускаются, но должны быть перечислены в `.gitignore`.
- Кеши инструментов (`.pytest_cache/`, `.ruff_cache/`, `node_modules/`, `android/app/build/`) не коммитятся.
- Перед публикацией изменений выполняется очистка временных файлов (при необходимости командой `git clean` с подтверждением владельца проекта).

---
Документ подлежит актуализации при изменении структуры проекта. Ответственные за новые направления обязаны обновить данный файл и уведомить команду.

